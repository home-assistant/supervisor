{"version":3,"sources":["webpack:///../src/layouts/hass-error-screen.ts","webpack:///../src/layouts/hass-router-page.ts","webpack:///../src/dialogs/make-dialog-manager.ts","webpack:///../src/mixins/provide-hass-lit-mixin.ts","webpack:///./src/resources/hassio-style.js","webpack:///../src/mixins/navigate-mixin.js","webpack:///./src/dashboard/hassio-addons.js","webpack:///./src/dashboard/hassio-hass-update.js","webpack:///./src/dashboard/hassio-dashboard.ts","webpack:///./src/snapshots/hassio-snapshots.ts","webpack:///./src/dialogs/snapshot/show-dialog-hassio-snapshot.ts","webpack:///./src/addon-store/hassio-addon-repository.ts","webpack:///./src/components/hassio-filter-addons.ts","webpack:///./src/addon-store/hassio-repositories-editor.ts","webpack:///../src/layouts/loading-screen.ts","webpack:///./src/components/hassio-search-input.ts","webpack:///./src/addon-store/hassio-addon-store.ts","webpack:///./src/system/hassio-host-info.js","webpack:///./src/system/hassio-supervisor-info.js","webpack:///./src/system/hassio-supervisor-log.js","webpack:///./src/system/hassio-system.js","webpack:///./src/hassio-tabs-router.ts","webpack:///./src/hassio-pages-with-tabs.ts","webpack:///../src/common/dom/scroll-to-target.ts","webpack:///./src/hassio-main.ts","webpack:///../src/common/dom/apply_themes_on_element.ts","webpack:///./src/ansi-to-html.js","webpack:///../src/common/dom/fire_event.ts","webpack:///../src/resources/ha-style.ts","webpack:///../src/mixins/events-mixin.js","webpack:///../src/components/buttons/ha-progress-button.js","webpack:///../src/components/buttons/ha-call-api-button.js","webpack:///../src/common/datetime/relative_time.ts","webpack:///../src/mixins/localize-mixin.js","webpack:///../src/components/ha-relative-time.js","webpack:///./src/components/hassio-card-content.ts","webpack:///../src/common/navigate.ts","webpack:///../src/data/hassio.ts","webpack:///../src/resources/styles.ts","webpack:///../src/data/persistent_notification.ts","webpack:///../src/components/ha-menu-button.ts","webpack:///../src/common/entity/compute_domain.ts","webpack:///../src/layouts/hass-subpage.ts","webpack:///../src/components/ha-paper-icon-button-arrow-prev.ts","webpack:///../src/layouts/hass-loading-screen.ts","webpack:///./src/dialogs/markdown/show-dialog-hassio-markdown.ts"],"names":["customElement","property","html","_templateObject","this","error","_backTapped","history","back","css","_templateObject2","LitElement","HassRouterPage","hass_router_page_decorate","_initialize","_UpdatingElement","_UpdatingElement2","_getPrototypeOf2","_this","hass_router_page_classCallCheck","_len","arguments","length","args","Array","_key","hass_router_page_getPrototypeOf","call","apply","concat","hass_router_page_assertThisInitialized","hass_router_page_inherits","F","d","kind","decorators","key","value","memoizeOne","route","dividerPos","path","indexOf","prefix","substr","changedProps","_this2","_get","prototype","routerOptions","routes","initialLoad","_initialLoadDone","has","defaultPage","undefined","navigate","newPage","subpathStart","extractPage","routeOptions","beforeRender","result","_currentPage","lastChild","removeChild","loadProm","load","Promise","resolve","catch","err","console","errorEl","document","createElement","appendChild","showLoading","created","setTimeout","createLoadingScreen","_currentLoadProm","then","_createPanel","updatePageEl","_this3","options","preloadAll","Object","values","forEach","hass_router_page_typeof","requestUpdate","_rebuild","regeneratorRuntime","mark","_callee","oldRoute","wrap","_context","prev","next","abrupt","updateComplete","stop","_this4","tag","_pageEl","_changedProps","_computeTail","page","panelEl","_cache","cacheAll","cache","UpdatingElement","LOADED","showDialog","_ref","make_dialog_manager_asyncToGenerator","element","root","dialogImport","dialogTag","dialogParams","dialogEl","provideHass","sent","_x","_x2","_x3","_x4","_x5","documentContainer","setAttribute","hassioStyle","hassio_style_templateObject","innerHTML","toString","head","content","dedupingMixin","superClass","_superClass","_class","navigate_mixin_classCallCheck","navigate_mixin_possibleConstructorReturn","navigate_mixin_getPrototypeOf","navigate_mixin_inherits","HassioAddons","NavigateMixin","PolymerElement","hassio_addons_templateObject","hass","addons","a","b","name","addon","installed","version","state","ev","model","slug","target","blur","customElements","define","HassioHassUpdate","hassio_hass_update_templateObject","hassInfo","String","hassio_hass_update_get","hassio_hass_update_getPrototypeOf","addEventListener","apiCalled","detail","success","errors","response","hassio_hass_update_typeof","body","message","last_version","includes","hassio_dashboard_templateObject","supervisorInfo","hassio_dashboard_templateObject2","HassioSnapshots","checked","reloadHassioSnapshots","_updateSnapshots","hassio_snapshots_templateObject","_snapshotName","_handleTextValueChanged","_snapshotType","_handleRadioValueChanged","hassio_snapshots_templateObject2","_folderList","map","folder","idx","_templateObject3","_folderChecked","_addonList","_templateObject4","_addonChecked","_snapshotHasPassword","_handleCheckboxValueChanged","_templateObject5","_snapshotPassword","_error","_templateObject6","_creatingSnapshot","_createSnapshot","_snapshots","_templateObject7","snapshot","_templateObject8","_snapshotClicked","_computeDetails","date","type","hassio_snapshots_get","hassio_snapshots_getPrototypeOf","sort","input","currentTarget","getAttribute","curIdx","assign","_ref2","_callee2","_context2","fetchHassioSnapshots","t0","_callee3","data","folders","_data","_context3","Date","toLocaleDateString","navigator","language","weekday","year","month","day","password","createHassioFullSnapshot","filter","createHassioPartialSnapshot","fireEvent","finish","protected","onDelete","all","__webpack_require__","e","bind","_templateObject9","HassioAddonRepositoryEl","Fuse","keys","caseSensitive","minMatchCharLength","threshold","search","filterAndSort","toUpperCase","repo","_getAddons","hassio_addon_repository_templateObject","hassio_addon_repository_templateObject2","maintainer","url","hassio_addon_repository_templateObject3","available","addonTapped","description","computeIcon","computeIconTitle","computeIconClass","hassio_addon_repository_templateObject4","HassioRepositoriesEditor","repos","_sortedRepos","hassio_repositories_editor_templateObject","repeat","hassio_repositories_editor_templateObject2","computeRemoveRepoData","_repoUrl","_urlChanged","computeAddRepoData","hassio_repositories_editor_get","hassio_repositories_editor_getPrototypeOf","repoList","addons_repositories","source","list","push","hassio_repositories_editor_templateObject3","loading_screen_templateObject","loading_screen_templateObject2","hassio_search_input_templateObject","_filterInputChanged","hassio_search_input_templateObject2","_clearSearch","_filterChanged","hassio_search_input_templateObject3","sortRepos","HassioAddonStore","_repos","_addons","_filter","reloadHassioAddons","_loadData","hassio_addon_store_templateObject","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","repository","hassio_addon_store_templateObject3","_iterator","Symbol","iterator","done","return","hassio_addon_store_templateObject2","hassio_addon_store_get","hassio_addon_store_getPrototypeOf","addonsInfo","fetchHassioAddonsInfo","repositories","alert","hassio_addon_store_templateObject4","HassioHostInfo","EventsMixin","hassio_host_info_templateObject","observer","_hassOs","hassio_host_info_get","hassio_host_info_getPrototypeOf","hassio_host_info_typeof","features","callApi","resp","version_latest","feature","_objectToMarkdown","showHassioMarkdownDialog","title","obj","indent","isArray","join","curHostname","hostname","prompt","HassioSupervisorInfo","hassio_supervisor_info_templateObject","leaveBeta","channel","hassio_supervisor_info_get","hassio_supervisor_info_getPrototypeOf","hassio_supervisor_info_typeof","confirm","eventData","method","fire","HassioSupervisorLog","hassio_supervisor_log_templateObject","ANSI_HTML_STYLE","hassio_supervisor_log_get","hassio_supervisor_log_getPrototypeOf","loadData","text","$","parseTextToColoredPre","HassioSystem","hassio_system_templateObject","hostInfo","dashboard","snapshots","store","system","el","setProperties","HAS_REFRESH_BUTTON","_page","hassio_pages_with_tabs_templateObject","narrow","hassio_pages_with_tabs_templateObject2","refreshClicked","handlePageSelected","scroller","animationId","startTime","currentScrollTop","deltaScrollTop","item","shadowRoot","querySelector","header","scrollTarget","Math","random","now","scrollTop","_currentAnimationId","updateFrame","t","elapsedTime","requestAnimationFrame","refreshData","haStyle","hassio_pages_with_tabs_templateObject3","get","_keyBindings","HassioMain","_fetchData","ingress","hassio_main_get","hassio_main_getPrototypeOf","themes","localTheme","updateMeta","_themes","themeName","default_theme","styles","theme","prefixedKey","updateStyles","window","ShadyCSS","styleSubtree","meta","hasAttribute","themeColor","applyThemesOnElement","selectedTheme","_apiCalled","parent","customPanel","dockedSidebar","bubbles","_e$detail","_x6","nodeName","routeTail","_supervisorInfo","_hostInfo","_hassInfo","panel","config","_redirectIngress","fetchHassioSupervisorInfo","fetchHassioHostInfo","fetchHassioHomeAssistantInfo","_slicedToArray","addonSlug","_ref3","_ref4","fetchHassioAddonInfo","Error","createHassioSession","ingress_url","location","tries","tryUpdate","min","_temp","provide_hass_lit_mixin_classCallCheck","provide_hass_lit_mixin_possibleConstructorReturn","provide_hass_lit_mixin_getPrototypeOf","__provideHass","provide_hass_lit_mixin_inherits","provide_hass_lit_mixin_get","match","pre","re","i","bold","italic","underline","strikethrough","foregroundColor","backgroundColor","addSpan","span","classList","add","createTextNode","exec","j","index","substring","split","colorCode","parseInt","__webpack_exports__","node","event","Event","cancelable","Boolean","composed","dispatchEvent","_styles__WEBPACK_IMPORTED_MODULE_2__","cssText","haStyleDialog","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","_inherits","HaProgressButton","progress","disabled","className","container","remove","buttonTapped","stopPropagation","tempClass","HaCallApiButton","ha_call_api_button_classCallCheck","ha_call_api_button_possibleConstructorReturn","ha_call_api_button_getPrototypeOf","ha_call_api_button_templateObject","_buttonTapped","progressButton","actionSuccess","actionError","renderRoot","tests","langKey","localize","Function","computed","HaRelativeTime","ha_relative_time_classCallCheck","ha_relative_time_getPrototypeOf","updateRelative","ha_relative_time_assertThisInitialized","LocalizeMixin","datetime","datetimeObj","parsedDateTime","updateInterval","setInterval","clearInterval","newVal","dom","dateObj","timeDesc","delta","compareTime","getTime","tense","abs","floor","includeTense","relativeTime","iconClass","icon","iconTitle","_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__","_node","replace","replaceState","pushState","hassioApiResultExtractor","cookie","session","fetchHassioSnapshotInfo","fetchNotifications","conn","sendMessagePromise","subscribeUpdates","subscribeEvents","ntf","setState","HaMenuButton","_attachNotifOnConnect","_subscribeNotifications","_unsubNotifications","hasNotifications","_hasNotifications","states","some","entityId","computeDomain","hassio","_toggleMenu","_alwaysVisible","Number","frontendVersion","style","visibility","onChange","connection","notifications","createCollection","paperIconButtonClass","HaPaperIconButtonArrowPrev","_paperIconButtonClass","getComputedStyle","direction","rootnav","_handleBack","_src_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"chunk.7c785f796f428abae18d.js","sourcesContent":["import {\n  LitElement,\n  CSSResultArray,\n  css,\n  TemplateResult,\n  html,\n  property,\n  customElement,\n} from \"lit-element\";\nimport \"@material/mwc-button\";\nimport \"./hass-subpage\";\n\n@customElement(\"hass-error-screen\")\nclass HassErrorScreen extends LitElement {\n  @property()\n  public error?: string;\n\n  protected render(): TemplateResult | void {\n    return html`\n      <hass-subpage>\n        <div class=\"content\">\n          <h3>${this.error}</h3>\n          <slot>\n            <mwc-button @click=${this._backTapped}>go back</mwc-button>\n          </slot>\n        </div>\n      </hass-subpage>\n    `;\n  }\n\n  private _backTapped(): void {\n    history.back();\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      css`\n        .content {\n          height: calc(100% - 64px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-direction: column;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-error-screen\": HassErrorScreen;\n  }\n}\n","import { UpdatingElement, property, PropertyValues } from \"lit-element\";\nimport \"./hass-error-screen\";\nimport \"./hass-loading-screen\";\nimport { Route } from \"../types\";\nimport { navigate } from \"../common/navigate\";\nimport memoizeOne from \"memoize-one\";\n\nconst extractPage = (path: string, defaultPage: string) => {\n  if (path === \"\") {\n    return defaultPage;\n  }\n  const subpathStart = path.indexOf(\"/\", 1);\n  return subpathStart === -1\n    ? path.substr(1)\n    : path.substr(1, subpathStart - 1);\n};\n\nexport interface RouteOptions {\n  // HTML tag of the route page.\n  tag: string;\n  // Function to load the page.\n  load?: () => Promise<unknown>;\n  cache?: boolean;\n}\n\nexport interface RouterOptions {\n  // The default route to show if path does not define a page.\n  defaultPage?: string;\n  // If all routes should be preloaded\n  preloadAll?: boolean;\n  // If a route has been shown, should we keep the element in memory\n  cacheAll?: boolean;\n  // Should we show a loading spinner while we load the element for the route\n  showLoading?: boolean;\n  // Promise that resolves when the initial data is loaded which is needed to show any route.\n  initialLoad?: () => Promise<unknown>;\n  // Hook that is called before rendering a new route. Allowing redirects.\n  // If string returned, that page will be rendered instead.\n  beforeRender?: (page: string) => string | undefined;\n  routes: {\n    // If it's a string, it is another route whose options should be adopted.\n    [route: string]: RouteOptions | string;\n  };\n}\n\n// Time to wait for code to load before we show loading screen.\nconst LOADING_SCREEN_THRESHOLD = 400; // ms\n\nexport class HassRouterPage extends UpdatingElement {\n  @property() public route?: Route;\n\n  protected routerOptions!: RouterOptions;\n\n  protected _currentPage = \"\";\n  private _currentLoadProm?: Promise<void>;\n  private _cache = {};\n  private _initialLoadDone = false;\n  private _computeTail = memoizeOne((route: Route) => {\n    const dividerPos = route.path.indexOf(\"/\", 1);\n    return dividerPos === -1\n      ? {\n          prefix: route.prefix + route.path,\n          path: \"\",\n        }\n      : {\n          prefix: route.prefix + route.path.substr(0, dividerPos),\n          path: route.path.substr(dividerPos),\n        };\n  });\n\n  protected update(changedProps: PropertyValues) {\n    super.update(changedProps);\n\n    const routerOptions = this.routerOptions || { routes: {} };\n\n    if (routerOptions && routerOptions.initialLoad && !this._initialLoadDone) {\n      return;\n    }\n\n    if (!changedProps.has(\"route\")) {\n      // Do not update if we have a currentLoadProm, because that means\n      // that there is still an old panel shown and we're moving to a new one.\n      if (this.lastChild && !this._currentLoadProm) {\n        this.updatePageEl(this.lastChild, changedProps);\n      }\n      return;\n    }\n\n    const route = this.route;\n    const defaultPage = routerOptions.defaultPage;\n\n    if (route && route.path === \"\" && defaultPage !== undefined) {\n      navigate(this, `${route.prefix}/${defaultPage}`, true);\n    }\n\n    let newPage = route\n      ? extractPage(route.path, defaultPage || \"\")\n      : \"not_found\";\n    let routeOptions = routerOptions.routes[newPage];\n\n    // Handle redirects\n    while (typeof routeOptions === \"string\") {\n      newPage = routeOptions;\n      routeOptions = routerOptions.routes[newPage];\n    }\n\n    if (routerOptions.beforeRender) {\n      const result = routerOptions.beforeRender(newPage);\n      if (result !== undefined) {\n        newPage = result;\n        routeOptions = routerOptions.routes[newPage];\n\n        // Handle redirects\n        while (typeof routeOptions === \"string\") {\n          newPage = routeOptions;\n          routeOptions = routerOptions.routes[newPage];\n        }\n\n        // Update the url if we know where we're mounted.\n        if (route) {\n          navigate(this, `${route.prefix}/${result}`, true);\n        }\n      }\n    }\n\n    if (this._currentPage === newPage) {\n      if (this.lastChild) {\n        this.updatePageEl(this.lastChild, changedProps);\n      }\n      return;\n    }\n\n    if (!routeOptions) {\n      this._currentPage = \"\";\n      if (this.lastChild) {\n        this.removeChild(this.lastChild);\n      }\n      return;\n    }\n\n    this._currentPage = newPage;\n    const loadProm = routeOptions.load\n      ? routeOptions.load()\n      : Promise.resolve();\n\n    // Check when loading the page source failed.\n    loadProm.catch((err) => {\n      // tslint:disable-next-line\n      console.error(\"Error loading page\", newPage, err);\n\n      // Verify that we're still trying to show the same page.\n      if (this._currentPage !== newPage) {\n        return;\n      }\n\n      // Removes either loading screen or the panel\n      this.removeChild(this.lastChild!);\n\n      // Show error screen\n      const errorEl = document.createElement(\"hass-error-screen\");\n      errorEl.error = `Error while loading page ${newPage}.`;\n      this.appendChild(errorEl);\n    });\n\n    // If we don't show loading screen, just show the panel.\n    // It will be automatically upgraded when loading done.\n    if (!routerOptions.showLoading) {\n      this._createPanel(routerOptions, newPage, routeOptions);\n      return;\n    }\n\n    // We are only going to show the loading screen after some time.\n    // That way we won't have a double fast flash on fast connections.\n    let created = false;\n\n    setTimeout(() => {\n      if (created || this._currentPage !== newPage) {\n        return;\n      }\n\n      // Show a loading screen.\n      if (this.lastChild) {\n        this.removeChild(this.lastChild);\n      }\n      this.appendChild(this.createLoadingScreen());\n    }, LOADING_SCREEN_THRESHOLD);\n\n    this._currentLoadProm = loadProm.then(\n      () => {\n        this._currentLoadProm = undefined;\n        // Check if we're still trying to show the same page.\n        if (this._currentPage !== newPage) {\n          return;\n        }\n\n        created = true;\n        this._createPanel(\n          routerOptions,\n          newPage,\n          // @ts-ignore TS forgot this is not a string.\n          routeOptions\n        );\n      },\n      () => {\n        this._currentLoadProm = undefined;\n      }\n    );\n  }\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n\n    const options = this.routerOptions;\n\n    if (!options) {\n      return;\n    }\n\n    if (options.preloadAll) {\n      Object.values(options.routes).forEach(\n        (route) => typeof route === \"object\" && route.load && route.load()\n      );\n    }\n\n    if (options.initialLoad) {\n      setTimeout(() => {\n        if (!this._initialLoadDone) {\n          this.appendChild(this.createLoadingScreen());\n        }\n      }, LOADING_SCREEN_THRESHOLD);\n\n      options.initialLoad().then(() => {\n        this._initialLoadDone = true;\n        this.requestUpdate(\"route\");\n      });\n    }\n  }\n\n  protected createLoadingScreen() {\n    return document.createElement(\"hass-loading-screen\");\n  }\n\n  /**\n   * Rebuild the current panel.\n   *\n   * Promise will resolve when rebuilding is done and DOM updated.\n   */\n  protected async rebuild(): Promise<void> {\n    const oldRoute = this.route;\n\n    if (oldRoute === undefined) {\n      return;\n    }\n\n    this.route = undefined;\n    await this.updateComplete;\n    // Make sure that the parent didn't override this in the meanwhile.\n    if (this.route === undefined) {\n      this.route = oldRoute;\n    }\n  }\n\n  /**\n   * Promise that resolves when the page has rendered.\n   */\n  protected get pageRendered(): Promise<void> {\n    return this.updateComplete.then(() => this._currentLoadProm);\n  }\n\n  protected createElement(tag: string) {\n    return document.createElement(tag);\n  }\n\n  protected updatePageEl(_pageEl, _changedProps?: PropertyValues) {\n    // default we do nothing\n  }\n\n  protected get routeTail(): Route {\n    return this._computeTail(this.route!);\n  }\n\n  private _createPanel(\n    routerOptions: RouterOptions,\n    page: string,\n    routeOptions: RouteOptions\n  ) {\n    if (this.lastChild) {\n      this.removeChild(this.lastChild);\n    }\n\n    const panelEl = this._cache[page] || this.createElement(routeOptions.tag);\n    this.updatePageEl(panelEl);\n    this.appendChild(panelEl);\n\n    if (routerOptions.cacheAll || routeOptions.cache) {\n      this._cache[page] = panelEl;\n    }\n  }\n}\n","import { HASSDomEvent, ValidHassDomEvent } from \"../common/dom/fire_event\";\nimport { ProvideHassElement } from \"../mixins/provide-hass-lit-mixin\";\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    \"show-dialog\": ShowDialogParams<unknown>;\n  }\n  // for add event listener\n  interface HTMLElementEventMap {\n    \"show-dialog\": HASSDomEvent<ShowDialogParams<unknown>>;\n  }\n}\n\ninterface HassDialog<T = HASSDomEvents[ValidHassDomEvent]> extends HTMLElement {\n  showDialog(params: T);\n}\n\ninterface ShowDialogParams<T> {\n  dialogTag: keyof HTMLElementTagNameMap;\n  dialogImport: () => Promise<unknown>;\n  dialogParams: T;\n}\n\nconst LOADED = {};\n\nexport const showDialog = async (\n  element: HTMLElement & ProvideHassElement,\n  root: ShadowRoot | HTMLElement,\n  dialogImport: () => Promise<unknown>,\n  dialogTag: string,\n  dialogParams: unknown\n) => {\n  if (!(dialogTag in LOADED)) {\n    LOADED[dialogTag] = dialogImport().then(() => {\n      const dialogEl = document.createElement(dialogTag) as HassDialog;\n      element.provideHass(dialogEl);\n      root.appendChild(dialogEl);\n      return dialogEl;\n    });\n  }\n  const dialogElement = await LOADED[dialogTag];\n  dialogElement.showDialog(dialogParams);\n};\n\nexport const makeDialogManager = (\n  element: HTMLElement & ProvideHassElement,\n  root: ShadowRoot | HTMLElement\n) => {\n  element.addEventListener(\n    \"show-dialog\",\n    async (e: HASSDomEvent<ShowDialogParams<unknown>>) => {\n      const { dialogTag, dialogImport, dialogParams } = e.detail;\n      showDialog(element, root, dialogImport, dialogTag, dialogParams);\n    }\n  );\n};\n","import { UpdatingElement, Constructor, PropertyValues } from \"lit-element\";\nimport { HomeAssistant } from \"../types\";\n\nexport interface ProvideHassElement {\n  provideHass(element: HTMLElement);\n}\n\n/* tslint:disable */\n\nexport const ProvideHassLitMixin = <T extends UpdatingElement>(\n  superClass: Constructor<T>\n): Constructor<T & ProvideHassElement> =>\n  // @ts-ignore\n  class extends superClass {\n    protected hass!: HomeAssistant;\n    private __provideHass: HTMLElement[] = [];\n\n    public provideHass(el) {\n      this.__provideHass.push(el);\n      el.hass = this.hass;\n    }\n\n    protected updated(changedProps: PropertyValues) {\n      super.updated(changedProps);\n\n      if (changedProps.has(\"hass\")) {\n        this.__provideHass.forEach((el) => {\n          (el as any).hass = this.hass;\n        });\n      }\n    }\n  };\n","import { css } from \"lit-element\";\n\nconst documentContainer = document.createElement(\"template\");\ndocumentContainer.setAttribute(\"style\", \"display: none;\");\n\nexport const hassioStyle = css`\n  .card-group {\n    margin-top: 24px;\n  }\n  .card-group .title {\n    color: var(--primary-text-color);\n    font-size: 2em;\n    padding-left: 8px;\n    margin-bottom: 8px;\n  }\n  .card-group .description {\n    font-size: 0.5em;\n    font-weight: 500;\n    margin-top: 4px;\n  }\n  .card-group paper-card {\n    --card-group-columns: 4;\n    width: calc(\n      (100% - 12px * var(--card-group-columns)) / var(--card-group-columns)\n    );\n    margin: 4px;\n    vertical-align: top;\n  }\n  @media screen and (max-width: 1200px) and (min-width: 901px) {\n    .card-group paper-card {\n      --card-group-columns: 3;\n    }\n  }\n  @media screen and (max-width: 900px) and (min-width: 601px) {\n    .card-group paper-card {\n      --card-group-columns: 2;\n    }\n  }\n  @media screen and (max-width: 600px) and (min-width: 0) {\n    .card-group paper-card {\n      width: 100%;\n      margin: 4px 0;\n    }\n    .content {\n      padding: 0;\n    }\n  }\n  ha-call-api-button {\n    font-weight: 500;\n    color: var(--primary-color);\n  }\n  .error {\n    color: var(--google-red-500);\n    margin-top: 16px;\n  }\n`;\n\ndocumentContainer.innerHTML = `<dom-module id=\"hassio-style\">\n  <template>\n    <style>\n      ${hassioStyle.toString()}\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild(documentContainer.content);\n","import { dedupingMixin } from \"@polymer/polymer/lib/utils/mixin\";\nimport { navigate } from \"../common/navigate\";\n\n/*\n * @polymerMixin\n * @appliesMixin EventsMixin\n */\nexport default dedupingMixin(\n  (superClass) =>\n    class extends superClass {\n      navigate(...args) {\n        navigate(this, ...args);\n      }\n    }\n);\n","import \"@polymer/paper-card/paper-card\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"../components/hassio-card-content\";\nimport \"../resources/hassio-style\";\nimport NavigateMixin from \"../../../src/mixins/navigate-mixin\";\n\nclass HassioAddons extends NavigateMixin(PolymerElement) {\n  static get template() {\n    return html`\n      <style include=\"ha-style hassio-style\">\n        paper-card {\n          cursor: pointer;\n        }\n      </style>\n      <div class=\"content card-group\">\n        <div class=\"title\">Add-ons</div>\n        <template is=\"dom-if\" if=\"[[!addons.length]]\">\n          <paper-card>\n            <div class=\"card-content\">\n              You don't have any add-ons installed yet. Head over to\n              <a href=\"#\" on-click=\"openStore\">the add-on store</a> to get\n              started!\n            </div>\n          </paper-card>\n        </template>\n        <template\n          is=\"dom-repeat\"\n          items=\"[[addons]]\"\n          as=\"addon\"\n          sort=\"sortAddons\"\n        >\n          <paper-card on-click=\"addonTapped\">\n            <div class=\"card-content\">\n              <hassio-card-content\n                hass=\"[[hass]]\"\n                title=\"[[addon.name]]\"\n                description=\"[[addon.description]]\"\n                available=\"[[addon.available]]\"\n                icon=\"[[computeIcon(addon)]]\"\n                icon-title=\"[[computeIconTitle(addon)]]\"\n                icon-class=\"[[computeIconClass(addon)]]\"\n              ></hassio-card-content>\n            </div>\n          </paper-card>\n        </template>\n      </div>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      addons: Array,\n    };\n  }\n\n  sortAddons(a, b) {\n    return a.name < b.name ? -1 : 1;\n  }\n\n  computeIcon(addon) {\n    return addon.installed !== addon.version\n      ? \"hassio:arrow-up-bold-circle\"\n      : \"hassio:puzzle\";\n  }\n\n  computeIconTitle(addon) {\n    if (addon.installed !== addon.version) return \"New version available\";\n    return addon.state === \"started\"\n      ? \"Add-on is running\"\n      : \"Add-on is stopped\";\n  }\n\n  computeIconClass(addon) {\n    if (addon.installed !== addon.version) return \"update\";\n    return addon.state === \"started\" ? \"running\" : \"\";\n  }\n\n  addonTapped(ev) {\n    this.navigate(\"/hassio/addon/\" + ev.model.addon.slug);\n    ev.target.blur();\n  }\n\n  openStore(ev) {\n    this.navigate(\"/hassio/store\");\n    ev.target.blur();\n  }\n}\n\ncustomElements.define(\"hassio-addons\", HassioAddons);\n","import \"@material/mwc-button\";\nimport \"@polymer/paper-card/paper-card\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"../../../src/components/buttons/ha-call-api-button\";\nimport \"../components/hassio-card-content\";\nimport \"../resources/hassio-style\";\n\nclass HassioHassUpdate extends PolymerElement {\n  static get template() {\n    return html`\n      <style include=\"ha-style hassio-style\">\n        paper-card {\n          display: block;\n          margin-bottom: 32px;\n        }\n        .errors {\n          color: var(--google-red-500);\n          margin-top: 16px;\n        }\n        a {\n          color: var(--primary-color);\n        }\n      </style>\n      <template is=\"dom-if\" if=\"[[computeUpdateAvailable(hassInfo)]]\">\n        <div class=\"content\">\n          <div class=\"card-group\">\n            <paper-card heading=\"Update available! \">\n              <div class=\"card-content\">\n                Home Assistant [[hassInfo.last_version]] is available and you\n                are currently running Home Assistant [[hassInfo.version]].\n                <template is=\"dom-if\" if=\"[[error]]\">\n                  <div class=\"error\">Error: [[error]]</div>\n                </template>\n              </div>\n              <div class=\"card-actions\">\n                <ha-call-api-button\n                  hass=\"[[hass]]\"\n                  path=\"hassio/homeassistant/update\"\n                  >Update</ha-call-api-button\n                >\n                <a\n                  href=\"[[computeReleaseNotesUrl(hassInfo.version)]]\"\n                  target=\"_blank\"\n                >\n                  <mwc-button>Release notes</mwc-button>\n                </a>\n              </div>\n            </paper-card>\n          </div>\n        </div>\n      </template>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      hassInfo: Object,\n      error: String,\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener(\"hass-api-called\", (ev) => this.apiCalled(ev));\n  }\n\n  apiCalled(ev) {\n    if (ev.detail.success) {\n      this.errors = null;\n      return;\n    }\n\n    const response = ev.detail.response;\n\n    if (typeof response.body === \"object\") {\n      this.errors = response.body.message || \"Unknown error\";\n    } else {\n      this.errors = response.body;\n    }\n  }\n\n  computeUpdateAvailable(hassInfo) {\n    return hassInfo.version !== hassInfo.last_version;\n  }\n\n  computeReleaseNotesUrl(version) {\n    return `https://${\n      version.includes(\"b\") ? \"rc\" : \"www\"\n    }.home-assistant.io/latest-release-notes/`;\n  }\n}\n\ncustomElements.define(\"hassio-hass-update\", HassioHassUpdate);\n","import {\n  LitElement,\n  TemplateResult,\n  html,\n  CSSResult,\n  css,\n  property,\n  customElement,\n} from \"lit-element\";\nimport \"./hassio-addons\";\nimport \"./hassio-hass-update\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport {\n  HassioSupervisorInfo,\n  HassioHomeAssistantInfo,\n} from \"../../../src/data/hassio\";\n\n@customElement(\"hassio-dashboard\")\nclass HassioDashboard extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public supervisorInfo!: HassioSupervisorInfo;\n  @property() public hassInfo!: HassioHomeAssistantInfo;\n\n  protected render(): TemplateResult | void {\n    return html`\n      <div class=\"content\">\n        <hassio-hass-update\n          .hass=${this.hass}\n          .hassInfo=${this.hassInfo}\n        ></hassio-hass-update>\n        <hassio-addons\n          .hass=${this.hass}\n          .addons=${this.supervisorInfo.addons}\n        ></hassio-addons>\n      </div>\n    `;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      .content {\n        margin: 0 auto;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-dashboard\": HassioDashboard;\n  }\n}\n","import {\n  LitElement,\n  TemplateResult,\n  html,\n  CSSResultArray,\n  css,\n  property,\n  PropertyValues,\n  customElement,\n} from \"lit-element\";\nimport \"@material/mwc-button\";\nimport \"@polymer/paper-card/paper-card\";\nimport \"@polymer/paper-checkbox/paper-checkbox\";\nimport \"@polymer/paper-input/paper-input\";\nimport \"@polymer/paper-radio-button/paper-radio-button\";\nimport \"@polymer/paper-radio-group/paper-radio-group\";\n\nimport \"../components/hassio-card-content\";\nimport { hassioStyle } from \"../resources/hassio-style\";\n\nimport { showHassioSnapshotDialog } from \"../dialogs/snapshot/show-dialog-hassio-snapshot\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport {\n  HassioSnapshot,\n  HassioSupervisorInfo,\n  fetchHassioSnapshots,\n  reloadHassioSnapshots,\n  HassioFullSnapshotCreateParams,\n  HassioPartialSnapshotCreateParams,\n  createHassioFullSnapshot,\n  createHassioPartialSnapshot,\n} from \"../../../src/data/hassio\";\nimport { PolymerChangedEvent } from \"../../../src/polymer-types\";\nimport { fireEvent } from \"../../../src/common/dom/fire_event\";\n\n// Not duplicate, used for typing\n// tslint:disable-next-line\nimport { PaperInputElement } from \"@polymer/paper-input/paper-input\";\n// tslint:disable-next-line\nimport { PaperRadioGroupElement } from \"@polymer/paper-radio-group/paper-radio-group\";\n// tslint:disable-next-line\nimport { PaperCheckboxElement } from \"@polymer/paper-checkbox/paper-checkbox\";\n\ninterface CheckboxItem {\n  slug: string;\n  name: string;\n  checked: boolean;\n}\n\n@customElement(\"hassio-snapshots\")\nclass HassioSnapshots extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public supervisorInfo!: HassioSupervisorInfo;\n  @property() private _snapshotName = \"\";\n  @property() private _snapshotPassword = \"\";\n  @property() private _snapshotHasPassword = false;\n  @property() private _snapshotType: HassioSnapshot[\"type\"] = \"full\";\n  @property() private _snapshots?: HassioSnapshot[] = [];\n  @property() private _addonList: CheckboxItem[] = [];\n  @property() private _folderList: CheckboxItem[] = [\n    {\n      slug: \"homeassistant\",\n      name: \"Home Assistant configuration\",\n      checked: true,\n    },\n    { slug: \"ssl\", name: \"SSL\", checked: true },\n    { slug: \"share\", name: \"Share\", checked: true },\n    { slug: \"addons/local\", name: \"Local add-ons\", checked: true },\n  ];\n  @property() private _creatingSnapshot = false;\n  @property() private _error = \"\";\n\n  public async refreshData() {\n    await reloadHassioSnapshots(this.hass);\n    await this._updateSnapshots();\n  }\n\n  protected render(): TemplateResult | void {\n    return html`\n      <div class=\"content\">\n        <div class=\"card-group\">\n          <div class=\"title\">\n            Create snapshot\n            <div class=\"description\">\n              Snapshots allow you to easily backup and restore all data of your\n              Hass.io instance.\n            </div>\n          </div>\n          <paper-card>\n            <div class=\"card-content\">\n              <paper-input\n                autofocus\n                label=\"Name\"\n                name=\"snapshotName\"\n                .value=${this._snapshotName}\n                @value-changed=${this._handleTextValueChanged}\n              ></paper-input>\n              Type:\n              <paper-radio-group\n                name=\"snapshotType\"\n                .selected=${this._snapshotType}\n                @selected-changed=${this._handleRadioValueChanged}\n              >\n                <paper-radio-button name=\"full\">\n                  Full snapshot\n                </paper-radio-button>\n                <paper-radio-button name=\"partial\">\n                  Partial snapshot\n                </paper-radio-button>\n              </paper-radio-group>\n              ${this._snapshotType === \"full\"\n                ? undefined\n                : html`\n                    Folders:\n                    ${this._folderList.map(\n                      (folder, idx) => html`\n                        <paper-checkbox\n                          .idx=${idx}\n                          .checked=${folder.checked}\n                          @checked-changed=${this._folderChecked}\n                        >\n                          ${folder.name}\n                        </paper-checkbox>\n                      `\n                    )}\n                    Add-ons:\n                    ${this._addonList.map(\n                      (addon, idx) => html`\n                        <paper-checkbox\n                          .idx=${idx}\n                          .checked=\"{{item.checked}}\"\n                          @checked-changed=${this._addonChecked}\n                        >\n                          ${addon.name}\n                        </paper-checkbox>\n                      `\n                    )}\n                  `}\n              Security:\n              <paper-checkbox\n                name=\"snapshotHasPassword\"\n                .checked=${this._snapshotHasPassword}\n                @checked-changed=${this._handleCheckboxValueChanged}\n              >\n                Password protection\n              </paper-checkbox>\n              ${this._snapshotHasPassword\n                ? html`\n                    <paper-input\n                      label=\"Password\"\n                      type=\"password\"\n                      name=\"snapshotPassword\"\n                      .value=${this._snapshotPassword}\n                      @value-changed=${this._handleTextValueChanged}\n                    ></paper-input>\n                  `\n                : undefined}\n              ${this._error !== \"\"\n                ? html`\n                    <p class=\"error\">${this._error}</p>\n                  `\n                : undefined}\n            </div>\n            <div class=\"card-actions\">\n              <mwc-button\n                .disabled=${this._creatingSnapshot}\n                @click=${this._createSnapshot}\n              >\n                Create\n              </mwc-button>\n            </div>\n          </paper-card>\n        </div>\n\n        <div class=\"card-group\">\n          <div class=\"title\">Available snapshots</div>\n          ${this._snapshots === undefined\n            ? undefined\n            : this._snapshots.length === 0\n            ? html`\n                <paper-card>\n                  <div class=\"card-content\">\n                    You don't have any snapshots yet.\n                  </div>\n                </paper-card>\n              `\n            : this._snapshots.map(\n                (snapshot) => html`\n                  <paper-card\n                    class=\"pointer\"\n                    .snapshot=${snapshot}\n                    @click=${this._snapshotClicked}\n                  >\n                    <div class=\"card-content\">\n                      <hassio-card-content\n                        .hass=${this.hass}\n                        .title=${snapshot.name || snapshot.slug}\n                        .description=${this._computeDetails(snapshot)}\n                        .datetime=${snapshot.date}\n                        .icon=${snapshot.type === \"full\"\n                          ? \"hassio:package-variant-closed\"\n                          : \"hassio:package-variant\"}\n                        .\n                        .icon-class=\"snapshot\"\n                      ></hassio-card-content>\n                    </div>\n                  </paper-card>\n                `\n              )}\n        </div>\n      </div>\n    `;\n  }\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n    this._updateSnapshots();\n  }\n\n  protected updated(changedProps: PropertyValues) {\n    if (changedProps.has(\"supervisorInfo\")) {\n      this._addonList = this.supervisorInfo.addons\n        .map((addon) => ({\n          slug: addon.slug,\n          name: addon.name,\n          checked: true,\n        }))\n        .sort((a, b) => (a.name < b.name ? -1 : 1));\n    }\n  }\n\n  private _handleTextValueChanged(ev: PolymerChangedEvent<string>) {\n    const input = ev.currentTarget as PaperInputElement;\n    this[`_${input.name}`] = ev.detail.value;\n  }\n\n  private _handleCheckboxValueChanged(ev) {\n    const input = ev.currentTarget as PaperCheckboxElement;\n    this[`_${input.name}`] = input.checked;\n  }\n\n  private _handleRadioValueChanged(ev: PolymerChangedEvent<string>) {\n    const input = ev.currentTarget as PaperRadioGroupElement;\n    this[`_${input.getAttribute(\"name\")}`] = ev.detail.value;\n  }\n\n  private _folderChecked(ev) {\n    const { idx, checked } = ev.currentTarget!;\n    this._folderList = this._folderList.map((folder, curIdx) =>\n      curIdx === idx ? { ...folder, checked } : folder\n    );\n  }\n\n  private _addonChecked(ev) {\n    const { idx, checked } = ev.currentTarget!;\n    this._addonList = this._addonList.map((addon, curIdx) =>\n      curIdx === idx ? { ...addon, checked } : addon\n    );\n  }\n\n  private async _updateSnapshots() {\n    try {\n      this._snapshots = await fetchHassioSnapshots(this.hass);\n      this._snapshots.sort((a, b) => (a.date < b.date ? 1 : -1));\n    } catch (err) {\n      this._error = err.message;\n    }\n  }\n\n  private async _createSnapshot() {\n    this._error = \"\";\n    if (this._snapshotHasPassword && !this._snapshotPassword.length) {\n      this._error = \"Please enter a password.\";\n      return;\n    }\n    this._creatingSnapshot = true;\n    await this.updateComplete;\n\n    const name =\n      this._snapshotName ||\n      new Date().toLocaleDateString(navigator.language, {\n        weekday: \"long\",\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n      });\n\n    try {\n      if (this._snapshotType === \"full\") {\n        const data: HassioFullSnapshotCreateParams = { name };\n        if (this._snapshotHasPassword) {\n          data.password = this._snapshotPassword;\n        }\n        await createHassioFullSnapshot(this.hass, data);\n      } else {\n        const addons = this._addonList\n          .filter((addon) => addon.checked)\n          .map((addon) => addon.slug);\n        const folders = this._folderList\n          .filter((folder) => folder.checked)\n          .map((folder) => folder.slug);\n\n        const data: HassioPartialSnapshotCreateParams = {\n          name,\n          folders,\n          addons,\n        };\n        if (this._snapshotHasPassword) {\n          data.password = this._snapshotPassword;\n        }\n        await createHassioPartialSnapshot(this.hass, data);\n      }\n      this._updateSnapshots();\n      fireEvent(this, \"hass-api-called\", { success: true, response: null });\n    } catch (err) {\n      this._error = err.message;\n    } finally {\n      this._creatingSnapshot = false;\n    }\n  }\n\n  private _computeDetails(snapshot: HassioSnapshot) {\n    const type =\n      snapshot.type === \"full\" ? \"Full snapshot\" : \"Partial snapshot\";\n    return snapshot.protected ? `${type}, password protected` : type;\n  }\n\n  private _snapshotClicked(ev) {\n    showHassioSnapshotDialog(this, {\n      slug: ev.currentTarget!.snapshot.slug,\n      onDelete: () => this._updateSnapshots(),\n    });\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      hassioStyle,\n      css`\n        paper-radio-group {\n          display: block;\n        }\n        paper-radio-button {\n          padding: 0 0 2px 2px;\n        }\n        paper-radio-button,\n        paper-checkbox,\n        paper-input[type=\"password\"] {\n          display: block;\n          margin: 4px 0 4px 48px;\n        }\n        .pointer {\n          cursor: pointer;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-snapshots\": HassioSnapshots;\n  }\n}\n","import { fireEvent } from \"../../../../src/common/dom/fire_event\";\n\nexport interface HassioSnapshotDialogParams {\n  slug: string;\n  onDelete: () => void;\n}\n\nexport const showHassioSnapshotDialog = (\n  element: HTMLElement,\n  dialogParams: HassioSnapshotDialogParams\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"dialog-hassio-snapshot\",\n    dialogImport: () =>\n      import(/* webpackChunkName: \"dialog-hassio-snapshot\" */ \"./dialog-hassio-snapshot\"),\n    dialogParams,\n  });\n};\n","import {\n  css,\n  TemplateResult,\n  html,\n  LitElement,\n  property,\n  CSSResultArray,\n} from \"lit-element\";\nimport \"@polymer/paper-card/paper-card\";\nimport memoizeOne from \"memoize-one\";\n\nimport \"../components/hassio-card-content\";\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport {\n  HassioAddonInfo,\n  HassioAddonRepository,\n} from \"../../../src/data/hassio\";\nimport { navigate } from \"../../../src/common/navigate\";\nimport { filterAndSort } from \"../components/hassio-filter-addons\";\n\nclass HassioAddonRepositoryEl extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public repo!: HassioAddonRepository;\n  @property() public addons!: HassioAddonInfo[];\n  @property() public filter!: string;\n\n  private _getAddons = memoizeOne(\n    (addons: HassioAddonInfo[], filter?: string) => {\n      if (filter) {\n        return filterAndSort(addons, filter);\n      }\n      return addons.sort((a, b) =>\n        a.name.toUpperCase() < b.name.toUpperCase() ? -1 : 1\n      );\n    }\n  );\n\n  protected render(): TemplateResult | void {\n    const repo = this.repo;\n    const addons = this._getAddons(this.addons, this.filter);\n\n    if (this.filter && addons.length < 1) {\n      return html`\n        <div class=\"card-group\">\n          <div class=\"title\">\n            <div class=\"description\">\n              No results found in \"${repo.name}\"\n            </div>\n          </div>\n        </div>\n      `;\n    }\n    return html`\n      <div class=\"card-group\">\n        <div class=\"title\">\n          ${repo.name}\n          <div class=\"description\">\n            Maintained by ${repo.maintainer}<br />\n            <a class=\"repo\" href=${repo.url} target=\"_blank\">${repo.url}</a>\n          </div>\n        </div>\n\n        ${addons.map(\n          (addon) => html`\n            <paper-card\n              .addon=${addon}\n              class=${addon.available ? \"\" : \"not_available\"}\n              @click=${this.addonTapped}\n            >\n              <div class=\"card-content\">\n                <hassio-card-content\n                  .hass=${this.hass}\n                  .title=${addon.name}\n                  .description=${addon.description}\n                  .available=${addon.available}\n                  .icon=${this.computeIcon(addon)}\n                  .iconTitle=${this.computeIconTitle(addon)}\n                  .iconClass=${this.computeIconClass(addon)}\n                ></hassio-card-content>\n              </div>\n            </paper-card>\n          `\n        )}\n      </div>\n    `;\n  }\n\n  private computeIcon(addon) {\n    return addon.installed && addon.installed !== addon.version\n      ? \"hassio:arrow-up-bold-circle\"\n      : \"hassio:puzzle\";\n  }\n\n  private computeIconTitle(addon) {\n    if (addon.installed) {\n      return addon.installed !== addon.version\n        ? \"New version available\"\n        : \"Add-on is installed\";\n    }\n    return addon.available\n      ? \"Add-on is not installed\"\n      : \"Add-on is not available on your system\";\n  }\n\n  private computeIconClass(addon) {\n    if (addon.installed) {\n      return addon.installed !== addon.version ? \"update\" : \"installed\";\n    }\n    return !addon.available ? \"not_available\" : \"\";\n  }\n\n  private addonTapped(ev) {\n    navigate(this, `/hassio/addon/${ev.currentTarget.addon.slug}`);\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      hassioStyle,\n      css`\n        paper-card {\n          cursor: pointer;\n        }\n        .not_available {\n          opacity: 0.6;\n        }\n        a.repo {\n          color: var(--primary-text-color);\n        }\n      `,\n    ];\n  }\n}\n\ncustomElements.define(\"hassio-addon-repository\", HassioAddonRepositoryEl);\n","import { HassioAddonInfo } from \"../../../src/data/hassio\";\nimport * as Fuse from \"fuse.js\";\n\nexport function filterAndSort(addons: HassioAddonInfo[], filter: string) {\n  const options: Fuse.FuseOptions<HassioAddonInfo> = {\n    keys: [\"name\", \"description\", \"slug\"],\n    caseSensitive: false,\n    minMatchCharLength: 2,\n    threshold: 0.2,\n  };\n  const fuse = new Fuse(addons, options);\n  return fuse.search(filter);\n}\n","import {\n  LitElement,\n  html,\n  CSSResultArray,\n  css,\n  property,\n  TemplateResult,\n  customElement,\n  PropertyValues,\n} from \"lit-element\";\nimport \"@polymer/iron-icon/iron-icon\";\nimport \"@polymer/paper-card/paper-card\";\nimport \"@polymer/paper-input/paper-input\";\nimport memoizeOne from \"memoize-one\";\n\nimport \"../../../src/components/buttons/ha-call-api-button\";\nimport \"../components/hassio-card-content\";\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport { HassioAddonRepository } from \"../../../src/data/hassio\";\nimport { PolymerChangedEvent } from \"../../../src/polymer-types\";\nimport { repeat } from \"lit-html/directives/repeat\";\n\n@customElement(\"hassio-repositories-editor\")\nclass HassioRepositoriesEditor extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public repos!: HassioAddonRepository[];\n  @property() private _repoUrl = \"\";\n\n  private _sortedRepos = memoizeOne((repos: HassioAddonRepository[]) =>\n    repos\n      .filter((repo) => repo.slug !== \"core\" && repo.slug !== \"local\")\n      .sort((a, b) => (a.name < b.name ? -1 : 1))\n  );\n\n  protected render(): TemplateResult | void {\n    const repos = this._sortedRepos(this.repos);\n    return html`\n      <div class=\"card-group\">\n        <div class=\"title\">\n          Repositories\n          <div class=\"description\">\n            Configure which add-on repositories to fetch data from:\n          </div>\n        </div>\n        ${// Use repeat so that the fade-out from call-service-api-button\n        // stays with the correct repo after we add/delete one.\n        repeat(\n          repos,\n          (repo) => repo.slug,\n          (repo) => html`\n            <paper-card>\n              <div class=\"card-content\">\n                <hassio-card-content\n                  .hass=${this.hass}\n                  .title=${repo.name}\n                  .description=${repo.url}\n                  icon=\"hassio:github-circle\"\n                ></hassio-card-content>\n              </div>\n              <div class=\"card-actions\">\n                <ha-call-api-button\n                  path=\"hassio/supervisor/options\"\n                  .hass=${this.hass}\n                  .data=${this.computeRemoveRepoData(repos, repo.url)}\n                  class=\"warning\"\n                >\n                  Remove\n                </ha-call-api-button>\n              </div>\n            </paper-card>\n          `\n        )}\n\n        <paper-card>\n          <div class=\"card-content add\">\n            <iron-icon icon=\"hassio:github-circle\"></iron-icon>\n            <paper-input\n              label=\"Add new repository by URL\"\n              .value=${this._repoUrl}\n              @value-changed=${this._urlChanged}\n            ></paper-input>\n          </div>\n          <div class=\"card-actions\">\n            <ha-call-api-button\n              path=\"hassio/supervisor/options\"\n              .hass=${this.hass}\n              .data=${this.computeAddRepoData(repos, this._repoUrl)}\n            >\n              Add\n            </ha-call-api-button>\n          </div>\n        </paper-card>\n      </div>\n    `;\n  }\n\n  protected updated(changedProps: PropertyValues) {\n    super.updated(changedProps);\n\n    if (changedProps.has(\"repos\")) {\n      this._repoUrl = \"\";\n    }\n  }\n\n  private _urlChanged(ev: PolymerChangedEvent<string>) {\n    this._repoUrl = ev.detail.value;\n  }\n\n  private computeRemoveRepoData(repoList, url) {\n    const list = repoList\n      .filter((repo) => repo.url !== url)\n      .map((repo) => repo.source);\n    return { addons_repositories: list };\n  }\n\n  private computeAddRepoData(repoList, url) {\n    const list = repoList ? repoList.map((repo) => repo.source) : [];\n    list.push(url);\n    return { addons_repositories: list };\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      hassioStyle,\n      css`\n        .add {\n          padding: 12px 16px;\n        }\n        iron-icon {\n          color: var(--secondary-text-color);\n          margin-right: 16px;\n          display: inline-block;\n        }\n        paper-input {\n          width: calc(100% - 49px);\n          display: inline-block;\n          margin-top: -4px;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-repositories-editor\": HassioRepositoriesEditor;\n  }\n}\n","import \"@polymer/paper-spinner/paper-spinner-lite\";\nimport {\n  LitElement,\n  TemplateResult,\n  html,\n  css,\n  customElement,\n  CSSResult,\n} from \"lit-element\";\n\n@customElement(\"loading-screen\")\nclass LoadingScreen extends LitElement {\n  protected render(): TemplateResult | void {\n    return html`\n      <paper-spinner-lite active></paper-spinner-lite>\n    `;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"loading-screen\": LoadingScreen;\n  }\n}\n","import { TemplateResult, html } from \"lit-html\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  LitElement,\n  property,\n} from \"lit-element\";\nimport { fireEvent } from \"../../../src/common/dom/fire_event\";\nimport \"@polymer/iron-icon/iron-icon\";\nimport \"@polymer/paper-input/paper-input\";\nimport \"@polymer/paper-icon-button/paper-icon-button\";\nimport \"@material/mwc-button\";\n\n@customElement(\"hassio-search-input\")\nclass HassioSearchInput extends LitElement {\n  @property() private filter?: string;\n\n  protected render(): TemplateResult | void {\n    return html`\n      <div class=\"search-container\">\n        <paper-input\n          label=\"Search\"\n          .value=${this.filter}\n          @value-changed=${this._filterInputChanged}\n        >\n          <iron-icon\n            icon=\"hassio:magnify\"\n            slot=\"prefix\"\n            class=\"prefix\"\n          ></iron-icon>\n          ${this.filter &&\n            html`\n              <paper-icon-button\n                slot=\"suffix\"\n                class=\"suffix\"\n                @click=${this._clearSearch}\n                icon=\"hassio:close\"\n                alt=\"Clear\"\n                title=\"Clear\"\n              ></paper-icon-button>\n            `}\n        </paper-input>\n      </div>\n    `;\n  }\n\n  private async _filterChanged(value: string) {\n    fireEvent(this, \"value-changed\", { value: String(value) });\n  }\n\n  private async _filterInputChanged(e) {\n    this._filterChanged(e.target.value);\n  }\n\n  private async _clearSearch() {\n    this._filterChanged(\"\");\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      paper-input {\n        flex: 1 1 auto;\n        margin: 0 16px;\n      }\n      .search-container {\n        display: inline-flex;\n        width: 100%;\n        align-items: center;\n      }\n      .prefix {\n        margin: 8px;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-search-input\": HassioSearchInput;\n  }\n}\n","import \"./hassio-addon-repository\";\nimport \"./hassio-repositories-editor\";\nimport { TemplateResult, html } from \"lit-html\";\nimport {\n  LitElement,\n  CSSResult,\n  css,\n  property,\n  PropertyValues,\n} from \"lit-element\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport {\n  HassioAddonRepository,\n  HassioAddonInfo,\n  fetchHassioAddonsInfo,\n  reloadHassioAddons,\n} from \"../../../src/data/hassio\";\nimport \"../../../src/layouts/loading-screen\";\nimport \"../components/hassio-search-input\";\n\nconst sortRepos = (a: HassioAddonRepository, b: HassioAddonRepository) => {\n  if (a.slug === \"local\") {\n    return -1;\n  }\n  if (b.slug === \"local\") {\n    return 1;\n  }\n  if (a.slug === \"core\") {\n    return -1;\n  }\n  if (b.slug === \"core\") {\n    return 1;\n  }\n  return a.name.toUpperCase() < b.name.toUpperCase() ? -1 : 1;\n};\n\nclass HassioAddonStore extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() private _addons?: HassioAddonInfo[];\n  @property() private _repos?: HassioAddonRepository[];\n  @property() private _filter?: string;\n\n  public async refreshData() {\n    this._repos = undefined;\n    this._addons = undefined;\n    this._filter = undefined;\n    await reloadHassioAddons(this.hass);\n    await this._loadData();\n  }\n\n  protected render(): TemplateResult | void {\n    if (!this._addons || !this._repos) {\n      return html`\n        <loading-screen></loading-screen>\n      `;\n    }\n    const repos: TemplateResult[] = [];\n\n    for (const repo of this._repos) {\n      const addons = this._addons!.filter(\n        (addon) => addon.repository === repo.slug\n      );\n\n      if (addons.length === 0) {\n        continue;\n      }\n\n      repos.push(html`\n        <hassio-addon-repository\n          .hass=${this.hass}\n          .repo=${repo}\n          .addons=${addons}\n          .filter=${this._filter}\n        ></hassio-addon-repository>\n      `);\n    }\n\n    return html`\n      <hassio-repositories-editor\n        .hass=${this.hass}\n        .repos=${this._repos}\n      ></hassio-repositories-editor>\n\n      <hassio-search-input\n        .filter=${this._filter}\n        @value-changed=${this._filterChanged}\n      ></hassio-search-input>\n\n      ${repos}\n    `;\n  }\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n    this.addEventListener(\"hass-api-called\", (ev) => this.apiCalled(ev));\n    this._loadData();\n  }\n\n  private apiCalled(ev) {\n    if (ev.detail.success) {\n      this._loadData();\n    }\n  }\n\n  private async _loadData() {\n    try {\n      const addonsInfo = await fetchHassioAddonsInfo(this.hass);\n      this._repos = addonsInfo.repositories;\n      this._repos.sort(sortRepos);\n      this._addons = addonsInfo.addons;\n    } catch (err) {\n      alert(\"Failed to fetch add-on info\");\n    }\n  }\n\n  private async _filterChanged(e) {\n    this._filter = e.detail.value;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      hassio-addon-repository {\n        margin-top: 24px;\n      }\n    `;\n  }\n}\n\ncustomElements.define(\"hassio-addon-store\", HassioAddonStore);\n","import \"@material/mwc-button\";\nimport \"@polymer/paper-card/paper-card\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"../../../src/components/buttons/ha-call-api-button\";\nimport { EventsMixin } from \"../../../src/mixins/events-mixin\";\n\nimport { showHassioMarkdownDialog } from \"../dialogs/markdown/show-dialog-hassio-markdown\";\n\nclass HassioHostInfo extends EventsMixin(PolymerElement) {\n  static get template() {\n    return html`\n      <style>\n        paper-card {\n          display: inline-block;\n          width: 400px;\n          margin-left: 8px;\n        }\n        .card-content {\n          height: 200px;\n          color: var(--primary-text-color);\n        }\n        @media screen and (max-width: 830px) {\n          paper-card {\n            margin-top: 8px;\n            margin-left: 0;\n            width: 100%;\n          }\n          .card-content {\n            height: auto;\n          }\n        }\n        .info {\n          width: 100%;\n        }\n        .info td:nth-child(2) {\n          text-align: right;\n        }\n        .errors {\n          color: var(--google-red-500);\n          margin-top: 16px;\n        }\n        mwc-button.info {\n          max-width: calc(50% - 12px);\n        }\n        table.info {\n          margin-bottom: 10px;\n        }\n      </style>\n      <paper-card>\n        <div class=\"card-content\">\n          <h2>Host system</h2>\n          <table class=\"info\">\n            <tbody>\n              <tr>\n                <td>Hostname</td>\n                <td>[[data.hostname]]</td>\n              </tr>\n              <tr>\n                <td>System</td>\n                <td>[[data.operating_system]]</td>\n              </tr>\n              <template is=\"dom-if\" if=\"[[data.deployment]]\">\n                <tr>\n                  <td>Deployment</td>\n                  <td>[[data.deployment]]</td>\n                </tr>\n              </template>\n            </tbody>\n          </table>\n          <mwc-button raised on-click=\"_showHardware\" class=\"info\">\n            Hardware\n          </mwc-button>\n          <template is=\"dom-if\" if=\"[[_featureAvailable(data, 'hostname')]]\">\n            <mwc-button raised on-click=\"_changeHostnameClicked\" class=\"info\">\n              Change hostname\n            </mwc-button>\n          </template>\n          <template is=\"dom-if\" if=\"[[errors]]\">\n            <div class=\"errors\">Error: [[errors]]</div>\n          </template>\n        </div>\n        <div class=\"card-actions\">\n          <template is=\"dom-if\" if=\"[[_featureAvailable(data, 'reboot')]]\">\n            <ha-call-api-button\n              class=\"warning\"\n              hass=\"[[hass]]\"\n              path=\"hassio/host/reboot\"\n              >Reboot</ha-call-api-button\n            >\n          </template>\n          <template is=\"dom-if\" if=\"[[_featureAvailable(data, 'shutdown')]]\">\n            <ha-call-api-button\n              class=\"warning\"\n              hass=\"[[hass]]\"\n              path=\"hassio/host/shutdown\"\n              >Shutdown</ha-call-api-button\n            >\n          </template>\n          <template is=\"dom-if\" if=\"[[_featureAvailable(data, 'hassos')]]\">\n            <ha-call-api-button\n              class=\"warning\"\n              hass=\"[[hass]]\"\n              path=\"hassio/hassos/config/sync\"\n              title=\"Load HassOS configs or updates from USB\"\n              >Import from USB</ha-call-api-button\n            >\n          </template>\n          <template is=\"dom-if\" if=\"[[_computeUpdateAvailable(_hassOs)]]\">\n            <ha-call-api-button hass=\"[[hass]]\" path=\"hassio/hassos/update\"\n              >Update</ha-call-api-button\n            >\n          </template>\n        </div>\n      </paper-card>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      data: {\n        type: Object,\n        observer: \"_dataChanged\",\n      },\n      errors: String,\n      _hassOs: Object,\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener(\"hass-api-called\", (ev) => this.apiCalled(ev));\n  }\n\n  apiCalled(ev) {\n    if (ev.detail.success) {\n      this.errors = null;\n      return;\n    }\n\n    var response = ev.detail.response;\n\n    if (typeof response.body === \"object\") {\n      this.errors = response.body.message || \"Unknown error\";\n    } else {\n      this.errors = response.body;\n    }\n  }\n\n  _dataChanged(data) {\n    if (data.features && data.features.includes(\"hassos\")) {\n      this.hass.callApi(\"get\", \"hassio/hassos/info\").then((resp) => {\n        this._hassOs = resp.data;\n      });\n    } else {\n      this._hassOs = {};\n    }\n  }\n\n  _computeUpdateAvailable(data) {\n    return data && data.version !== data.version_latest;\n  }\n\n  _featureAvailable(data, feature) {\n    return data && data.features && data.features.includes(feature);\n  }\n\n  _showHardware() {\n    this.hass\n      .callApi(\"get\", \"hassio/hardware/info\")\n      .then(\n        (resp) => this._objectToMarkdown(resp.data),\n        () => \"Error getting hardware info\"\n      )\n      .then((content) => {\n        showHassioMarkdownDialog(this, {\n          title: \"Hardware\",\n          content: content,\n        });\n      });\n  }\n\n  _objectToMarkdown(obj, indent = \"\") {\n    let data = \"\";\n    Object.keys(obj).forEach((key) => {\n      if (typeof obj[key] !== \"object\") {\n        data += `${indent}- ${key}: ${obj[key]}\\n`;\n      } else {\n        data += `${indent}- ${key}:\\n`;\n        if (Array.isArray(obj[key])) {\n          if (obj[key].length) {\n            data +=\n              `${indent}    - ` + obj[key].join(`\\n${indent}    - `) + \"\\n\";\n          }\n        } else {\n          data += this._objectToMarkdown(obj[key], `    ${indent}`);\n        }\n      }\n    });\n    return data;\n  }\n\n  _changeHostnameClicked() {\n    const curHostname = this.data.hostname;\n    const hostname = prompt(\"Please enter a new hostname:\", curHostname);\n    if (hostname && hostname !== curHostname) {\n      this.hass.callApi(\"post\", \"hassio/host/options\", { hostname });\n    }\n  }\n}\n\ncustomElements.define(\"hassio-host-info\", HassioHostInfo);\n","import \"@material/mwc-button\";\nimport \"@polymer/paper-card/paper-card\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"../../../src/components/buttons/ha-call-api-button\";\nimport { EventsMixin } from \"../../../src/mixins/events-mixin\";\n\nclass HassioSupervisorInfo extends EventsMixin(PolymerElement) {\n  static get template() {\n    return html`\n      <style>\n        paper-card {\n          display: inline-block;\n          width: 400px;\n        }\n        .card-content {\n          height: 200px;\n          color: var(--primary-text-color);\n        }\n        @media screen and (max-width: 830px) {\n          paper-card {\n            width: 100%;\n          }\n          .card-content {\n            height: auto;\n          }\n        }\n        .info {\n          width: 100%;\n        }\n        .info td:nth-child(2) {\n          text-align: right;\n        }\n        .errors {\n          color: var(--google-red-500);\n          margin-top: 16px;\n        }\n      </style>\n      <paper-card>\n        <div class=\"card-content\">\n          <h2>Hass.io supervisor</h2>\n          <table class=\"info\">\n            <tbody>\n              <tr>\n                <td>Version</td>\n                <td>[[data.version]]</td>\n              </tr>\n              <tr>\n                <td>Latest version</td>\n                <td>[[data.last_version]]</td>\n              </tr>\n              <template is=\"dom-if\" if='[[!_equals(data.channel, \"stable\")]]'>\n                <tr>\n                  <td>Channel</td>\n                  <td>[[data.channel]]</td>\n                </tr>\n              </template>\n            </tbody>\n          </table>\n          <template is=\"dom-if\" if=\"[[errors]]\">\n            <div class=\"errors\">Error: [[errors]]</div>\n          </template>\n        </div>\n        <div class=\"card-actions\">\n          <ha-call-api-button hass=\"[[hass]]\" path=\"hassio/supervisor/reload\"\n            >Reload</ha-call-api-button\n          >\n          <template is=\"dom-if\" if=\"[[computeUpdateAvailable(data)]]\">\n            <ha-call-api-button hass=\"[[hass]]\" path=\"hassio/supervisor/update\"\n              >Update</ha-call-api-button\n            >\n          </template>\n          <template is=\"dom-if\" if='[[_equals(data.channel, \"beta\")]]'>\n            <ha-call-api-button\n              hass=\"[[hass]]\"\n              path=\"hassio/supervisor/options\"\n              data=\"[[leaveBeta]]\"\n              >Leave beta channel</ha-call-api-button\n            >\n          </template>\n          <template is=\"dom-if\" if='[[_equals(data.channel, \"stable\")]]'>\n            <mwc-button\n              on-click=\"_joinBeta\"\n              class=\"warning\"\n              title=\"Get beta updates for Home Assistant (RCs), supervisor and host\"\n              >Join beta channel</mwc-button\n            >\n          </template>\n        </div>\n      </paper-card>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      data: Object,\n      errors: String,\n      leaveBeta: {\n        type: Object,\n        value: { channel: \"stable\" },\n      },\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener(\"hass-api-called\", (ev) => this.apiCalled(ev));\n  }\n\n  apiCalled(ev) {\n    if (ev.detail.success) {\n      this.errors = null;\n      return;\n    }\n\n    var response = ev.detail.response;\n\n    if (typeof response.body === \"object\") {\n      this.errors = response.body.message || \"Unknown error\";\n    } else {\n      this.errors = response.body;\n    }\n  }\n\n  computeUpdateAvailable(data) {\n    return data.version !== data.last_version;\n  }\n\n  _equals(a, b) {\n    return a === b;\n  }\n\n  _joinBeta() {\n    if (\n      !confirm(`WARNING:\nBeta releases are for testers and early adopters and can contain unstable code changes. Make sure you have backups of your data before you activate this feature.\n\nThis inludes beta releases for:\n- Home Assistant (Release Candidates)\n- Hass.io supervisor\n- Host system`)\n    ) {\n      return;\n    }\n    const method = \"post\";\n    const path = \"hassio/supervisor/options\";\n    const data = { channel: \"beta\" };\n\n    const eventData = {\n      method: method,\n      path: path,\n      data: data,\n    };\n\n    this.hass\n      .callApi(method, path, data)\n      .then(\n        (resp) => {\n          eventData.success = true;\n          eventData.response = resp;\n        },\n        (resp) => {\n          eventData.success = false;\n          eventData.response = resp;\n        }\n      )\n      .then(() => {\n        this.fire(\"hass-api-called\", eventData);\n      });\n  }\n}\n\ncustomElements.define(\"hassio-supervisor-info\", HassioSupervisorInfo);\n","import \"@material/mwc-button\";\nimport \"@polymer/paper-card/paper-card\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\nimport { ANSI_HTML_STYLE, parseTextToColoredPre } from \"../ansi-to-html\";\n\nclass HassioSupervisorLog extends PolymerElement {\n  static get template() {\n    return html`\n      <style include=\"ha-style\">\n        paper-card {\n          display: block;\n        }\n        pre {\n          overflow-x: auto;\n          white-space: pre-wrap;\n          overflow-wrap: break-word;\n        }\n        .fg-green {\n          color: var(--primary-text-color) !important;\n        }\n      </style>\n      ${ANSI_HTML_STYLE}\n      <paper-card>\n        <div class=\"card-content\" id=\"content\"></div>\n        <div class=\"card-actions\">\n          <mwc-button on-click=\"refresh\">Refresh</mwc-button>\n        </div>\n      </paper-card>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n    };\n  }\n\n  ready() {\n    super.ready();\n    this.loadData();\n  }\n\n  loadData() {\n    this.hass.callApi(\"get\", \"hassio/supervisor/logs\").then(\n      (text) => {\n        while (this.$.content.lastChild) {\n          this.$.content.removeChild(this.$.content.lastChild);\n        }\n        this.$.content.appendChild(parseTextToColoredPre(text));\n      },\n      () => {\n        this.$.content.innerHTML =\n          '<span class=\"fg-red bold\">Error fetching logs</span>';\n      }\n    );\n  }\n\n  refresh() {\n    this.loadData();\n  }\n}\n\ncustomElements.define(\"hassio-supervisor-log\", HassioSupervisorLog);\n","import { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"./hassio-host-info\";\nimport \"./hassio-supervisor-info\";\nimport \"./hassio-supervisor-log\";\n\nclass HassioSystem extends PolymerElement {\n  static get template() {\n    return html`\n      <style>\n        .content {\n          margin: 4px;\n          color: var(--primary-text-color);\n        }\n        .title {\n          margin-top: 24px;\n          color: var(--primary-text-color);\n          font-size: 2em;\n          padding-left: 8px;\n          margin-bottom: 8px;\n        }\n      </style>\n      <div class=\"content\">\n        <div class=\"title\">Information</div>\n        <hassio-supervisor-info\n          hass=\"[[hass]]\"\n          data=\"[[supervisorInfo]]\"\n        ></hassio-supervisor-info>\n        <hassio-host-info\n          hass=\"[[hass]]\"\n          data=\"[[hostInfo]]\"\n        ></hassio-host-info>\n        <div class=\"title\">System log</div>\n        <hassio-supervisor-log hass=\"[[hass]]\"></hassio-supervisor-log>\n      </div>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      supervisorInfo: Object,\n      hostInfo: Object,\n    };\n  }\n}\n\ncustomElements.define(\"hassio-system\", HassioSystem);\n","import {\n  HassRouterPage,\n  RouterOptions,\n} from \"../../src/layouts/hass-router-page\";\nimport { customElement, property } from \"lit-element\";\nimport { PolymerElement } from \"@polymer/polymer\";\nimport { HomeAssistant } from \"../../src/types\";\n// Don't codesplit it, that way the dashboard always loads fast.\nimport \"./dashboard/hassio-dashboard\";\n// Don't codesplit the others, because it breaks the UI when pushed to a Pi\nimport \"./snapshots/hassio-snapshots\";\nimport \"./addon-store/hassio-addon-store\";\nimport \"./system/hassio-system\";\nimport {\n  HassioSupervisorInfo,\n  HassioHostInfo,\n  HassioHomeAssistantInfo,\n} from \"../../src/data/hassio\";\n\n@customElement(\"hassio-tabs-router\")\nclass HassioTabsRouter extends HassRouterPage {\n  @property() public hass!: HomeAssistant;\n  @property() public supervisorInfo: HassioSupervisorInfo;\n  @property() public hostInfo: HassioHostInfo;\n  @property() public hassInfo: HassioHomeAssistantInfo;\n\n  protected routerOptions: RouterOptions = {\n    routes: {\n      dashboard: {\n        tag: \"hassio-dashboard\",\n      },\n      snapshots: {\n        tag: \"hassio-snapshots\",\n      },\n      store: {\n        tag: \"hassio-addon-store\",\n      },\n      system: {\n        tag: \"hassio-system\",\n      },\n    },\n  };\n\n  protected updatePageEl(el) {\n    if (\"setProperties\" in el) {\n      // As long as we have Polymer pages\n      (el as PolymerElement).setProperties({\n        hass: this.hass,\n        supervisorInfo: this.supervisorInfo,\n        hostInfo: this.hostInfo,\n        hassInfo: this.hassInfo,\n      });\n    } else {\n      el.hass = this.hass;\n      el.supervisorInfo = this.supervisorInfo;\n      el.hostInfo = this.hostInfo;\n      el.hassInfo = this.hassInfo;\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-tabs-router\": HassioTabsRouter;\n  }\n}\n","import {\n  LitElement,\n  TemplateResult,\n  html,\n  CSSResultArray,\n  css,\n  customElement,\n  property,\n} from \"lit-element\";\nimport \"@polymer/app-layout/app-header-layout/app-header-layout\";\nimport \"@polymer/app-layout/app-header/app-header\";\nimport \"@polymer/app-layout/app-toolbar/app-toolbar\";\nimport \"@polymer/paper-icon-button/paper-icon-button\";\nimport \"@polymer/paper-tabs/paper-tab\";\nimport \"@polymer/paper-tabs/paper-tabs\";\n\nimport \"../../src/components/ha-menu-button\";\nimport \"../../src/resources/ha-style\";\nimport \"./hassio-tabs-router\";\n\nimport scrollToTarget from \"../../src/common/dom/scroll-to-target\";\n\nimport { haStyle } from \"../../src/resources/styles\";\nimport { HomeAssistant, Route } from \"../../src/types\";\nimport { navigate } from \"../../src/common/navigate\";\nimport {\n  HassioSupervisorInfo,\n  HassioHostInfo,\n  HassioHomeAssistantInfo,\n} from \"../../src/data/hassio\";\n\nconst HAS_REFRESH_BUTTON = [\"store\", \"snapshots\"];\n\n@customElement(\"hassio-pages-with-tabs\")\nclass HassioPagesWithTabs extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public narrow!: boolean;\n  @property() public route!: Route;\n  @property() public supervisorInfo!: HassioSupervisorInfo;\n  @property() public hostInfo!: HassioHostInfo;\n  @property() public hassInfo!: HassioHomeAssistantInfo;\n\n  protected render(): TemplateResult | void {\n    const page = this._page;\n    return html`\n      <app-header-layout has-scrolling-region>\n        <app-header fixed slot=\"header\">\n          <app-toolbar>\n            <ha-menu-button\n              .hass=${this.hass}\n              .narrow=${this.narrow}\n              hassio\n            ></ha-menu-button>\n            <div main-title>Hass.io</div>\n            ${HAS_REFRESH_BUTTON.includes(page)\n              ? html`\n                  <paper-icon-button\n                    icon=\"hassio:refresh\"\n                    @click=${this.refreshClicked}\n                  ></paper-icon-button>\n                `\n              : undefined}\n          </app-toolbar>\n          <paper-tabs\n            scrollable\n            attr-for-selected=\"page-name\"\n            .selected=${page}\n            @iron-activate=${this.handlePageSelected}\n          >\n            <paper-tab page-name=\"dashboard\">Dashboard</paper-tab>\n            <paper-tab page-name=\"snapshots\">Snapshots</paper-tab>\n            <paper-tab page-name=\"store\">Add-on store</paper-tab>\n            <paper-tab page-name=\"system\">System</paper-tab>\n          </paper-tabs>\n        </app-header>\n        <hassio-tabs-router\n          .route=${this.route}\n          .hass=${this.hass}\n          .supervisorInfo=${this.supervisorInfo}\n          .hostInfo=${this.hostInfo}\n          .hassInfo=${this.hassInfo}\n        ></hassio-tabs-router>\n      </app-header-layout>\n    `;\n  }\n\n  private handlePageSelected(ev) {\n    const newPage = ev.detail.item.getAttribute(\"page-name\");\n    if (newPage !== this._page) {\n      navigate(this, `/hassio/${newPage}`);\n    }\n\n    scrollToTarget(\n      this,\n      // @ts-ignore\n      this.shadowRoot!.querySelector(\"app-header-layout\").header.scrollTarget\n    );\n  }\n\n  private refreshClicked() {\n    if (this._page === \"snapshots\") {\n      // @ts-ignore\n      this.shadowRoot.querySelector(\"hassio-snapshots\").refreshData();\n    } else {\n      // @ts-ignore\n      this.shadowRoot.querySelector(\"hassio-addon-store\").refreshData();\n    }\n  }\n\n  private get _page() {\n    return this.route.path.substr(1);\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      haStyle,\n      css`\n        :host {\n          color: var(--primary-text-color);\n          --paper-card-header-color: var(--primary-text-color);\n        }\n        paper-tabs {\n          margin-left: 12px;\n          --paper-tabs-selection-bar-color: #fff;\n          text-transform: uppercase;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-pages-with-tabs\": HassioPagesWithTabs;\n  }\n}\n","/**\n * Scroll to a specific y coordinate.\n *\n * Copied from paper-scroll-header-panel.\n *\n * @method scroll\n * @param {number} top The coordinate to scroll to, along the y-axis.\n * @param {boolean} smooth true if the scroll position should be smoothly adjusted.\n */\nexport default function scrollToTarget(element, target) {\n  // the scroll event will trigger _updateScrollState directly,\n  // However, _updateScrollState relies on the previous `scrollTop` to update the states.\n  // Calling _updateScrollState will ensure that the states are synced correctly.\n  const top = 0;\n  const scroller = target;\n  const easingFn = function easeOutQuad(t, b, c, d) {\n    /* eslint-disable no-param-reassign, space-infix-ops, no-mixed-operators */\n    t /= d;\n    return -c * t * (t - 2) + b;\n    /* eslint-enable no-param-reassign, space-infix-ops, no-mixed-operators */\n  };\n  const animationId = Math.random();\n  const duration = 200;\n  const startTime = Date.now();\n  const currentScrollTop = scroller.scrollTop;\n  const deltaScrollTop = top - currentScrollTop;\n  element._currentAnimationId = animationId;\n  (function updateFrame() {\n    const now = Date.now();\n    const elapsedTime = now - startTime;\n    if (elapsedTime > duration) {\n      scroller.scrollTop = top;\n    } else if (element._currentAnimationId === animationId) {\n      scroller.scrollTop = easingFn(\n        elapsedTime,\n        currentScrollTop,\n        deltaScrollTop,\n        duration\n      );\n      requestAnimationFrame(updateFrame.bind(element));\n    }\n  }.call(element));\n}\n","import { customElement, PropertyValues, property } from \"lit-element\";\nimport { PolymerElement } from \"@polymer/polymer\";\nimport \"@polymer/paper-icon-button\";\n\nimport \"../../src/resources/ha-style\";\nimport applyThemesOnElement from \"../../src/common/dom/apply_themes_on_element\";\nimport { fireEvent } from \"../../src/common/dom/fire_event\";\nimport {\n  HassRouterPage,\n  RouterOptions,\n} from \"../../src/layouts/hass-router-page\";\nimport { HomeAssistant } from \"../../src/types\";\nimport {\n  fetchHassioSupervisorInfo,\n  fetchHassioHostInfo,\n  fetchHassioHomeAssistantInfo,\n  HassioSupervisorInfo,\n  HassioHostInfo,\n  HassioHomeAssistantInfo,\n  fetchHassioAddonInfo,\n  createHassioSession,\n  HassioPanelInfo,\n} from \"../../src/data/hassio\";\nimport { makeDialogManager } from \"../../src/dialogs/make-dialog-manager\";\nimport { ProvideHassLitMixin } from \"../../src/mixins/provide-hass-lit-mixin\";\n// Don't codesplit it, that way the dashboard always loads fast.\nimport \"./hassio-pages-with-tabs\";\n\n// The register callback of the IronA11yKeysBehavior inside paper-icon-button\n// is not called, causing _keyBindings to be uninitiliazed for paper-icon-button,\n// causing an exception when added to DOM. When transpiled to ES5, this will\n// break the build.\ncustomElements.get(\"paper-icon-button\").prototype._keyBindings = {};\n\n@customElement(\"hassio-main\")\nclass HassioMain extends ProvideHassLitMixin(HassRouterPage) {\n  @property() public hass!: HomeAssistant;\n  @property() public panel!: HassioPanelInfo;\n  @property() public narrow!: boolean;\n\n  protected routerOptions: RouterOptions = {\n    // Hass.io has a page with tabs, so we route all non-matching routes to it.\n    defaultPage: \"dashboard\",\n    initialLoad: () => this._fetchData(),\n    showLoading: true,\n    routes: {\n      dashboard: {\n        tag: \"hassio-pages-with-tabs\",\n        cache: true,\n      },\n      snapshots: \"dashboard\",\n      store: \"dashboard\",\n      system: \"dashboard\",\n      addon: {\n        tag: \"hassio-addon-view\",\n        load: () =>\n          import(/* webpackChunkName: \"hassio-addon-view\" */ \"./addon-view/hassio-addon-view\"),\n      },\n      ingress: {\n        tag: \"hassio-ingress-view\",\n        load: () =>\n          import(/* webpackChunkName: \"hassio-ingress-view\" */ \"./ingress-view/hassio-ingress-view\"),\n      },\n    },\n  };\n\n  @property() private _supervisorInfo: HassioSupervisorInfo;\n  @property() private _hostInfo: HassioHostInfo;\n  @property() private _hassInfo: HassioHomeAssistantInfo;\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n\n    applyThemesOnElement(this, this.hass.themes, this.hass.selectedTheme, true);\n    this.addEventListener(\"hass-api-called\", (ev) => this._apiCalled(ev));\n    // Paulus - March 17, 2019\n    // We went to a single hass-toggle-menu event in HA 0.90. However, the\n    // supervisor UI can also run under older versions of Home Assistant.\n    // So here we are going to translate toggle events into the appropriate\n    // open and close events. These events are a no-op in newer versions of\n    // Home Assistant.\n    this.addEventListener(\"hass-toggle-menu\", () => {\n      fireEvent(\n        (window.parent as any).customPanel,\n        // @ts-ignore\n        this.hass.dockedSidebar ? \"hass-close-menu\" : \"hass-open-menu\"\n      );\n    });\n    // Paulus - March 19, 2019\n    // We changed the navigate event to fire directly on the window, as that's\n    // where we are listening for it. However, the older panel_custom will\n    // listen on this element for navigation events, so we need to forward them.\n    window.addEventListener(\"location-changed\", (ev) =>\n      // @ts-ignore\n      fireEvent(this, ev.type, ev.detail, {\n        bubbles: false,\n      })\n    );\n\n    makeDialogManager(this, document.body);\n  }\n\n  protected updatePageEl(el) {\n    // the tabs page does its own routing so needs full route.\n    const route =\n      el.nodeName === \"HASSIO-PAGES-WITH-TABS\" ? this.route : this.routeTail;\n\n    if (\"setProperties\" in el) {\n      // As long as we have Polymer pages\n      (el as PolymerElement).setProperties({\n        hass: this.hass,\n        narrow: this.narrow,\n        supervisorInfo: this._supervisorInfo,\n        hostInfo: this._hostInfo,\n        hassInfo: this._hassInfo,\n        route,\n      });\n    } else {\n      el.hass = this.hass;\n      el.narrow = this.narrow;\n      el.supervisorInfo = this._supervisorInfo;\n      el.hostInfo = this._hostInfo;\n      el.hassInfo = this._hassInfo;\n      el.route = route;\n    }\n  }\n\n  private async _fetchData() {\n    if (this.panel.config && this.panel.config.ingress) {\n      await this._redirectIngress(this.panel.config.ingress);\n      return;\n    }\n\n    const [supervisorInfo, hostInfo, hassInfo] = await Promise.all([\n      fetchHassioSupervisorInfo(this.hass),\n      fetchHassioHostInfo(this.hass),\n      fetchHassioHomeAssistantInfo(this.hass),\n    ]);\n    this._supervisorInfo = supervisorInfo;\n    this._hostInfo = hostInfo;\n    this._hassInfo = hassInfo;\n  }\n\n  private async _redirectIngress(addonSlug: string) {\n    try {\n      const [addon] = await Promise.all([\n        fetchHassioAddonInfo(this.hass, addonSlug).catch(() => {\n          throw new Error(\"Failed to fetch add-on info\");\n        }),\n        createHassioSession(this.hass).catch(() => {\n          throw new Error(\"Failed to create an ingress session\");\n        }),\n      ]);\n      if (!addon.ingress_url) {\n        throw new Error(\"Add-on does not support Ingress\");\n      }\n      location.assign(addon.ingress_url);\n      // await a promise that doesn't resolve, so we show the loading screen\n      // while we load the next page.\n      await new Promise(() => undefined);\n    } catch (err) {\n      alert(`Unable to open ingress connection `);\n    }\n  }\n\n  private _apiCalled(ev) {\n    if (!ev.detail.success) {\n      return;\n    }\n\n    let tries = 1;\n\n    const tryUpdate = () => {\n      this._fetchData().catch(() => {\n        tries += 1;\n        setTimeout(tryUpdate, Math.min(tries, 5) * 1000);\n      });\n    };\n\n    tryUpdate();\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-main\": HassioMain;\n  }\n}\n","/**\n * Apply a theme to an element by setting the CSS variables on it.\n *\n * element: Element to apply theme on.\n * themes: HASS Theme information\n * localTheme: selected theme.\n * updateMeta: boolean if we should update the theme-color meta element.\n */\nexport default function applyThemesOnElement(\n  element,\n  themes,\n  localTheme,\n  updateMeta = false\n) {\n  if (!element._themes) {\n    element._themes = {};\n  }\n  let themeName = themes.default_theme;\n  if (localTheme === \"default\" || (localTheme && themes.themes[localTheme])) {\n    themeName = localTheme;\n  }\n  const styles = { ...element._themes };\n  if (themeName !== \"default\") {\n    const theme = themes.themes[themeName];\n    Object.keys(theme).forEach((key) => {\n      const prefixedKey = \"--\" + key;\n      element._themes[prefixedKey] = \"\";\n      styles[prefixedKey] = theme[key];\n    });\n  }\n  if (element.updateStyles) {\n    element.updateStyles(styles);\n  } else if (window.ShadyCSS) {\n    // implement updateStyles() method of Polemer elements\n    window.ShadyCSS.styleSubtree(/** @type {!HTMLElement} */ (element), styles);\n  }\n\n  if (!updateMeta) {\n    return;\n  }\n\n  const meta = document.querySelector(\"meta[name=theme-color]\");\n  if (meta) {\n    if (!meta.hasAttribute(\"default-content\")) {\n      meta.setAttribute(\"default-content\", meta.getAttribute(\"content\")!);\n    }\n    const themeColor =\n      styles[\"--primary-color\"] || meta.getAttribute(\"default-content\");\n    meta.setAttribute(\"content\", themeColor);\n  }\n}\n","import { html } from \"@polymer/polymer/lib/utils/html-tag\";\n\nexport const ANSI_HTML_STYLE = html`\n  <style>\n    .bold {\n      font-weight: bold;\n    }\n    .italic {\n      font-style: italic;\n    }\n    .underline {\n      text-decoration: underline;\n    }\n    .strikethrough {\n      text-decoration: line-through;\n    }\n    .underline.strikethrough {\n      text-decoration: underline line-through;\n    }\n    .fg-red {\n      color: rgb(222, 56, 43);\n    }\n    .fg-green {\n      color: rgb(57, 181, 74);\n    }\n    .fg-yellow {\n      color: rgb(255, 199, 6);\n    }\n    .fg-blue {\n      color: rgb(0, 111, 184);\n    }\n    .fg-magenta {\n      color: rgb(118, 38, 113);\n    }\n    .fg-cyan {\n      color: rgb(44, 181, 233);\n    }\n    .fg-white {\n      color: rgb(204, 204, 204);\n    }\n    .bg-black {\n      background-color: rgb(0, 0, 0);\n    }\n    .bg-red {\n      background-color: rgb(222, 56, 43);\n    }\n    .bg-green {\n      background-color: rgb(57, 181, 74);\n    }\n    .bg-yellow {\n      background-color: rgb(255, 199, 6);\n    }\n    .bg-blue {\n      background-color: rgb(0, 111, 184);\n    }\n    .bg-magenta {\n      background-color: rgb(118, 38, 113);\n    }\n    .bg-cyan {\n      background-color: rgb(44, 181, 233);\n    }\n    .bg-white {\n      background-color: rgb(204, 204, 204);\n    }\n  </style>\n`;\n\nexport function parseTextToColoredPre(text) {\n  const pre = document.createElement(\"pre\");\n  const re = /\\033(?:\\[(.*?)[@-~]|\\].*?(?:\\007|\\033\\\\))/g;\n  let i = 0;\n\n  const state = {\n    bold: false,\n    italic: false,\n    underline: false,\n    strikethrough: false,\n    foregroundColor: null,\n    backgroundColor: null,\n  };\n\n  const addSpan = (content) => {\n    const span = document.createElement(\"span\");\n    if (state.bold) span.classList.add(\"bold\");\n    if (state.italic) span.classList.add(\"italic\");\n    if (state.underline) span.classList.add(\"underline\");\n    if (state.strikethrough) span.classList.add(\"strikethrough\");\n    if (state.foregroundColor !== null)\n      span.classList.add(`fg-${state.foregroundColor}`);\n    if (state.backgroundColor !== null)\n      span.classList.add(`bg-${state.backgroundColor}`);\n    span.appendChild(document.createTextNode(content));\n    pre.appendChild(span);\n  };\n\n  /* eslint-disable no-cond-assign */\n  let match;\n  while ((match = re.exec(text)) !== null) {\n    const j = match.index;\n    addSpan(text.substring(i, j));\n    i = j + match[0].length;\n\n    if (match[1] === undefined) continue;\n\n    for (const colorCode of match[1].split(\";\")) {\n      switch (parseInt(colorCode)) {\n        case 0:\n          // reset\n          state.bold = false;\n          state.italic = false;\n          state.underline = false;\n          state.strikethrough = false;\n          state.foregroundColor = null;\n          state.backgroundColor = null;\n          break;\n        case 1:\n          state.bold = true;\n          break;\n        case 3:\n          state.italic = true;\n          break;\n        case 4:\n          state.underline = true;\n          break;\n        case 9:\n          state.strikethrough = true;\n          break;\n        case 22:\n          state.bold = false;\n          break;\n        case 23:\n          state.italic = false;\n          break;\n        case 24:\n          state.underline = false;\n          break;\n        case 29:\n          state.strikethrough = false;\n          break;\n        case 30:\n          // foreground black\n          state.foregroundColor = null;\n          break;\n        case 31:\n          state.foregroundColor = \"red\";\n          break;\n        case 32:\n          state.foregroundColor = \"green\";\n          break;\n        case 33:\n          state.foregroundColor = \"yellow\";\n          break;\n        case 34:\n          state.foregroundColor = \"blue\";\n          break;\n        case 35:\n          state.foregroundColor = \"magenta\";\n          break;\n        case 36:\n          state.foregroundColor = \"cyan\";\n          break;\n        case 37:\n          state.foregroundColor = \"white\";\n          break;\n        case 39:\n          // foreground reset\n          state.foregroundColor = null;\n          break;\n        case 40:\n          state.backgroundColor = \"black\";\n          break;\n        case 41:\n          state.backgroundColor = \"red\";\n          break;\n        case 42:\n          state.backgroundColor = \"green\";\n          break;\n        case 43:\n          state.backgroundColor = \"yellow\";\n          break;\n        case 44:\n          state.backgroundColor = \"blue\";\n          break;\n        case 45:\n          state.backgroundColor = \"magenta\";\n          break;\n        case 46:\n          state.backgroundColor = \"cyan\";\n          break;\n        case 47:\n          state.backgroundColor = \"white\";\n          break;\n        case 49:\n          // background reset\n          state.backgroundColor = null;\n          break;\n      }\n    }\n  }\n  addSpan(text.substring(i));\n\n  return pre;\n}\n","// Polymer legacy event helpers used courtesy of the Polymer project.\n//\n// Copyright (c) 2017 The Polymer Authors. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//    * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//    * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//    * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\ndeclare global {\n  // tslint:disable-next-line\n  interface HASSDomEvents {}\n}\n\nexport type ValidHassDomEvent = keyof HASSDomEvents;\n\nexport interface HASSDomEvent<T> extends Event {\n  detail: T;\n}\n\n/**\n * Dispatches a custom event with an optional detail value.\n *\n * @param {string} type Name of event type.\n * @param {*=} detail Detail value containing event-specific\n *   payload.\n * @param {{ bubbles: (boolean|undefined),\n *           cancelable: (boolean|undefined),\n *           composed: (boolean|undefined) }=}\n *  options Object specifying options.  These may include:\n *  `bubbles` (boolean, defaults to `true`),\n *  `cancelable` (boolean, defaults to false), and\n *  `node` on which to fire the event (HTMLElement, defaults to `this`).\n * @return {Event} The new event that was fired.\n */\nexport const fireEvent = <HassEvent extends ValidHassDomEvent>(\n  node: HTMLElement | Window,\n  type: HassEvent,\n  detail?: HASSDomEvents[HassEvent],\n  options?: {\n    bubbles?: boolean;\n    cancelable?: boolean;\n    composed?: boolean;\n  }\n) => {\n  options = options || {};\n  // @ts-ignore\n  detail = detail === null || detail === undefined ? {} : detail;\n  const event = new Event(type, {\n    bubbles: options.bubbles === undefined ? true : options.bubbles,\n    cancelable: Boolean(options.cancelable),\n    composed: options.composed === undefined ? true : options.composed,\n  });\n  (event as any).detail = detail;\n  node.dispatchEvent(event);\n  return event;\n};\n","import \"@polymer/paper-styles/paper-styles\";\nimport \"@polymer/polymer/lib/elements/custom-style\";\nimport { haStyle, haStyleDialog } from \"./styles\";\n\nconst documentContainer = document.createElement(\"template\");\ndocumentContainer.setAttribute(\"style\", \"display: none;\");\n\ndocumentContainer.innerHTML = `<custom-style>\n  <style>\n    /*\n      Home Assistant default styles.\n\n      In Polymer 2.0, default styles should to be set on the html selector.\n      (Setting all default styles only on body breaks shadyCSS polyfill.)\n      See: https://github.com/home-assistant/home-assistant-polymer/pull/901\n    */\n    html {\n      font-size: 14px;\n      height: 100vh;\n\n      /* text */\n      --primary-text-color: #212121;\n      --secondary-text-color: #727272;\n      --text-primary-color: #ffffff;\n      --disabled-text-color: #bdbdbd;\n\n      /* main interface colors */\n      --primary-color: #03a9f4;\n      --dark-primary-color: #0288d1;\n      --light-primary-color: #b3e5fC;\n      --accent-color: #ff9800;\n      --divider-color: rgba(0, 0, 0, .12);\n\n      --scrollbar-thumb-color: rgb(194, 194, 194);\n\n      /* states and badges */\n      --state-icon-color: #44739e;\n      --state-icon-active-color: #FDD835;\n      --state-icon-unavailable-color: var(--disabled-text-color);\n\n      /* background and sidebar */\n      --card-background-color: #ffffff;\n      --primary-background-color: #fafafa;\n      --secondary-background-color: #e5e5e5; /* behind the cards on state */\n\n      /* sidebar menu */\n      --sidebar-text-color: var(--primary-text-color);\n      --sidebar-background-color: var(--paper-listbox-background-color); /* backward compatible with existing themes */\n      --sidebar-icon-color: rgba(0, 0, 0, 0.5);\n      --sidebar-selected-text-color: var(--primary-color);\n      --sidebar-selected-icon-color: var(--primary-color);\n\n      /* controls */\n      --toggle-button-color: var(--primary-color);\n      /* --toggle-button-unchecked-color: var(--accent-color); */\n      --slider-color: var(--primary-color);\n      --slider-secondary-color: var(--light-primary-color);\n      --slider-bar-color: var(--disabled-text-color);\n\n      /* for label-badge */\n      --label-badge-background-color: white;\n      --label-badge-text-color: rgb(76, 76, 76);\n      --label-badge-red: #DF4C1E;\n      --label-badge-blue: #039be5;\n      --label-badge-green: #0DA035;\n      --label-badge-yellow: #f4b400;\n      --label-badge-grey: var(--paper-grey-500);\n\n      /*\n        Paper-styles color.html depency is stripped on build.\n        When a default paper-style color is used, it needs to be copied\n        from paper-styles/color.html to here.\n      */\n\n      --paper-grey-50: #fafafa; /* default for: --paper-toggle-button-unchecked-button-color */\n      --paper-grey-200: #eeeeee;  /* for ha-date-picker-style */\n      --paper-grey-500: #9e9e9e;  /* --label-badge-grey */\n\n      /* for paper-spinner */\n      --google-red-500: #db4437;\n      --google-blue-500: #4285f4;\n      --google-green-500: #0f9d58;\n      --google-yellow-500: #f4b400;\n      --paper-spinner-color: var(--primary-color);\n\n      /* for paper-slider */\n      --paper-green-400: #66bb6a;\n      --paper-blue-400: #42a5f5;\n      --paper-orange-400: #ffa726;\n\n      /* opacity for dark text on a light background */\n      --dark-divider-opacity: 0.12;\n      --dark-disabled-opacity: 0.38; /* or hint text or icon */\n      --dark-secondary-opacity: 0.54;\n      --dark-primary-opacity: 0.87;\n\n      /* opacity for light text on a dark background */\n      --light-divider-opacity: 0.12;\n      --light-disabled-opacity: 0.3; /* or hint text or icon */\n      --light-secondary-opacity: 0.7;\n      --light-primary-opacity: 1.0;\n\n      /* derived colors, to keep existing themes mostly working */\n      --paper-card-background-color: var(--card-background-color);\n      --paper-listbox-background-color: var(--card-background-color);\n      --paper-item-icon-color: var(--state-icon-color);\n      --paper-item-icon-active-color: var(--state-icon-active-color);\n      --table-row-background-color: var(--primary-background-color);\n      --table-row-alternative-background-color: var(--secondary-background-color);\n\n      /* set our toggle style */\n      --paper-toggle-button-checked-ink-color: var(--toggle-button-color);\n      --paper-toggle-button-checked-button-color: var(--toggle-button-color);\n      --paper-toggle-button-checked-bar-color: var(--toggle-button-color);\n      --paper-toggle-button-unchecked-button-color: var(--toggle-button-unchecked-color, var(--paper-grey-50));\n      --paper-toggle-button-unchecked-bar-color: var(--toggle-button-unchecked-color, #000000);\n      /* set our slider style */\n      --paper-slider-knob-color: var(--slider-color);\n      --paper-slider-knob-start-color: var(--slider-color);\n      --paper-slider-pin-color: var(--slider-color);\n      --paper-slider-active-color: var(--slider-color);\n      --paper-slider-secondary-color: var(--slider-secondary-color);\n      --paper-slider-container-color: var(--slider-bar-color);\n      --ha-paper-slider-pin-font-size: 15px;\n\n      /* mwc */\n      --mdc-theme-primary: var(--primary-color);\n    }\n  </style>\n\n  <style shady-unscoped=\"\">\n    /*\n      prevent clipping of positioned elements in a small scrollable\n      force smooth scrolling if can scroll\n      use non-shady selectors so this only targets iOS 9\n      conditional mixin set in ha-style-dialog does not work with shadyCSS\n    */\n    paper-dialog-scrollable:not(.can-scroll) &gt; .scrollable {\n      -webkit-overflow-scrolling: auto !important;\n    }\n\n    paper-dialog-scrollable.can-scroll &gt; .scrollable {\n      -webkit-overflow-scrolling: touch !important;\n    }\n  </style>\n</custom-style><dom-module id=\"ha-style\">\n  <template>\n    <style>\n    ${haStyle.cssText}\n    </style>\n  </template>\n</dom-module><dom-module id=\"ha-style-dialog\">\n  <template>\n    <style>\n      ${haStyleDialog.cssText}\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild(documentContainer.content);\n","import { dedupingMixin } from \"@polymer/polymer/lib/utils/mixin\";\n\nimport { fireEvent } from \"../common/dom/fire_event\";\n\n// Polymer legacy event helpers used courtesy of the Polymer project.\n//\n// Copyright (c) 2017 The Polymer Authors. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//    * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//    * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//    * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n/* @polymerMixin */\nexport const EventsMixin = dedupingMixin(\n  (superClass) =>\n    class extends superClass {\n      /**\n   * Dispatches a custom event with an optional detail value.\n   *\n   * @param {string} type Name of event type.\n   * @param {*=} detail Detail value containing event-specific\n   *   payload.\n   * @param {{ bubbles: (boolean|undefined),\n               cancelable: (boolean|undefined),\n                composed: (boolean|undefined) }=}\n    *  options Object specifying options.  These may include:\n    *  `bubbles` (boolean, defaults to `true`),\n    *  `cancelable` (boolean, defaults to false), and\n    *  `node` on which to fire the event (HTMLElement, defaults to `this`).\n    * @return {Event} The new event that was fired.\n    */\n      fire(type, detail, options) {\n        options = options || {};\n        return fireEvent(options.node || this, type, detail, options);\n      }\n    }\n);\n","import \"@material/mwc-button\";\nimport \"@polymer/paper-spinner/paper-spinner\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nclass HaProgressButton extends PolymerElement {\n  static get template() {\n    return html`\n      <style>\n        .container {\n          position: relative;\n          display: inline-block;\n        }\n\n        mwc-button {\n          transition: all 1s;\n        }\n\n        .success mwc-button {\n          --mdc-theme-primary: white;\n          background-color: var(--google-green-500);\n          transition: none;\n        }\n\n        .error mwc-button {\n          --mdc-theme-primary: white;\n          background-color: var(--google-red-500);\n          transition: none;\n        }\n\n        .progress {\n          @apply --layout;\n          @apply --layout-center-center;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n        }\n      </style>\n      <div class=\"container\" id=\"container\">\n        <mwc-button\n          id=\"button\"\n          disabled=\"[[computeDisabled(disabled, progress)]]\"\n          on-click=\"buttonTapped\"\n        >\n          <slot></slot>\n        </mwc-button>\n        <template is=\"dom-if\" if=\"[[progress]]\">\n          <div class=\"progress\"><paper-spinner active=\"\"></paper-spinner></div>\n        </template>\n      </div>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      progress: {\n        type: Boolean,\n        value: false,\n      },\n\n      disabled: {\n        type: Boolean,\n        value: false,\n      },\n    };\n  }\n\n  tempClass(className) {\n    var classList = this.$.container.classList;\n    classList.add(className);\n    setTimeout(() => {\n      classList.remove(className);\n    }, 1000);\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener(\"click\", (ev) => this.buttonTapped(ev));\n  }\n\n  buttonTapped(ev) {\n    if (this.progress) ev.stopPropagation();\n  }\n\n  actionSuccess() {\n    this.tempClass(\"success\");\n  }\n\n  actionError() {\n    this.tempClass(\"error\");\n  }\n\n  computeDisabled(disabled, progress) {\n    return disabled || progress;\n  }\n}\n\ncustomElements.define(\"ha-progress-button\", HaProgressButton);\n","import { LitElement, html } from \"lit-element\";\n\nimport \"./ha-progress-button\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\n\nclass HaCallApiButton extends LitElement {\n  render() {\n    return html`\n      <ha-progress-button\n        .progress=\"${this.progress}\"\n        @click=\"${this._buttonTapped}\"\n        ?disabled=\"${this.disabled}\"\n        ><slot></slot\n      ></ha-progress-button>\n    `;\n  }\n\n  constructor() {\n    super();\n    this.method = \"POST\";\n    this.data = {};\n    this.disabled = false;\n    this.progress = false;\n  }\n\n  static get properties() {\n    return {\n      hass: {},\n      progress: Boolean,\n      path: String,\n      method: String,\n      data: {},\n      disabled: Boolean,\n    };\n  }\n\n  get progressButton() {\n    return this.renderRoot.querySelector(\"ha-progress-button\");\n  }\n\n  async _buttonTapped() {\n    this.progress = true;\n    const eventData = {\n      method: this.method,\n      path: this.path,\n      data: this.data,\n    };\n\n    try {\n      const resp = await this.hass.callApi(this.method, this.path, this.data);\n      this.progress = false;\n      this.progressButton.actionSuccess();\n      eventData.success = true;\n      eventData.response = resp;\n    } catch (err) {\n      this.progress = false;\n      this.progressButton.actionError();\n      eventData.success = false;\n      eventData.response = err;\n    }\n\n    fireEvent(this, \"hass-api-called\", eventData);\n  }\n}\n\ncustomElements.define(\"ha-call-api-button\", HaCallApiButton);\n","import { LocalizeFunc } from \"../translations/localize\";\n\n/**\n * Calculate a string representing a date object as relative time from now.\n *\n * Example output: 5 minutes ago, in 3 days.\n */\nconst tests = [60, 60, 24, 7];\nconst langKey = [\"second\", \"minute\", \"hour\", \"day\"];\n\nexport default function relativeTime(\n  dateObj: Date,\n  localize: LocalizeFunc,\n  options: {\n    compareTime?: Date;\n    includeTense?: boolean;\n  } = {}\n): string {\n  const compareTime = options.compareTime || new Date();\n  let delta = (compareTime.getTime() - dateObj.getTime()) / 1000;\n  const tense = delta >= 0 ? \"past\" : \"future\";\n  delta = Math.abs(delta);\n\n  let timeDesc;\n\n  for (let i = 0; i < tests.length; i++) {\n    if (delta < tests[i]) {\n      delta = Math.floor(delta);\n      timeDesc = localize(\n        `ui.components.relative_time.duration.${langKey[i]}`,\n        \"count\",\n        delta\n      );\n      break;\n    }\n\n    delta /= tests[i];\n  }\n\n  if (timeDesc === undefined) {\n    delta = Math.floor(delta);\n    timeDesc = localize(\n      \"ui.components.relative_time.duration.week\",\n      \"count\",\n      delta\n    );\n  }\n\n  return options.includeTense === false\n    ? timeDesc\n    : localize(`ui.components.relative_time.${tense}`, \"time\", timeDesc);\n}\n","import { dedupingMixin } from \"@polymer/polymer/lib/utils/mixin\";\n/**\n * Polymer Mixin to enable a localize function powered by language/resources from hass object.\n *\n * @polymerMixin\n */\nexport default dedupingMixin(\n  (superClass) =>\n    class extends superClass {\n      static get properties() {\n        return {\n          hass: Object,\n\n          /**\n           * Translates a string to the current `language`. Any parameters to the\n           * string should be passed in order, as follows:\n           * `localize(stringKey, param1Name, param1Value, param2Name, param2Value)`\n           */\n          localize: {\n            type: Function,\n            computed: \"__computeLocalize(hass.localize)\",\n          },\n        };\n      }\n\n      __computeLocalize(localize) {\n        return localize;\n      }\n    }\n);\n","import { dom } from \"@polymer/polymer/lib/legacy/polymer.dom\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport relativeTime from \"../common/datetime/relative_time\";\n\nimport LocalizeMixin from \"../mixins/localize-mixin\";\n\n/*\n * @appliesMixin LocalizeMixin\n */\nclass HaRelativeTime extends LocalizeMixin(PolymerElement) {\n  static get properties() {\n    return {\n      hass: Object,\n      datetime: {\n        type: String,\n        observer: \"datetimeChanged\",\n      },\n\n      datetimeObj: {\n        type: Object,\n        observer: \"datetimeObjChanged\",\n      },\n\n      parsedDateTime: Object,\n    };\n  }\n\n  constructor() {\n    super();\n    this.updateRelative = this.updateRelative.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // update every 60 seconds\n    this.updateInterval = setInterval(this.updateRelative, 60000);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    clearInterval(this.updateInterval);\n  }\n\n  datetimeChanged(newVal) {\n    this.parsedDateTime = newVal ? new Date(newVal) : null;\n\n    this.updateRelative();\n  }\n\n  datetimeObjChanged(newVal) {\n    this.parsedDateTime = newVal;\n\n    this.updateRelative();\n  }\n\n  updateRelative() {\n    const root = dom(this);\n    if (!this.parsedDateTime) {\n      root.innerHTML = this.localize(\"ui.components.relative_time.never\");\n    } else {\n      root.innerHTML = relativeTime(this.parsedDateTime, this.localize);\n    }\n  }\n}\n\ncustomElements.define(\"ha-relative-time\", HaRelativeTime);\n","import {\n  LitElement,\n  TemplateResult,\n  html,\n  CSSResult,\n  css,\n  property,\n  customElement,\n} from \"lit-element\";\nimport \"@polymer/iron-icon/iron-icon\";\n\nimport \"../../../src/components/ha-relative-time\";\nimport { HomeAssistant } from \"../../../src/types\";\n\n@customElement(\"hassio-card-content\")\nclass HassioCardContent extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public title!: string;\n  @property() public description?: string;\n  @property({ type: Boolean }) public available?: boolean;\n  @property() public datetime?: string;\n  @property() public iconTitle?: string;\n  @property() public iconClass?: string;\n  @property() public icon = \"hass:help-circle\";\n\n  protected render(): TemplateResult | void {\n    return html`\n      <iron-icon\n        class=${this.iconClass}\n        .icon=${this.icon}\n        .title=${this.iconTitle}\n      ></iron-icon>\n      <div>\n        <div class=\"title\">${this.title}</div>\n        <div class=\"addition\">\n          ${this.description}\n          ${/* treat as available when undefined */\n          this.available === false ? \" (Not available)\" : \"\"}\n          ${this.datetime\n            ? html`\n                <ha-relative-time\n                  .hass=${this.hass}\n                  class=\"addition\"\n                  .datetime=${this.datetime}\n                ></ha-relative-time>\n              `\n            : undefined}\n        </div>\n      </div>\n    `;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      iron-icon {\n        margin-right: 16px;\n        margin-top: 16px;\n        float: left;\n        color: var(--secondary-text-color);\n      }\n      iron-icon.update {\n        color: var(--paper-orange-400);\n      }\n      iron-icon.running,\n      iron-icon.installed {\n        color: var(--paper-green-400);\n      }\n      iron-icon.hassupdate,\n      iron-icon.snapshot {\n        color: var(--paper-item-icon-color);\n      }\n      iron-icon.not_available {\n        color: var(--google-red-500);\n      }\n      .title {\n        color: var(--primary-text-color);\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n      .addition {\n        color: var(--secondary-text-color);\n        overflow: hidden;\n        position: relative;\n        height: 2.4em;\n        line-height: 1.2em;\n      }\n      ha-relative-time {\n        display: block;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-card-content\": HassioCardContent;\n  }\n}\n","import { fireEvent } from \"./dom/fire_event\";\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    \"location-changed\": {\n      replace: boolean;\n    };\n  }\n}\n\nexport const navigate = (\n  _node: any,\n  path: string,\n  replace: boolean = false\n) => {\n  if (__DEMO__) {\n    if (replace) {\n      history.replaceState(null, \"\", `${location.pathname}#${path}`);\n    } else {\n      window.location.hash = path;\n    }\n  } else {\n    if (replace) {\n      history.replaceState(null, \"\", path);\n    } else {\n      history.pushState(null, \"\", path);\n    }\n  }\n  fireEvent(window, \"location-changed\", {\n    replace,\n  });\n};\n","import { HomeAssistant, PanelInfo } from \"../types\";\n\nexport type HassioPanelInfo = PanelInfo<\n  | undefined\n  | {\n      ingress?: string;\n    }\n>;\n\ninterface HassioResponse<T> {\n  data: T;\n  result: \"ok\";\n}\n\ninterface CreateSessionResponse {\n  session: string;\n}\n\nexport interface HassioAddonInfo {\n  name: string;\n  slug: string;\n  description: string;\n  repository: \"core\" | \"local\" | string;\n  version: string;\n  installed: string | undefined;\n  detached: boolean;\n  available: boolean;\n  build: boolean;\n  url: string | null;\n  icon: boolean;\n  logo: boolean;\n}\n\nexport interface HassioAddonDetails {\n  name: string;\n  slug: string;\n  description: string;\n  long_description: null | string;\n  auto_update: boolean;\n  url: null | string;\n  detached: boolean;\n  available: boolean;\n  arch: \"armhf\" | \"aarch64\" | \"i386\" | \"amd64\";\n  machine: any;\n  homeassistant: string;\n  repository: null | string;\n  version: null | string;\n  last_version: string;\n  state: \"none\" | \"started\" | \"stopped\";\n  boot: \"auto\" | \"manual\";\n  build: boolean;\n  options: object;\n  network: null | object;\n  host_network: boolean;\n  host_pid: boolean;\n  host_ipc: boolean;\n  host_dbus: boolean;\n  privileged: any;\n  apparmor: \"disable\" | \"default\" | \"profile\";\n  devices: string[];\n  auto_uart: boolean;\n  icon: boolean;\n  logo: boolean;\n  changelog: boolean;\n  hassio_api: boolean;\n  hassio_role: \"default\" | \"homeassistant\" | \"manager\" | \"admin\";\n  homeassistant_api: boolean;\n  auth_api: boolean;\n  full_access: boolean;\n  protected: boolean;\n  rating: \"1-6\";\n  stdin: boolean;\n  webui: null | string;\n  gpio: boolean;\n  kernel_modules: boolean;\n  devicetree: boolean;\n  docker_api: boolean;\n  audio: boolean;\n  audio_input: null | string;\n  audio_output: null | string;\n  services_role: string[];\n  discovery: string[];\n  ip_address: string;\n  ingress: boolean;\n  ingress_entry: null | string;\n  ingress_url: null | string;\n}\n\nexport interface HassioAddonRepository {\n  slug: string;\n  name: string;\n  source: string;\n  url: string;\n  maintainer: string;\n}\n\nexport interface HassioAddonsInfo {\n  addons: HassioAddonInfo[];\n  repositories: HassioAddonRepository[];\n}\nexport interface HassioHassOSInfo {\n  version: string;\n  version_cli: string;\n  version_latest: string;\n  version_cli_latest: string;\n  board: \"ova\" | \"rpi\";\n}\nexport type HassioHomeAssistantInfo = any;\nexport type HassioSupervisorInfo = any;\nexport type HassioHostInfo = any;\n\nexport interface HassioSnapshot {\n  slug: string;\n  date: string;\n  name: string;\n  type: \"full\" | \"partial\";\n  protected: boolean;\n}\n\nexport interface HassioSnapshotDetail extends HassioSnapshot {\n  size: string;\n  homeassistant: string;\n  addons: Array<{\n    slug: \"ADDON_SLUG\";\n    name: \"NAME\";\n    version: \"INSTALLED_VERSION\";\n    size: \"SIZE_IN_MB\";\n  }>;\n  repositories: string[];\n  folders: string[];\n}\n\nexport interface HassioFullSnapshotCreateParams {\n  name: string;\n  password?: string;\n}\nexport interface HassioPartialSnapshotCreateParams {\n  name: string;\n  folders: string[];\n  addons: string[];\n  password?: string;\n}\n\nconst hassioApiResultExtractor = <T>(response: HassioResponse<T>) =>\n  response.data;\n\nexport const createHassioSession = async (hass: HomeAssistant) => {\n  const response = await hass.callApi<HassioResponse<CreateSessionResponse>>(\n    \"POST\",\n    \"hassio/ingress/session\"\n  );\n  document.cookie = `ingress_session=${\n    response.data.session\n  };path=/api/hassio_ingress/`;\n};\n\nexport const reloadHassioAddons = (hass: HomeAssistant) =>\n  hass.callApi<unknown>(\"POST\", `hassio/addons/reload`);\n\nexport const fetchHassioAddonsInfo = (hass: HomeAssistant) =>\n  hass\n    .callApi<HassioResponse<HassioAddonsInfo>>(\"GET\", `hassio/addons`)\n    .then(hassioApiResultExtractor);\n\nexport const fetchHassioAddonInfo = (hass: HomeAssistant, addon: string) =>\n  hass\n    .callApi<HassioResponse<HassioAddonDetails>>(\n      \"GET\",\n      `hassio/addons/${addon}/info`\n    )\n    .then(hassioApiResultExtractor);\n\nexport const fetchHassioSupervisorInfo = (hass: HomeAssistant) =>\n  hass\n    .callApi<HassioResponse<HassioSupervisorInfo>>(\n      \"GET\",\n      \"hassio/supervisor/info\"\n    )\n    .then(hassioApiResultExtractor);\n\nexport const fetchHassioHostInfo = (hass: HomeAssistant) =>\n  hass\n    .callApi<HassioResponse<HassioHostInfo>>(\"GET\", \"hassio/host/info\")\n    .then(hassioApiResultExtractor);\n\nexport const fetchHassioHomeAssistantInfo = (hass: HomeAssistant) =>\n  hass\n    .callApi<HassioResponse<HassioHomeAssistantInfo>>(\n      \"GET\",\n      \"hassio/homeassistant/info\"\n    )\n    .then(hassioApiResultExtractor);\n\nexport const fetchHassioSnapshots = (hass: HomeAssistant) =>\n  hass\n    .callApi<HassioResponse<{ snapshots: HassioSnapshot[] }>>(\n      \"GET\",\n      \"hassio/snapshots\"\n    )\n    .then((resp) => resp.data.snapshots);\n\nexport const reloadHassioSnapshots = (hass: HomeAssistant) =>\n  hass.callApi<unknown>(\"POST\", `hassio/snapshots/reload`);\n\nexport const createHassioFullSnapshot = (\n  hass: HomeAssistant,\n  data: HassioFullSnapshotCreateParams\n) => hass.callApi<unknown>(\"POST\", \"hassio/snapshots/new/full\", data);\n\nexport const createHassioPartialSnapshot = (\n  hass: HomeAssistant,\n  data: HassioPartialSnapshotCreateParams\n) => hass.callApi<unknown>(\"POST\", \"hassio/snapshots/new/partial\", data);\n\nexport const fetchHassioSnapshotInfo = (\n  hass: HomeAssistant,\n  snapshot: string\n) =>\n  hass\n    .callApi<HassioResponse<HassioSnapshotDetail>>(\n      \"GET\",\n      `hassio/snapshots/${snapshot}/info`\n    )\n    .then(hassioApiResultExtractor);\n","import { css } from \"lit-element\";\n\nexport const haStyle = css`\n  :host {\n    @apply --paper-font-body1;\n  }\n\n  app-header-layout,\n  ha-app-layout {\n    background-color: var(--primary-background-color);\n  }\n\n  app-header,\n  app-toolbar {\n    background-color: var(--primary-color);\n    font-weight: 400;\n    color: var(--text-primary-color, white);\n  }\n\n  app-toolbar ha-menu-button + [main-title],\n  app-toolbar ha-paper-icon-button-arrow-prev + [main-title],\n  app-toolbar paper-icon-button + [main-title] {\n    margin-left: 24px;\n  }\n\n  h1 {\n    @apply --paper-font-title;\n  }\n\n  button.link {\n    background: none;\n    color: inherit;\n    border: none;\n    padding: 0;\n    font: inherit;\n    text-align: left;\n    text-decoration: underline;\n    cursor: pointer;\n  }\n\n  .card-actions a {\n    text-decoration: none;\n  }\n\n  .card-actions .warning {\n    --mdc-theme-primary: var(--google-red-500);\n  }\n`;\n\nexport const haStyleDialog = css`\n  /* prevent clipping of positioned elements */\n  paper-dialog-scrollable {\n    --paper-dialog-scrollable: {\n      -webkit-overflow-scrolling: auto;\n    }\n  }\n\n  /* force smooth scrolling for iOS 10 */\n  paper-dialog-scrollable.can-scroll {\n    --paper-dialog-scrollable: {\n      -webkit-overflow-scrolling: touch;\n    }\n  }\n\n  .paper-dialog-buttons {\n    align-items: flex-end;\n    padding: 8px;\n  }\n\n  .paper-dialog-buttons .warning {\n    --mdc-theme-primary: var(--google-red-500);\n  }\n\n  @media all and (max-width: 450px), all and (max-height: 500px) {\n    paper-dialog,\n    ha-paper-dialog {\n      margin: 0;\n      width: 100% !important;\n      max-height: calc(100% - 64px);\n\n      position: fixed !important;\n      bottom: 0px;\n      left: 0px;\n      right: 0px;\n      overflow: scroll;\n      border-bottom-left-radius: 0px;\n      border-bottom-right-radius: 0px;\n    }\n  }\n`;\n","import {\n  createCollection,\n  Connection,\n  HassEntity,\n} from \"home-assistant-js-websocket\";\n\nexport interface PersitentNotificationEntity extends HassEntity {\n  notification_id?: string;\n  created_at?: string;\n  title?: string;\n  message?: string;\n}\n\nexport interface PersistentNotification {\n  created_at: string;\n  message: string;\n  notification_id: string;\n  title: string;\n  status: \"read\" | \"unread\";\n}\n\nconst fetchNotifications = (conn) =>\n  conn.sendMessagePromise({\n    type: \"persistent_notification/get\",\n  });\n\nconst subscribeUpdates = (conn, store) =>\n  conn.subscribeEvents(\n    () => fetchNotifications(conn).then((ntf) => store.setState(ntf, true)),\n    \"persistent_notifications_updated\"\n  );\n\nexport const subscribeNotifications = (\n  conn: Connection,\n  onChange: (notifications: PersistentNotification[]) => void\n) =>\n  createCollection<PersistentNotification[]>(\n    \"_ntf\",\n    fetchNotifications,\n    subscribeUpdates,\n    conn,\n    onChange\n  );\n","import \"@polymer/paper-icon-button/paper-icon-button\";\nimport {\n  property,\n  TemplateResult,\n  LitElement,\n  html,\n  customElement,\n  CSSResult,\n  css,\n} from \"lit-element\";\n\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport { HomeAssistant } from \"../types\";\nimport { UnsubscribeFunc } from \"home-assistant-js-websocket\";\nimport { subscribeNotifications } from \"../data/persistent_notification\";\nimport computeDomain from \"../common/entity/compute_domain\";\n\n@customElement(\"ha-menu-button\")\nclass HaMenuButton extends LitElement {\n  @property({ type: Boolean }) public hassio = false;\n  @property() public narrow!: boolean;\n  @property() public hass!: HomeAssistant;\n  @property() private _hasNotifications = false;\n  private _alwaysVisible = false;\n  private _attachNotifOnConnect = false;\n  private _unsubNotifications?: UnsubscribeFunc;\n\n  public connectedCallback() {\n    super.connectedCallback();\n    if (this._attachNotifOnConnect) {\n      this._attachNotifOnConnect = false;\n      this._subscribeNotifications();\n    }\n  }\n\n  public disconnectedCallback() {\n    super.disconnectedCallback();\n    if (this._unsubNotifications) {\n      this._attachNotifOnConnect = true;\n      this._unsubNotifications();\n      this._unsubNotifications = undefined;\n    }\n  }\n\n  protected render(): TemplateResult | void {\n    const hasNotifications =\n      this.narrow &&\n      (this._hasNotifications ||\n        Object.keys(this.hass.states).some(\n          (entityId) => computeDomain(entityId) === \"configurator\"\n        ));\n    return html`\n      <paper-icon-button\n        aria-label=\"Sidebar Toggle\"\n        .icon=${this.hassio ? \"hassio:menu\" : \"hass:menu\"}\n        @click=${this._toggleMenu}\n      ></paper-icon-button>\n      ${hasNotifications\n        ? html`\n            <div class=\"dot\"></div>\n          `\n        : \"\"}\n    `;\n  }\n\n  protected firstUpdated(changedProps) {\n    super.firstUpdated(changedProps);\n    if (!this.hassio) {\n      return;\n    }\n    // This component is used on Hass.io too, but Hass.io might run the UI\n    // on older frontends too, that don't have an always visible menu button\n    // in the sidebar.\n    this._alwaysVisible =\n      (Number((window.parent as any).frontendVersion) || 0) < 20190710;\n  }\n\n  protected updated(changedProps) {\n    super.updated(changedProps);\n\n    if (!changedProps.has(\"narrow\")) {\n      return;\n    }\n\n    this.style.visibility =\n      this.narrow || this._alwaysVisible ? \"initial\" : \"hidden\";\n\n    if (!this.narrow) {\n      this._hasNotifications = false;\n      if (this._unsubNotifications) {\n        this._unsubNotifications();\n        this._unsubNotifications = undefined;\n      }\n      return;\n    }\n\n    this._subscribeNotifications();\n  }\n\n  private _subscribeNotifications() {\n    this._unsubNotifications = subscribeNotifications(\n      this.hass.connection,\n      (notifications) => {\n        this._hasNotifications = notifications.length > 0;\n      }\n    );\n  }\n\n  private _toggleMenu(): void {\n    fireEvent(this, \"hass-toggle-menu\");\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        position: relative;\n      }\n      .dot {\n        position: absolute;\n        background-color: var(--accent-color);\n        width: 12px;\n        height: 12px;\n        top: 8px;\n        right: 5px;\n        border-radius: 50%;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-menu-button\": HaMenuButton;\n  }\n}\n","export default function computeDomain(entityId: string): string {\n  return entityId.substr(0, entityId.indexOf(\".\"));\n}\n","import {\n  LitElement,\n  property,\n  TemplateResult,\n  html,\n  customElement,\n  css,\n  CSSResult,\n} from \"lit-element\";\nimport \"../components/ha-menu-button\";\nimport \"../components/ha-paper-icon-button-arrow-prev\";\n\n@customElement(\"hass-subpage\")\nclass HassSubpage extends LitElement {\n  @property()\n  public header?: string;\n\n  @property({ type: Boolean })\n  public hassio = false;\n\n  protected render(): TemplateResult | void {\n    return html`\n      <div class=\"toolbar\">\n        <ha-paper-icon-button-arrow-prev\n          .hassio=${this.hassio}\n          @click=${this._backTapped}\n        ></ha-paper-icon-button-arrow-prev>\n\n        <div main-title>${this.header}</div>\n        <slot name=\"toolbar-icon\"></slot>\n      </div>\n      <div class=\"content\"><slot></slot></div>\n    `;\n  }\n\n  private _backTapped(): void {\n    history.back();\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        display: block;\n        height: 100%;\n        background-color: var(--primary-background-color);\n      }\n\n      .toolbar {\n        display: flex;\n        align-items: center;\n        font-size: 20px;\n        height: 64px;\n        padding: 0 16px;\n        pointer-events: none;\n        background-color: var(--primary-color);\n        font-weight: 400;\n        color: var(--text-primary-color, white);\n      }\n\n      ha-menu-button,\n      ha-paper-icon-button-arrow-prev,\n      ::slotted([slot=\"toolbar-icon\"]) {\n        pointer-events: auto;\n      }\n\n      [main-title] {\n        margin: 0 0 0 24px;\n        line-height: 20px;\n        flex-grow: 1;\n      }\n\n      .content {\n        position: relative;\n        width: 100%;\n        height: calc(100% - 64px);\n        overflow-y: auto;\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-subpage\": HassSubpage;\n  }\n}\n","import { Constructor } from \"lit-element\";\nimport \"@polymer/paper-icon-button/paper-icon-button\";\n// Not duplicate, this is for typing.\n// tslint:disable-next-line\nimport { PaperIconButtonElement } from \"@polymer/paper-icon-button/paper-icon-button\";\n\nconst paperIconButtonClass = customElements.get(\n  \"paper-icon-button\"\n) as Constructor<PaperIconButtonElement>;\n\nexport class HaPaperIconButtonArrowPrev extends paperIconButtonClass {\n  public hassio?: boolean;\n\n  public connectedCallback() {\n    this.icon =\n      window.getComputedStyle(this).direction === \"ltr\"\n        ? this.hassio\n          ? \"hassio:arrow-left\"\n          : \"hass:arrow-left\"\n        : this.hassio\n        ? \"hassio:arrow-right\"\n        : \"hass:arrow-right\";\n\n    // calling super after setting icon to have it consistently show the icon (otherwise not always shown)\n    super.connectedCallback();\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-paper-icon-button-arrow-prev\": HaPaperIconButtonArrowPrev;\n  }\n}\n\ncustomElements.define(\n  \"ha-paper-icon-button-arrow-prev\",\n  HaPaperIconButtonArrowPrev\n);\n","import \"@polymer/app-layout/app-toolbar/app-toolbar\";\nimport \"@polymer/paper-spinner/paper-spinner-lite\";\nimport {\n  LitElement,\n  TemplateResult,\n  html,\n  CSSResultArray,\n  css,\n  customElement,\n  property,\n} from \"lit-element\";\nimport \"../components/ha-menu-button\";\nimport \"../components/ha-paper-icon-button-arrow-prev\";\nimport { haStyle } from \"../resources/styles\";\nimport { HomeAssistant } from \"../types\";\n\n@customElement(\"hass-loading-screen\")\nclass HassLoadingScreen extends LitElement {\n  @property({ type: Boolean }) public rootnav? = false;\n  @property() public hass?: HomeAssistant;\n  @property() public narrow?: boolean;\n\n  protected render(): TemplateResult | void {\n    return html`\n      <app-toolbar>\n        ${this.rootnav\n          ? html`\n              <ha-menu-button\n                .hass=${this.hass}\n                .narrow=${this.narrow}\n              ></ha-menu-button>\n            `\n          : html`\n              <ha-paper-icon-button-arrow-prev\n                @click=${this._handleBack}\n              ></ha-paper-icon-button-arrow-prev>\n            `}\n      </app-toolbar>\n      <div class=\"content\">\n        <paper-spinner-lite active></paper-spinner-lite>\n      </div>\n    `;\n  }\n\n  private _handleBack() {\n    history.back();\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      haStyle,\n      css`\n        .content {\n          height: calc(100% - 64px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-loading-screen\": HassLoadingScreen;\n  }\n}\n","import { fireEvent } from \"../../../../src/common/dom/fire_event\";\n\nexport interface HassioMarkdownDialogParams {\n  title: string;\n  content: string;\n}\n\nexport const showHassioMarkdownDialog = (\n  element: HTMLElement,\n  dialogParams: HassioMarkdownDialogParams\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"dialog-hassio-markdown\",\n    dialogImport: () =>\n      import(/* webpackChunkName: \"dialog-hassio-markdown\" */ \"./dialog-hassio-markdown\"),\n    dialogParams,\n  });\n};\n"],"sourceRoot":""}