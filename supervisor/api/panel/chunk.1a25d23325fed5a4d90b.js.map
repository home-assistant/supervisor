{"version":3,"sources":["webpack:///./hassio/src/addon-view/hassio-addon-audio.ts","webpack:///./src/resources/codemirror.ondemand.ts","webpack:///./src/components/ha-code-editor.ts","webpack:///./src/common/util/render-status.ts","webpack:///./src/components/ha-yaml-editor.ts","webpack:///./hassio/src/addon-view/hassio-addon-config.ts","webpack:///./src/components/ha-icon.ts","webpack:///./src/components/ha-label-badge.ts","webpack:///./hassio/src/addon-view/hassio-addon-info.ts","webpack:///./hassio/src/addon-view/hassio-addon-logs.ts","webpack:///./hassio/src/addon-view/hassio-addon-network.ts","webpack:///./hassio/src/addon-view/hassio-addon-view.ts","webpack:///./src/components/ha-markdown.ts","webpack:///./src/resources/markdown_worker.ts","webpack:///./src/components/ha-switch.ts","webpack:///./src/data/haptics.ts"],"names":["customElement","HassioAddonAudio","property","html","_templateObject","this","_error","_templateObject2","_setInputDevice","_selectedInput","_inputDevices","map","item","_templateObject3","device","name","_setOutputDevice","_selectedOutput","_outputDevices","_templateObject4","_saveSettings","haStyle","hassioStyle","css","_templateObject5","changedProperties","_get","_getPrototypeOf","prototype","call","has","_addonChanged","ev","detail","getAttribute","_callee","noDevice","_ref","audio","input","output","regeneratorRuntime","wrap","_context","prev","next","addon","audio_input","audio_output","abrupt","fetchHassioHardwareAudio","hass","sent","Object","keys","key","concat","_toConsumableArray","t0","stop","_callee2","data","_context2","undefined","setHassioAddonOption","slug","LitElement","loaded","loadCodeMirror","mark","Promise","all","__webpack_require__","e","then","bind","apply","arguments","ha_code_editor_decorate","_initialize","_UpdatingElement","HaCodeEditor","_UpdatingElement2","_getPrototypeOf2","_this","ha_code_editor_classCallCheck","_len","length","args","Array","_key","ha_code_editor_getPrototypeOf","ha_code_editor_assertThisInitialized","ha_code_editor_inherits","F","d","kind","value","decorators","_value","codemirror","getValue","shadowRoot","querySelector","ha_code_editor_get","refresh","autofocus","focus","changedProps","setOption","mode","setValue","_calcGutters","_setScrollBarDirection","classList","toggle","error","_load","_load2","codeMirror","_this2","attachShadow","innerHTML","codeMirrorCss","lineNumbers","tabSize","viewportMargin","Infinity","extraKeys","Tab","Shift-Tab","gutters","on","_onChange","newValue","fireEvent","rtl","getWrapperElement","UpdatingElement","afterNextRender","cb","requestAnimationFrame","setTimeout","ha_yaml_editor_decorate","_LitElement","_LitElement2","HaYamlEditor","ha_yaml_editor_classCallCheck","ha_yaml_editor_getPrototypeOf","ha_yaml_editor_assertThisInitialized","ha_yaml_editor_inherits","query","_yaml","obj","ha_yaml_editor_typeof","hasOwnProperty","isEmpty","safeDump","err","alert","_this2$_editor","_editor","defaultValue","ha_yaml_editor_templateObject","label","ha_yaml_editor_templateObject2","isValid","stopPropagation","parsed","safeLoad","HassioAddonConfig","type","Boolean","editor","valid","hassio_addon_config_templateObject","_configChanged","hassio_addon_config_templateObject2","hassio_addon_config_templateObject3","_resetTapped","_saveTapped","_configHasChanged","hassio_addon_config_templateObject4","hassio_addon_config_get","hassio_addon_config_getPrototypeOf","options","requestUpdate","eventdata","_err$body","showConfirmationDialog","title","text","confirmText","success","response","path","body","message","_err$body2","t1","ironIconClass","customElements","get","HaIcon","_ironIconClass","ha_icon_classCallCheck","ha_icon_getPrototypeOf","ha_icon_assertThisInitialized","ha_icon_inherits","node","eventName","methodName","ha_icon_get","_iconsetName","define","HaLabelBadge","ha_label_badge_templateObject","classMap","big","icon","image","ha_label_badge_templateObject2","ha_label_badge_templateObject3","ha_label_badge_templateObject4","description","ha_label_badge_templateObject5","_templateObject6","ha_label_badge_get","ha_label_badge_getPrototypeOf","getElementById","style","backgroundImage","PERMIS_DESC","rating","host_network","homeassistant_api","full_access","hassio_api","docker_api","host_pid","apparmor","auth_api","ingress","hassio_addon_info_templateObject","_computeUpdateAvailable","hassio_addon_info_templateObject2","last_version","version","available","hassio_addon_info_templateObject3","changelog","hassio_addon_info_templateObject4","_openChangelog","hassio_addon_info_templateObject5","_protectionToggled","hassio_addon_info_templateObject6","_computeIsRunning","_templateObject7","_templateObject8","_templateObject9","url","logo","_templateObject10","green","includes","Number","yellow","red","_showMoreInfo","_templateObject11","_templateObject12","_templateObject13","_computeHassioApi","_templateObject14","hassio_role","_templateObject15","_templateObject16","_templateObject17","_computeApparmorClassName","_templateObject18","_templateObject19","_templateObject20","_startOnBootToggled","boot","_autoUpdateToggled","auto_update","_templateObject21","_panelToggled","ingress_panel","_computeCannotIngressSidebar","_templateObject22","_computeUsesProtectedOptions","_templateObject23","_templateObject24","_templateObject25","_uninstallClicked","build","_templateObject26","_templateObject27","_templateObject28","_computeShowWebUI","_templateObject29","_pathWebui","_computeShowIngressUI","_templateObject30","_openIngress","_templateObject31","_templateObject32","_installing","_installClicked","long_description","_templateObject33","_templateObject34","id","target","showHassioMarkdownDialog","content","_this$addon","state","detached","webui","replace","document","location","hostname","navigate","_computeHA92plus","_this$hass$config$ver2","_slicedToArray","config","split","major","minor","_callee3","_err$body3","_context3","protected","setHassioAddonSecurity","_callee4","_err$body4","_context4","_callee5","_err$body5","_context5","fetchHassioAddonChangelog","_callee6","_err$body6","_context6","installHassioAddon","_callee7","_err$body7","_context7","confirm","uninstallHassioAddon","HassioAddonLogs","hassio_addon_logs_get","hassio_addon_logs_getPrototypeOf","_loadData","hassio_addon_logs_templateObject","hassio_addon_logs_templateObject2","_refresh","ANSI_HTML_STYLE","hassio_addon_logs_templateObject3","fetchHassioAddonLogs","_logContent","lastChild","removeChild","appendChild","parseTextToColoredPre","HassioAddonNetwork","hassio_addon_network_get","hassio_addon_network_getPrototypeOf","_setNetworkConfig","_config","hassio_addon_network_templateObject2","hassio_addon_network_templateObject3","hassio_addon_network_templateObject4","container","host","hassio_addon_network_templateObject","hassio_addon_network_templateObject5","network","network_description","items","sort","a","b","forEach","parseInt","String","networkconfiguration","hassio_addon_view_templateObject2","hassio_addon_view_templateObject3","hassio_addon_view_templateObject4","hassio_addon_view_templateObject5","hassio_addon_view_templateObject","hassio_addon_view_templateObject6","_routeDataChanged","route","addEventListener","_apiCalled","history","back","routeData","addoninfo","substr","fetchHassioAddonInfo","worker","HaMarkdown","markdownWorker","_render","walker","renderMarkdown","breaks","gfm","tables","allowSvg","_resize","createTreeWalker","nextNode","currentNode","HTMLAnchorElement","rel","addMethods","methods","module","exports","w","Worker","p","MwcSwitch","_decorate","_MwcSwitch","HaSwitch","_MwcSwitch2","_classCallCheck","_assertThisInitialized","_inherits","setProperty","_slot","assignedNodes","hapticType","haptic","window","ripple","interactionNode","_haChangeHandler","static","mdcFoundation","handleChange","checked","formElement"],"mappings":"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","file":"chunk.1a25d23325fed5a4d90b.js","sourcesContent":["import \"web-animations-js/web-animations-next-lite.min\";\n\nimport \"@material/mwc-button\";\nimport \"@polymer/paper-card/paper-card\";\nimport \"@polymer/paper-dropdown-menu/paper-dropdown-menu\";\nimport \"@polymer/paper-item/paper-item\";\nimport \"@polymer/paper-listbox/paper-listbox\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  PropertyValues,\n  TemplateResult,\n} from \"lit-element\";\n\nimport { HomeAssistant } from \"../../../src/types\";\nimport {\n  HassioAddonDetails,\n  setHassioAddonOption,\n  HassioAddonSetOptionParams,\n} from \"../../../src/data/hassio/addon\";\nimport {\n  HassioHardwareAudioDevice,\n  fetchHassioHardwareAudio,\n} from \"../../../src/data/hassio/hardware\";\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { haStyle } from \"../../../src/resources/styles\";\n\n@customElement(\"hassio-addon-audio\")\nclass HassioAddonAudio extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public addon!: HassioAddonDetails;\n  @property() private _error?: string;\n  @property() private _inputDevices?: HassioHardwareAudioDevice[];\n  @property() private _outputDevices?: HassioHardwareAudioDevice[];\n  @property() private _selectedInput!: null | string;\n  @property() private _selectedOutput!: null | string;\n\n  protected render(): TemplateResult {\n    return html`\n      <paper-card heading=\"Audio\">\n        <div class=\"card-content\">\n          ${this._error\n            ? html`\n                <div class=\"errors\">${this._error}</div>\n              `\n            : \"\"}\n\n          <paper-dropdown-menu\n            label=\"Input\"\n            @iron-select=${this._setInputDevice}\n          >\n            <paper-listbox\n              slot=\"dropdown-content\"\n              attr-for-selected=\"device\"\n              .selected=${this._selectedInput}\n            >\n              ${this._inputDevices &&\n                this._inputDevices.map((item) => {\n                  return html`\n                    <paper-item device=${item.device || \"\"}\n                      >${item.name}</paper-item\n                    >\n                  `;\n                })}\n            </paper-listbox>\n          </paper-dropdown-menu>\n          <paper-dropdown-menu\n            label=\"Output\"\n            @iron-select=${this._setOutputDevice}\n          >\n            <paper-listbox\n              slot=\"dropdown-content\"\n              attr-for-selected=\"device\"\n              .selected=${this._selectedOutput}\n            >\n              ${this._outputDevices &&\n                this._outputDevices.map((item) => {\n                  return html`\n                    <paper-item device=${item.device || \"\"}\n                      >${item.name}</paper-item\n                    >\n                  `;\n                })}\n            </paper-listbox>\n          </paper-dropdown-menu>\n        </div>\n        <div class=\"card-actions\">\n          <mwc-button @click=${this._saveSettings}>Save</mwc-button>\n        </div>\n      </paper-card>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        :host,\n        paper-card,\n        paper-dropdown-menu {\n          display: block;\n        }\n        .errors {\n          color: var(--google-red-500);\n          margin-bottom: 16px;\n        }\n        paper-item {\n          width: 450px;\n        }\n        .card-actions {\n          text-align: right;\n        }\n      `,\n    ];\n  }\n\n  protected update(changedProperties: PropertyValues): void {\n    super.update(changedProperties);\n    if (changedProperties.has(\"addon\")) {\n      this._addonChanged();\n    }\n  }\n\n  private _setInputDevice(ev): void {\n    const device = ev.detail.item.getAttribute(\"device\");\n    this._selectedInput = device;\n  }\n\n  private _setOutputDevice(ev): void {\n    const device = ev.detail.item.getAttribute(\"device\");\n    this._selectedOutput = device;\n  }\n\n  private async _addonChanged(): Promise<void> {\n    this._selectedInput =\n      this.addon.audio_input === null ? \"default\" : this.addon.audio_input;\n    this._selectedOutput =\n      this.addon.audio_output === null ? \"default\" : this.addon.audio_output;\n    if (this._outputDevices) {\n      return;\n    }\n\n    const noDevice: HassioHardwareAudioDevice = {\n      device: \"default\",\n      name: \"Default\",\n    };\n\n    try {\n      const { audio } = await fetchHassioHardwareAudio(this.hass);\n      const input = Object.keys(audio.input).map((key) => ({\n        device: key,\n        name: audio.input[key],\n      }));\n      const output = Object.keys(audio.output).map((key) => ({\n        device: key,\n        name: audio.output[key],\n      }));\n\n      this._inputDevices = [noDevice, ...input];\n      this._outputDevices = [noDevice, ...output];\n    } catch {\n      this._error = \"Failed to fetch audio hardware\";\n      this._inputDevices = [noDevice];\n      this._outputDevices = [noDevice];\n    }\n  }\n\n  private async _saveSettings(): Promise<void> {\n    this._error = undefined;\n    const data: HassioAddonSetOptionParams = {\n      audio_input:\n        this._selectedInput === \"default\" ? null : this._selectedInput,\n      audio_output:\n        this._selectedOutput === \"default\" ? null : this._selectedOutput,\n    };\n    try {\n      await setHassioAddonOption(this.hass, this.addon.slug, data);\n    } catch {\n      this._error = \"Failed to set addon audio device\";\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-addon-audio\": HassioAddonAudio;\n  }\n}\n","interface LoadedCodeMirror {\n  codeMirror: any;\n  codeMirrorCss: any;\n}\n\nlet loaded: Promise<LoadedCodeMirror>;\n\nexport const loadCodeMirror = async (): Promise<LoadedCodeMirror> => {\n  if (!loaded) {\n    loaded = import(/* webpackChunkName: \"codemirror\" */ \"./codemirror\");\n  }\n  return loaded;\n};\n","import { loadCodeMirror } from \"../resources/codemirror.ondemand\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport {\n  UpdatingElement,\n  property,\n  customElement,\n  PropertyValues,\n} from \"lit-element\";\nimport { Editor } from \"codemirror\";\n\ndeclare global {\n  interface HASSDomEvents {\n    \"editor-save\": undefined;\n  }\n}\n\n@customElement(\"ha-code-editor\")\nexport class HaCodeEditor extends UpdatingElement {\n  public codemirror?: Editor;\n  @property() public mode?: string;\n  @property() public autofocus = false;\n  @property() public rtl = false;\n  @property() public error = false;\n  @property() private _value = \"\";\n\n  public set value(value: string) {\n    this._value = value;\n  }\n\n  public get value(): string {\n    return this.codemirror ? this.codemirror.getValue() : this._value;\n  }\n\n  public get hasComments(): boolean {\n    return this.shadowRoot!.querySelector(\"span.cm-comment\") ? true : false;\n  }\n\n  public connectedCallback() {\n    super.connectedCallback();\n    if (!this.codemirror) {\n      return;\n    }\n    this.codemirror.refresh();\n    if (this.autofocus !== false) {\n      this.codemirror.focus();\n    }\n  }\n\n  protected update(changedProps: PropertyValues): void {\n    super.update(changedProps);\n\n    if (!this.codemirror) {\n      return;\n    }\n\n    if (changedProps.has(\"mode\")) {\n      this.codemirror.setOption(\"mode\", this.mode);\n    }\n    if (changedProps.has(\"autofocus\")) {\n      this.codemirror.setOption(\"autofocus\", this.autofocus !== false);\n    }\n    if (changedProps.has(\"_value\") && this._value !== this.value) {\n      this.codemirror.setValue(this._value);\n    }\n    if (changedProps.has(\"rtl\")) {\n      this.codemirror.setOption(\"gutters\", this._calcGutters());\n      this._setScrollBarDirection();\n    }\n    if (changedProps.has(\"error\")) {\n      this.classList.toggle(\"error-state\", this.error);\n    }\n  }\n\n  protected firstUpdated(changedProps: PropertyValues): void {\n    super.firstUpdated(changedProps);\n    this._load();\n  }\n\n  private async _load(): Promise<void> {\n    const loaded = await loadCodeMirror();\n\n    const codeMirror = loaded.codeMirror;\n\n    const shadowRoot = this.attachShadow({ mode: \"open\" });\n\n    shadowRoot!.innerHTML = `\n    <style>\n      ${loaded.codeMirrorCss}\n      .CodeMirror {\n        height: var(--code-mirror-height, auto);\n        direction: var(--code-mirror-direction, ltr);\n      }\n      .CodeMirror-scroll {\n        max-height: var(--code-mirror-max-height, --code-mirror-height);\n      }\n      .CodeMirror-gutters {\n        border-right: 1px solid var(--paper-input-container-color, var(--secondary-text-color));\n        background-color: var(--paper-dialog-background-color, var(--primary-background-color));\n        transition: 0.2s ease border-right;\n      }\n      :host(.error-state) .CodeMirror-gutters {\n        border-color: var(--error-state-color, red);\n      }\n      .CodeMirror-focused .CodeMirror-gutters {\n        border-right: 2px solid var(--paper-input-container-focus-color, var(--primary-color));\n      }\n      .CodeMirror-linenumber {\n        color: var(--paper-dialog-color, var(--primary-text-color));\n      }\n      .rtl .CodeMirror-vscrollbar {\n        right: auto;\n        left: 0px;\n      }\n      .rtl-gutter {\n        width: 20px;\n      }\n    </style>`;\n\n    this.codemirror = codeMirror(shadowRoot, {\n      value: this._value,\n      lineNumbers: true,\n      tabSize: 2,\n      mode: this.mode,\n      autofocus: this.autofocus !== false,\n      viewportMargin: Infinity,\n      extraKeys: {\n        Tab: \"indentMore\",\n        \"Shift-Tab\": \"indentLess\",\n      },\n      gutters: this._calcGutters(),\n    });\n    this._setScrollBarDirection();\n    this.codemirror!.on(\"changes\", () => this._onChange());\n  }\n\n  private _onChange(): void {\n    const newValue = this.value;\n    if (newValue === this._value) {\n      return;\n    }\n    this._value = newValue;\n    fireEvent(this, \"value-changed\", { value: this._value });\n  }\n\n  private _calcGutters(): string[] {\n    return this.rtl ? [\"rtl-gutter\", \"CodeMirror-linenumbers\"] : [];\n  }\n\n  private _setScrollBarDirection(): void {\n    if (this.codemirror) {\n      this.codemirror.getWrapperElement().classList.toggle(\"rtl\", this.rtl);\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-code-editor\": HaCodeEditor;\n  }\n}\n","export const afterNextRender = (cb: () => void): void => {\n  requestAnimationFrame(() => setTimeout(cb, 0));\n};\n\nexport const nextRender = () => {\n  return new Promise((resolve) => {\n    afterNextRender(resolve);\n  });\n};\n","import { safeDump, safeLoad } from \"js-yaml\";\nimport \"./ha-code-editor\";\nimport { LitElement, property, customElement, html, query } from \"lit-element\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport { afterNextRender } from \"../common/util/render-status\";\n// tslint:disable-next-line\nimport { HaCodeEditor } from \"./ha-code-editor\";\n\nconst isEmpty = (obj: object) => {\n  if (typeof obj !== \"object\") {\n    return false;\n  }\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      return false;\n    }\n  }\n  return true;\n};\n\n@customElement(\"ha-yaml-editor\")\nexport class HaYamlEditor extends LitElement {\n  @property() public value?: any;\n  @property() public defaultValue?: any;\n  @property() public isValid = true;\n  @property() public label?: string;\n  @property() private _yaml: string = \"\";\n  @query(\"ha-code-editor\") private _editor?: HaCodeEditor;\n\n  public setValue(value) {\n    try {\n      this._yaml = value && !isEmpty(value) ? safeDump(value) : \"\";\n    } catch (err) {\n      alert(`There was an error converting to YAML: ${err}`);\n    }\n    afterNextRender(() => {\n      if (this._editor?.codemirror) {\n        this._editor.codemirror.refresh();\n      }\n    });\n  }\n\n  protected firstUpdated() {\n    if (this.defaultValue) {\n      this.setValue(this.defaultValue);\n    }\n  }\n\n  protected render() {\n    if (this._yaml === undefined) {\n      return;\n    }\n    return html`\n      ${this.label\n        ? html`\n            <p>${this.label}</p>\n          `\n        : \"\"}\n      <ha-code-editor\n        .value=${this._yaml}\n        mode=\"yaml\"\n        .error=${this.isValid === false}\n        @value-changed=${this._onChange}\n      ></ha-code-editor>\n    `;\n  }\n\n  private _onChange(ev: CustomEvent) {\n    ev.stopPropagation();\n    const value = ev.detail.value;\n    let parsed;\n    let isValid = true;\n\n    if (value) {\n      try {\n        parsed = safeLoad(value);\n      } catch (err) {\n        // Invalid YAML\n        isValid = false;\n      }\n    } else {\n      parsed = {};\n    }\n\n    this.value = parsed;\n    this.isValid = isValid;\n\n    fireEvent(this, \"value-changed\", { value: parsed, isValid } as any);\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-yaml-editor\": HaYamlEditor;\n  }\n}\n","import \"@polymer/iron-autogrow-textarea/iron-autogrow-textarea\";\nimport \"@material/mwc-button\";\nimport \"@polymer/paper-card/paper-card\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  PropertyValues,\n  TemplateResult,\n  query,\n} from \"lit-element\";\n\nimport { HomeAssistant } from \"../../../src/types\";\nimport {\n  HassioAddonDetails,\n  setHassioAddonOption,\n  HassioAddonSetOptionParams,\n} from \"../../../src/data/hassio/addon\";\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { haStyle } from \"../../../src/resources/styles\";\nimport { fireEvent } from \"../../../src/common/dom/fire_event\";\nimport \"../../../src/components/ha-yaml-editor\";\n// tslint:disable-next-line: no-duplicate-imports\nimport { HaYamlEditor } from \"../../../src/components/ha-yaml-editor\";\nimport { showConfirmationDialog } from \"../../../src/dialogs/generic/show-dialog-box\";\n\n@customElement(\"hassio-addon-config\")\nclass HassioAddonConfig extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public addon!: HassioAddonDetails;\n  @property() private _error?: string;\n  @property({ type: Boolean }) private _configHasChanged = false;\n\n  @query(\"ha-yaml-editor\") private _editor!: HaYamlEditor;\n\n  protected render(): TemplateResult {\n    const editor = this._editor;\n    // If editor not rendered, don't show the error.\n    const valid = editor ? editor.isValid : true;\n\n    return html`\n      <paper-card heading=\"Config\">\n        <div class=\"card-content\">\n          <ha-yaml-editor\n            @value-changed=${this._configChanged}\n          ></ha-yaml-editor>\n          ${this._error\n            ? html`\n                <div class=\"errors\">${this._error}</div>\n              `\n            : \"\"}\n          ${valid\n            ? \"\"\n            : html`\n                <div class=\"errors\">Invalid YAML</div>\n              `}\n        </div>\n        <div class=\"card-actions\">\n          <mwc-button class=\"warning\" @click=${this._resetTapped}>\n            Reset to defaults\n          </mwc-button>\n          <mwc-button\n            @click=${this._saveTapped}\n            .disabled=${!this._configHasChanged || !valid}\n          >\n            Save\n          </mwc-button>\n        </div>\n      </paper-card>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        :host {\n          display: block;\n        }\n        paper-card {\n          display: block;\n        }\n        .card-actions {\n          display: flex;\n          justify-content: space-between;\n        }\n        .errors {\n          color: var(--google-red-500);\n          margin-top: 16px;\n        }\n        iron-autogrow-textarea {\n          width: 100%;\n          font-family: monospace;\n        }\n        .syntaxerror {\n          color: var(--google-red-500);\n        }\n      `,\n    ];\n  }\n\n  protected updated(changedProperties: PropertyValues): void {\n    super.updated(changedProperties);\n    if (changedProperties.has(\"addon\")) {\n      this._editor.setValue(this.addon.options);\n    }\n  }\n\n  private _configChanged(): void {\n    this._configHasChanged = true;\n    this.requestUpdate();\n  }\n\n  private async _resetTapped(): Promise<void> {\n    const confirmed = await showConfirmationDialog(this, {\n      title: this.addon.name,\n      text: \"Are you sure you want to reset all your options?\",\n      confirmText: \"reset options\",\n    });\n\n    if (!confirmed) {\n      return;\n    }\n\n    this._error = undefined;\n    const data: HassioAddonSetOptionParams = {\n      options: null,\n    };\n    try {\n      await setHassioAddonOption(this.hass, this.addon.slug, data);\n      this._configHasChanged = false;\n      const eventdata = {\n        success: true,\n        response: undefined,\n        path: \"options\",\n      };\n      fireEvent(this, \"hass-api-called\", eventdata);\n    } catch (err) {\n      this._error = `Failed to reset addon configuration, ${err.body?.message ||\n        err}`;\n    }\n  }\n\n  private async _saveTapped(): Promise<void> {\n    let data: HassioAddonSetOptionParams;\n    this._error = undefined;\n    try {\n      data = {\n        options: this._editor.value,\n      };\n    } catch (err) {\n      this._error = err;\n      return;\n    }\n    try {\n      await setHassioAddonOption(this.hass, this.addon.slug, data);\n      this._configHasChanged = false;\n      const eventdata = {\n        success: true,\n        response: undefined,\n        path: \"options\",\n      };\n      fireEvent(this, \"hass-api-called\", eventdata);\n    } catch (err) {\n      this._error = `Failed to save addon configuration, ${err.body?.message ||\n        err}`;\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-addon-config\": HassioAddonConfig;\n  }\n}\n","import { Constructor } from \"../types\";\n\nimport \"@polymer/iron-icon/iron-icon\";\n// Not duplicate, this is for typing.\n// tslint:disable-next-line\nimport { IronIconElement } from \"@polymer/iron-icon/iron-icon\";\n\nconst ironIconClass = customElements.get(\"iron-icon\") as Constructor<\n  IronIconElement\n>;\n\nlet loaded = false;\n\nexport class HaIcon extends ironIconClass {\n  private _iconsetName?: string;\n\n  public listen(\n    node: EventTarget | null,\n    eventName: string,\n    methodName: string\n  ): void {\n    super.listen(node, eventName, methodName);\n\n    if (!loaded && this._iconsetName === \"mdi\") {\n      loaded = true;\n      import(/* webpackChunkName: \"mdi-icons\" */ \"../resources/mdi-icons\");\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-icon\": HaIcon;\n  }\n}\n\ncustomElements.define(\"ha-icon\", HaIcon);\n","import {\n  html,\n  LitElement,\n  PropertyValues,\n  TemplateResult,\n  CSSResult,\n  css,\n  property,\n} from \"lit-element\";\nimport { classMap } from \"lit-html/directives/class-map\";\nimport \"./ha-icon\";\n\nclass HaLabelBadge extends LitElement {\n  @property() public value?: string;\n  @property() public icon?: string;\n  @property() public label?: string;\n  @property() public description?: string;\n  @property() public image?: string;\n\n  protected render(): TemplateResult {\n    return html`\n      <div class=\"badge-container\">\n        <div class=\"label-badge\" id=\"badge\">\n          <div\n            class=\"${classMap({\n              value: true,\n              big: Boolean(this.value && this.value.length > 4),\n            })}\"\n          >\n            ${this.icon && !this.value && !this.image\n              ? html`\n                  <ha-icon .icon=\"${this.icon}\"></ha-icon>\n                `\n              : \"\"}\n            ${this.value && !this.image\n              ? html`\n                  <span>${this.value}</span>\n                `\n              : \"\"}\n          </div>\n          ${this.label\n            ? html`\n                <div\n                  class=\"${classMap({\n                    label: true,\n                    big: this.label.length > 5,\n                  })}\"\n                >\n                  <span>${this.label}</span>\n                </div>\n              `\n            : \"\"}\n        </div>\n        ${this.description\n          ? html`\n              <div class=\"title\">${this.description}</div>\n            `\n          : \"\"}\n      </div>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      css`\n        .badge-container {\n          display: inline-block;\n          text-align: center;\n          vertical-align: top;\n        }\n        .label-badge {\n          position: relative;\n          display: block;\n          margin: 0 auto;\n          width: var(--ha-label-badge-size, 2.5em);\n          text-align: center;\n          height: var(--ha-label-badge-size, 2.5em);\n          line-height: var(--ha-label-badge-size, 2.5em);\n          font-size: var(--ha-label-badge-font-size, 1.5em);\n          border-radius: 50%;\n          border: 0.1em solid var(--ha-label-badge-color, var(--primary-color));\n          color: var(--label-badge-text-color, rgb(76, 76, 76));\n\n          white-space: nowrap;\n          background-color: var(--label-badge-background-color, white);\n          background-size: cover;\n          transition: border 0.3s ease-in-out;\n        }\n        .label-badge .value {\n          font-size: 90%;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        .label-badge .value.big {\n          font-size: 70%;\n        }\n        .label-badge .label {\n          position: absolute;\n          bottom: -1em;\n          /* Make the label as wide as container+border. (parent_borderwidth / font-size) */\n          left: -0.2em;\n          right: -0.2em;\n          line-height: 1em;\n          font-size: 0.5em;\n        }\n        .label-badge .label span {\n          box-sizing: border-box;\n          max-width: 100%;\n          display: inline-block;\n          background-color: var(--ha-label-badge-color, var(--primary-color));\n          color: var(--ha-label-badge-label-color, white);\n          border-radius: 1em;\n          padding: 9% 16% 8% 16%; /* mostly apitalized text, not much descenders => bit more top margin */\n          font-weight: 500;\n          overflow: hidden;\n          text-transform: uppercase;\n          text-overflow: ellipsis;\n          transition: background-color 0.3s ease-in-out;\n          text-transform: var(--ha-label-badge-label-text-transform, uppercase);\n        }\n        .label-badge .label.big span {\n          font-size: 90%;\n          padding: 10% 12% 7% 12%; /* push smaller text a bit down to center vertically */\n        }\n        .badge-container .title {\n          margin-top: 1em;\n          font-size: var(--ha-label-badge-title-font-size, 0.9em);\n          width: var(--ha-label-badge-title-width, 5em);\n          font-weight: var(--ha-label-badge-title-font-weight, 400);\n          overflow: hidden;\n          text-overflow: ellipsis;\n          line-height: normal;\n        }\n      `,\n    ];\n  }\n\n  protected updated(changedProperties: PropertyValues): void {\n    super.updated(changedProperties);\n    if (changedProperties.has(\"image\")) {\n      this.shadowRoot!.getElementById(\"badge\")!.style.backgroundImage = this\n        .image\n        ? `url(${this.image})`\n        : \"\";\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-label-badge\": HaLabelBadge;\n  }\n}\n\ncustomElements.define(\"ha-label-badge\", HaLabelBadge);\n","import \"@material/mwc-button\";\nimport \"@polymer/iron-icon/iron-icon\";\nimport \"@polymer/paper-card/paper-card\";\nimport \"@polymer/paper-tooltip/paper-tooltip\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport { classMap } from \"lit-html/directives/class-map\";\n\nimport \"../../../src/components/buttons/ha-call-api-button\";\nimport \"../../../src/components/buttons/ha-progress-button\";\nimport \"../../../src/components/ha-label-badge\";\nimport \"../../../src/components/ha-markdown\";\nimport \"../../../src/components/ha-switch\";\nimport \"../components/hassio-card-content\";\n\nimport { fireEvent } from \"../../../src/common/dom/fire_event\";\nimport {\n  HassioAddonDetails,\n  HassioAddonSetOptionParams,\n  HassioAddonSetSecurityParams,\n  setHassioAddonOption,\n  setHassioAddonSecurity,\n  uninstallHassioAddon,\n  installHassioAddon,\n  fetchHassioAddonChangelog,\n} from \"../../../src/data/hassio/addon\";\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { haStyle } from \"../../../src/resources/styles\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport { navigate } from \"../../../src/common/navigate\";\nimport { showHassioMarkdownDialog } from \"../dialogs/markdown/show-dialog-hassio-markdown\";\n\nconst PERMIS_DESC = {\n  rating: {\n    title: \"Add-on Security Rating\",\n    description:\n      \"Hass.io provides a security rating to each of the add-ons, which indicates the risks involved when using this add-on. The more access an add-on requires on your system, the lower the score, thus raising the possible security risks.\\n\\nA score is on a scale from 1 to 6. Where 1 is the lowest score (considered the most insecure and highest risk) and a score of 6 is the highest score (considered the most secure and lowest risk).\",\n  },\n  host_network: {\n    title: \"Host Network\",\n    description:\n      \"Add-ons usually run in their own isolated network layer, which prevents them from accessing the network of the host operating system. In some cases, this network isolation can limit add-ons in providing their services and therefore, the isolation can be lifted by the add-on author, giving the add-on full access to the network capabilities of the host machine. This gives the add-on more networking capabilities but lowers the security, hence, the security rating of the add-on will be lowered when this option is used by the add-on.\",\n  },\n  homeassistant_api: {\n    title: \"Home Assistant API Access\",\n    description:\n      \"This add-on is allowed to access your running Home Assistant instance directly via the Home Assistant API. This mode handles authentication for the add-on as well, which enables an add-on to interact with Home Assistant without the need for additional authentication tokens.\",\n  },\n  full_access: {\n    title: \"Full Hardware Access\",\n    description:\n      \"This add-on is given full access to the hardware of your system, by request of the add-on author. Access is comparable to the privileged mode in Docker. Since this opens up possible security risks, this feature impacts the add-on security score negatively.\\n\\nThis level of access is not granted automatically and needs to be confirmed by you. To do this, you need to disable the protection mode on the add-on manually. Only disable the protection mode if you know, need AND trust the source of this add-on.\",\n  },\n  hassio_api: {\n    title: \"Hass.io API Access\",\n    description:\n      \"The add-on was given access to the Hass.io API, by request of the add-on author. By default, the add-on can access general version information of your system. When the add-on requests 'manager' or 'admin' level access to the API, it will gain access to control multiple parts of your Hass.io system. This permission is indicated by this badge and will impact the security score of the addon negatively.\",\n  },\n  docker_api: {\n    title: \"Full Docker Access\",\n    description:\n      \"The add-on author has requested the add-on to have management access to the Docker instance running on your system. This mode gives the add-on full access and control to your entire Hass.io system, which adds security risks, and could damage your system when misused. Therefore, this feature impacts the add-on security score negatively.\\n\\nThis level of access is not granted automatically and needs to be confirmed by you. To do this, you need to disable the protection mode on the add-on manually. Only disable the protection mode if you know, need AND trust the source of this add-on.\",\n  },\n  host_pid: {\n    title: \"Host Processes Namespace\",\n    description:\n      \"Usually, the processes the add-on runs, are isolated from all other system processes. The add-on author has requested the add-on to have access to the system processes running on the host system instance, and allow the add-on to spawn processes on the host system as well. This mode gives the add-on full access and control to your entire Hass.io system, which adds security risks, and could damage your system when misused. Therefore, this feature impacts the add-on security score negatively.\\n\\nThis level of access is not granted automatically and needs to be confirmed by you. To do this, you need to disable the protection mode on the add-on manually. Only disable the protection mode if you know, need AND trust the source of this add-on.\",\n  },\n  apparmor: {\n    title: \"AppArmor\",\n    description:\n      \"AppArmor ('Application Armor') is a Linux kernel security module that restricts add-ons capabilities like network access, raw socket access, and permission to read, write, or execute specific files.\\n\\nAdd-on authors can provide their security profiles, optimized for the add-on, or request it to be disabled. If AppArmor is disabled, it will raise security risks and therefore, has a negative impact on the security score of the add-on.\",\n  },\n  auth_api: {\n    title: \"Home Assistant Authentication\",\n    description:\n      \"An add-on can authenticate users against Home Assistant, allowing add-ons to give users the possibility to log into applications running inside add-ons, using their Home Assistant username/password. This badge indicates if the add-on author requests this capability.\",\n  },\n  ingress: {\n    title: \"Ingress\",\n    description:\n      \"This add-on is using Ingress to embed its interface securely into Home Assistant.\",\n  },\n};\n\n@customElement(\"hassio-addon-info\")\nclass HassioAddonInfo extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public addon!: HassioAddonDetails;\n  @property() private _error?: string;\n  @property({ type: Boolean }) private _installing = false;\n\n  protected render(): TemplateResult {\n    return html`\n      ${this._computeUpdateAvailable\n        ? html`\n            <paper-card heading=\"Update available! 🎉\">\n              <div class=\"card-content\">\n                <hassio-card-content\n                  .hass=${this.hass}\n                  .title=\"${this.addon.name} ${this.addon\n                    .last_version} is available\"\n                  .description=\"You are currently running version ${this.addon\n                    .version}\"\n                  icon=\"hassio:arrow-up-bold-circle\"\n                  iconClass=\"update\"\n                ></hassio-card-content>\n                ${!this.addon.available\n                  ? html`\n                      <p>\n                        This update is no longer compatible with your system.\n                      </p>\n                    `\n                  : \"\"}\n              </div>\n              <div class=\"card-actions\">\n                <ha-call-api-button\n                  .hass=${this.hass}\n                  .disabled=${!this.addon.available}\n                  path=\"hassio/addons/${this.addon.slug}/update\"\n                >\n                  Update\n                </ha-call-api-button>\n                ${this.addon.changelog\n                  ? html`\n                      <mwc-button @click=${this._openChangelog}>\n                        Changelog\n                      </mwc-button>\n                    `\n                  : \"\"}\n              </div>\n            </paper-card>\n          `\n        : \"\"}\n      ${!this.addon.protected\n        ? html`\n        <paper-card heading=\"Warning: Protection mode is disabled!\" class=\"warning\">\n          <div class=\"card-content\">\n            Protection mode on this add-on is disabled! This gives the add-on full access to the entire system, which adds security risks, and could damage your system when used incorrectly. Only disable the protection mode if you know, need AND trust the source of this add-on.\n          </div>\n          <div class=\"card-actions protection-enable\">\n              <mwc-button @click=${this._protectionToggled}>Enable Protection mode</mwc-button>\n            </div>\n          </div>\n        </paper-card>\n      `\n        : \"\"}\n\n      <paper-card>\n        <div class=\"card-content\">\n          <div class=\"addon-header\">\n            ${this.addon.name}\n            <div class=\"addon-version light-color\">\n              ${this.addon.version\n                ? html`\n                    ${this.addon.version}\n                    ${this._computeIsRunning\n                      ? html`\n                          <iron-icon\n                            title=\"Add-on is running\"\n                            class=\"running\"\n                            icon=\"hassio:circle\"\n                          ></iron-icon>\n                        `\n                      : html`\n                          <iron-icon\n                            title=\"Add-on is stopped\"\n                            class=\"stopped\"\n                            icon=\"hassio:circle\"\n                          ></iron-icon>\n                        `}\n                  `\n                : html`\n                    ${this.addon.last_version}\n                  `}\n            </div>\n          </div>\n          <div class=\"description light-color\">\n            ${this.addon.description}.<br />\n            Visit\n            <a href=\"${this.addon.url}\" target=\"_blank\">\n              ${this.addon.name} page</a\n            >\n            for details.\n          </div>\n          ${this.addon.logo\n            ? html`\n                <a href=\"${this.addon.url}\" target=\"_blank\" class=\"logo\">\n                  <img src=\"/api/hassio/addons/${this.addon.slug}/logo\" />\n                </a>\n              `\n            : \"\"}\n          <div class=\"security\">\n            <ha-label-badge\n              class=${classMap({\n                green: [5, 6].includes(Number(this.addon.rating)),\n                yellow: [3, 4].includes(Number(this.addon.rating)),\n                red: [1, 2].includes(Number(this.addon.rating)),\n              })}\n              @click=${this._showMoreInfo}\n              id=\"rating\"\n              .value=${this.addon.rating}\n              label=\"rating\"\n              description=\"\"\n            ></ha-label-badge>\n            ${this.addon.host_network\n              ? html`\n                  <ha-label-badge\n                    @click=${this._showMoreInfo}\n                    id=\"host_network\"\n                    icon=\"hassio:network\"\n                    label=\"host\"\n                    description=\"\"\n                  ></ha-label-badge>\n                `\n              : \"\"}\n            ${this.addon.full_access\n              ? html`\n                  <ha-label-badge\n                    @click=${this._showMoreInfo}\n                    id=\"full_access\"\n                    icon=\"hassio:chip\"\n                    label=\"hardware\"\n                    description=\"\"\n                  ></ha-label-badge>\n                `\n              : \"\"}\n            ${this.addon.homeassistant_api\n              ? html`\n                  <ha-label-badge\n                    @click=${this._showMoreInfo}\n                    id=\"homeassistant_api\"\n                    icon=\"hassio:home-assistant\"\n                    label=\"hass\"\n                    description=\"\"\n                  ></ha-label-badge>\n                `\n              : \"\"}\n            ${this._computeHassioApi\n              ? html`\n                  <ha-label-badge\n                    @click=${this._showMoreInfo}\n                    id=\"hassio_api\"\n                    icon=\"hassio:home-assistant\"\n                    label=\"hassio\"\n                    .description=${this.addon.hassio_role}\n                  ></ha-label-badge>\n                `\n              : \"\"}\n            ${this.addon.docker_api\n              ? html`\n                  <ha-label-badge\n                    @click=${this._showMoreInfo}\n                    id=\"docker_api\"\n                    icon=\"hassio:docker\"\n                    label=\"docker\"\n                    description=\"\"\n                  ></ha-label-badge>\n                `\n              : \"\"}\n            ${this.addon.host_pid\n              ? html`\n                  <ha-label-badge\n                    @click=${this._showMoreInfo}\n                    id=\"host_pid\"\n                    icon=\"hassio:pound\"\n                    label=\"host pid\"\n                    description=\"\"\n                  ></ha-label-badge>\n                `\n              : \"\"}\n            ${this.addon.apparmor\n              ? html`\n                  <ha-label-badge\n                    @click=${this._showMoreInfo}\n                    class=${this._computeApparmorClassName}\n                    id=\"apparmor\"\n                    icon=\"hassio:shield\"\n                    label=\"apparmor\"\n                    description=\"\"\n                  ></ha-label-badge>\n                `\n              : \"\"}\n            ${this.addon.auth_api\n              ? html`\n                  <ha-label-badge\n                    @click=${this._showMoreInfo}\n                    id=\"auth_api\"\n                    icon=\"hassio:key\"\n                    label=\"auth\"\n                    description=\"\"\n                  ></ha-label-badge>\n                `\n              : \"\"}\n            ${this.addon.ingress\n              ? html`\n                  <ha-label-badge\n                    @click=${this._showMoreInfo}\n                    id=\"ingress\"\n                    icon=\"hassio:cursor-default-click-outline\"\n                    label=\"ingress\"\n                    description=\"\"\n                  ></ha-label-badge>\n                `\n              : \"\"}\n          </div>\n\n          ${this.addon.version\n            ? html`\n                <div class=\"state\">\n                  <div>Start on boot</div>\n                  <ha-switch\n                    @change=${this._startOnBootToggled}\n                    .checked=${this.addon.boot === \"auto\"}\n                    haptic\n                  ></ha-switch>\n                </div>\n                <div class=\"state\">\n                  <div>Auto update</div>\n                  <ha-switch\n                    @change=${this._autoUpdateToggled}\n                    .checked=${this.addon.auto_update}\n                    haptic\n                  ></ha-switch>\n                </div>\n                ${this.addon.ingress\n                  ? html`\n                      <div class=\"state\">\n                        <div>Show in sidebar</div>\n                        <ha-switch\n                          @change=${this._panelToggled}\n                          .checked=${this.addon.ingress_panel}\n                          .disabled=${this._computeCannotIngressSidebar}\n                          haptic\n                        ></ha-switch>\n                        ${this._computeCannotIngressSidebar\n                          ? html`\n                              <span>\n                                This option requires Home Assistant 0.92 or\n                                later.\n                              </span>\n                            `\n                          : \"\"}\n                      </div>\n                    `\n                  : \"\"}\n                ${this._computeUsesProtectedOptions\n                  ? html`\n                      <div class=\"state\">\n                        <div>\n                          Protection mode\n                          <span>\n                            <iron-icon icon=\"hassio:information\"></iron-icon>\n                            <paper-tooltip>\n                              Grant the add-on elevated system access.\n                            </paper-tooltip>\n                          </span>\n                        </div>\n                        <ha-switch\n                          @change=${this._protectionToggled}\n                          .checked=${this.addon.protected}\n                          haptic\n                        ></ha-switch>\n                      </div>\n                    `\n                  : \"\"}\n              `\n            : \"\"}\n          ${this._error\n            ? html`\n                <div class=\"errors\">${this._error}</div>\n              `\n            : \"\"}\n        </div>\n        <div class=\"card-actions\">\n          ${this.addon.version\n            ? html`\n                <mwc-button class=\"warning\" @click=${this._uninstallClicked}>\n                  Uninstall\n                </mwc-button>\n                ${this.addon.build\n                  ? html`\n                      <ha-call-api-button\n                        class=\"warning\"\n                        .hass=${this.hass}\n                        .path=\"hassio/addons/${this.addon.slug}/rebuild\"\n                      >\n                        Rebuild\n                      </ha-call-api-button>\n                    `\n                  : \"\"}\n                ${this._computeIsRunning\n                  ? html`\n                      <ha-call-api-button\n                        class=\"warning\"\n                        .hass=${this.hass}\n                        .path=\"hassio/addons/${this.addon.slug}/restart\"\n                      >\n                        Restart\n                      </ha-call-api-button>\n                      <ha-call-api-button\n                        class=\"warning\"\n                        .hass=${this.hass}\n                        .path=\"hassio/addons/${this.addon.slug}/stop\"\n                      >\n                        Stop\n                      </ha-call-api-button>\n                    `\n                  : html`\n                      <ha-call-api-button\n                        .hass=${this.hass}\n                        .path=\"hassio/addons/${this.addon.slug}/start\"\n                      >\n                        Start\n                      </ha-call-api-button>\n                    `}\n                ${this._computeShowWebUI\n                  ? html`\n                      <a\n                        .href=${this._pathWebui}\n                        tabindex=\"-1\"\n                        target=\"_blank\"\n                        class=\"right\"\n                      >\n                        <mwc-button>\n                          Open web UI\n                        </mwc-button>\n                      </a>\n                    `\n                  : \"\"}\n                ${this._computeShowIngressUI\n                  ? html`\n                      <mwc-button class=\"right\" @click=${this._openIngress}>\n                        Open web UI\n                      </mwc-button>\n                    `\n                  : \"\"}\n              `\n            : html`\n                ${!this.addon.available\n                  ? html`\n                      <p class=\"warning\">\n                        This add-on is not available on your system.\n                      </p>\n                    `\n                  : \"\"}\n                <ha-progress-button\n                  .disabled=${!this.addon.available || this._installing}\n                  .progress=${this._installing}\n                  @click=${this._installClicked}\n                >\n                  Install\n                </ha-progress-button>\n              `}\n        </div>\n      </paper-card>\n\n      ${this.addon.long_description\n        ? html`\n            <paper-card>\n              <div class=\"card-content\">\n                <ha-markdown\n                  .content=${this.addon.long_description}\n                ></ha-markdown>\n              </div>\n            </paper-card>\n          `\n        : \"\"}\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        :host {\n          display: block;\n        }\n        paper-card {\n          display: block;\n          margin-bottom: 16px;\n        }\n        paper-card.warning {\n          background-color: var(--google-red-500);\n          color: white;\n          --paper-card-header-color: white;\n        }\n        paper-card.warning mwc-button {\n          --mdc-theme-primary: white !important;\n        }\n        .warning {\n          color: var(--google-red-500);\n          --mdc-theme-primary: var(--google-red-500);\n        }\n        .light-color {\n          color: var(--secondary-text-color);\n        }\n        .addon-header {\n          font-size: 24px;\n          color: var(--paper-card-header-color, --primary-text-color);\n        }\n        .addon-version {\n          float: right;\n          font-size: 15px;\n          vertical-align: middle;\n        }\n        .errors {\n          color: var(--google-red-500);\n          margin-bottom: 16px;\n        }\n        .description {\n          margin-bottom: 16px;\n        }\n        .logo img {\n          max-height: 60px;\n          margin: 16px 0;\n          display: block;\n        }\n        .state {\n          display: flex;\n          margin: 33px 0;\n        }\n        .state div {\n          width: 180px;\n          display: inline-block;\n        }\n        .state iron-icon {\n          width: 16px;\n          height: 16px;\n          color: var(--secondary-text-color);\n        }\n        ha-switch {\n          display: flex;\n        }\n        iron-icon.running {\n          color: var(--paper-green-400);\n        }\n        iron-icon.stopped {\n          color: var(--google-red-300);\n        }\n        ha-call-api-button {\n          font-weight: 500;\n          color: var(--primary-color);\n        }\n        .right {\n          float: right;\n        }\n        ha-markdown img {\n          max-width: 100%;\n        }\n        protection-enable mwc-button {\n          --mdc-theme-primary: white;\n        }\n        .description a,\n        ha-markdown a {\n          color: var(--primary-color);\n        }\n        .red {\n          --ha-label-badge-color: var(--label-badge-red, #df4c1e);\n        }\n        .blue {\n          --ha-label-badge-color: var(--label-badge-blue, #039be5);\n        }\n        .green {\n          --ha-label-badge-color: var(--label-badge-green, #0da035);\n        }\n        .yellow {\n          --ha-label-badge-color: var(--label-badge-yellow, #f4b400);\n        }\n        .security {\n          margin-bottom: 16px;\n        }\n        .card-actions {\n          display: flow-root;\n        }\n        .security h3 {\n          margin-bottom: 8px;\n          font-weight: normal;\n        }\n        .security ha-label-badge {\n          cursor: pointer;\n          margin-right: 4px;\n          --iron-icon-height: 45px;\n        }\n      `,\n    ];\n  }\n\n  private get _computeHassioApi(): boolean {\n    return (\n      this.addon.hassio_api &&\n      (this.addon.hassio_role === \"manager\" ||\n        this.addon.hassio_role === \"admin\")\n    );\n  }\n\n  private get _computeApparmorClassName(): string {\n    if (this.addon.apparmor === \"profile\") {\n      return \"green\";\n    }\n    if (this.addon.apparmor === \"disable\") {\n      return \"red\";\n    }\n    return \"\";\n  }\n\n  private _showMoreInfo(ev): void {\n    const id = ev.target.getAttribute(\"id\");\n    showHassioMarkdownDialog(this, {\n      title: PERMIS_DESC[id].title,\n      content: PERMIS_DESC[id].description,\n    });\n  }\n\n  private get _computeIsRunning(): boolean {\n    return this.addon?.state === \"started\";\n  }\n\n  private get _computeUpdateAvailable(): boolean | \"\" {\n    return (\n      this.addon &&\n      !this.addon.detached &&\n      this.addon.version &&\n      this.addon.version !== this.addon.last_version\n    );\n  }\n\n  private get _pathWebui(): string | null {\n    return (\n      this.addon.webui &&\n      this.addon.webui.replace(\"[HOST]\", document.location.hostname)\n    );\n  }\n\n  private get _computeShowWebUI(): boolean | \"\" | null {\n    return !this.addon.ingress && this.addon.webui && this._computeIsRunning;\n  }\n\n  private _openIngress(): void {\n    navigate(this, `/hassio/ingress/${this.addon.slug}`);\n  }\n\n  private get _computeShowIngressUI(): boolean {\n    return this.addon.ingress && this._computeIsRunning;\n  }\n\n  private get _computeCannotIngressSidebar(): boolean {\n    return !this.addon.ingress || !this._computeHA92plus;\n  }\n\n  private get _computeUsesProtectedOptions(): boolean {\n    return (\n      this.addon.docker_api || this.addon.full_access || this.addon.host_pid\n    );\n  }\n\n  private get _computeHA92plus(): boolean {\n    const [major, minor] = this.hass.config.version.split(\".\", 2);\n    return Number(major) > 0 || (major === \"0\" && Number(minor) >= 92);\n  }\n\n  private async _startOnBootToggled(): Promise<void> {\n    this._error = undefined;\n    const data: HassioAddonSetOptionParams = {\n      boot: this.addon.boot === \"auto\" ? \"manual\" : \"auto\",\n    };\n    try {\n      await setHassioAddonOption(this.hass, this.addon.slug, data);\n      const eventdata = {\n        success: true,\n        response: undefined,\n        path: \"option\",\n      };\n      fireEvent(this, \"hass-api-called\", eventdata);\n    } catch (err) {\n      this._error = `Failed to set addon option, ${err.body?.message || err}`;\n    }\n  }\n\n  private async _autoUpdateToggled(): Promise<void> {\n    this._error = undefined;\n    const data: HassioAddonSetOptionParams = {\n      auto_update: !this.addon.auto_update,\n    };\n    try {\n      await setHassioAddonOption(this.hass, this.addon.slug, data);\n      const eventdata = {\n        success: true,\n        response: undefined,\n        path: \"option\",\n      };\n      fireEvent(this, \"hass-api-called\", eventdata);\n    } catch (err) {\n      this._error = `Failed to set addon option, ${err.body?.message || err}`;\n    }\n  }\n\n  private async _protectionToggled(): Promise<void> {\n    this._error = undefined;\n    const data: HassioAddonSetSecurityParams = {\n      protected: !this.addon.protected,\n    };\n    try {\n      await setHassioAddonSecurity(this.hass, this.addon.slug, data);\n      const eventdata = {\n        success: true,\n        response: undefined,\n        path: \"security\",\n      };\n      fireEvent(this, \"hass-api-called\", eventdata);\n    } catch (err) {\n      this._error = `Failed to set addon security option, ${err.body?.message ||\n        err}`;\n    }\n  }\n\n  private async _panelToggled(): Promise<void> {\n    this._error = undefined;\n    const data: HassioAddonSetOptionParams = {\n      ingress_panel: !this.addon.ingress_panel,\n    };\n    try {\n      await setHassioAddonOption(this.hass, this.addon.slug, data);\n      const eventdata = {\n        success: true,\n        response: undefined,\n        path: \"option\",\n      };\n      fireEvent(this, \"hass-api-called\", eventdata);\n    } catch (err) {\n      this._error = `Failed to set addon option, ${err.body?.message || err}`;\n    }\n  }\n\n  private async _openChangelog(): Promise<void> {\n    this._error = undefined;\n    try {\n      const content = await fetchHassioAddonChangelog(\n        this.hass,\n        this.addon.slug\n      );\n      showHassioMarkdownDialog(this, {\n        title: \"Changelog\",\n        content,\n      });\n    } catch (err) {\n      this._error = `Failed to get addon changelog, ${err.body?.message ||\n        err}`;\n    }\n  }\n\n  private async _installClicked(): Promise<void> {\n    this._error = undefined;\n    this._installing = true;\n    try {\n      await installHassioAddon(this.hass, this.addon.slug);\n      const eventdata = {\n        success: true,\n        response: undefined,\n        path: \"install\",\n      };\n      fireEvent(this, \"hass-api-called\", eventdata);\n    } catch (err) {\n      this._error = `Failed to install addon, ${err.body?.message || err}`;\n    }\n    this._installing = false;\n  }\n\n  private async _uninstallClicked(): Promise<void> {\n    if (!confirm(\"Are you sure you want to uninstall this add-on?\")) {\n      return;\n    }\n    this._error = undefined;\n    try {\n      await uninstallHassioAddon(this.hass, this.addon.slug);\n      const eventdata = {\n        success: true,\n        response: undefined,\n        path: \"uninstall\",\n      };\n      fireEvent(this, \"hass-api-called\", eventdata);\n    } catch (err) {\n      this._error = `Failed to uninstall addon, ${err.body?.message || err}`;\n    }\n  }\n}\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-addon-info\": HassioAddonInfo;\n  }\n}\n","import \"@material/mwc-button\";\nimport \"@polymer/paper-card/paper-card\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n  query,\n} from \"lit-element\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport {\n  HassioAddonDetails,\n  fetchHassioAddonLogs,\n} from \"../../../src/data/hassio/addon\";\nimport { ANSI_HTML_STYLE, parseTextToColoredPre } from \"../ansi-to-html\";\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { haStyle } from \"../../../src/resources/styles\";\n\n@customElement(\"hassio-addon-logs\")\nclass HassioAddonLogs extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public addon!: HassioAddonDetails;\n  @property() private _error?: string;\n  @query(\"#content\") private _logContent!: any;\n\n  public async connectedCallback(): Promise<void> {\n    super.connectedCallback();\n    await this._loadData();\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <paper-card heading=\"Log\">\n        ${this._error\n          ? html`\n              <div class=\"errors\">${this._error}</div>\n            `\n          : \"\"}\n        <div class=\"card-content\" id=\"content\"></div>\n        <div class=\"card-actions\">\n          <mwc-button @click=${this._refresh}>Refresh</mwc-button>\n        </div>\n      </paper-card>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      ANSI_HTML_STYLE,\n      css`\n        :host,\n        paper-card {\n          display: block;\n        }\n        pre {\n          overflow-x: auto;\n          white-space: pre-wrap;\n          overflow-wrap: break-word;\n        }\n        .errors {\n          color: var(--google-red-500);\n          margin-bottom: 16px;\n        }\n      `,\n    ];\n  }\n\n  private async _loadData(): Promise<void> {\n    this._error = undefined;\n    try {\n      const content = await fetchHassioAddonLogs(this.hass, this.addon.slug);\n      while (this._logContent.lastChild) {\n        this._logContent.removeChild(this._logContent.lastChild as Node);\n      }\n      this._logContent.appendChild(parseTextToColoredPre(content));\n    } catch (err) {\n      this._error = `Failed to get addon logs, ${err.body?.message || err}`;\n    }\n  }\n\n  private async _refresh(): Promise<void> {\n    await this._loadData();\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-addon-logs\": HassioAddonLogs;\n  }\n}\n","import \"@polymer/paper-card/paper-card\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  PropertyValues,\n  TemplateResult,\n} from \"lit-element\";\n\nimport { PaperInputElement } from \"@polymer/paper-input/paper-input\";\n\nimport { HomeAssistant } from \"../../../src/types\";\nimport {\n  HassioAddonDetails,\n  HassioAddonSetOptionParams,\n  setHassioAddonOption,\n} from \"../../../src/data/hassio/addon\";\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { haStyle } from \"../../../src/resources/styles\";\nimport { fireEvent } from \"../../../src/common/dom/fire_event\";\n\ninterface NetworkItem {\n  description: string;\n  container: string;\n  host: number | null;\n}\n\ninterface NetworkItemInput extends PaperInputElement {\n  container: string;\n}\n\n@customElement(\"hassio-addon-network\")\nclass HassioAddonNetwork extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public addon!: HassioAddonDetails;\n  @property() private _error?: string;\n  @property() private _config?: NetworkItem[];\n\n  public connectedCallback(): void {\n    super.connectedCallback();\n    this._setNetworkConfig();\n  }\n\n  protected render(): TemplateResult {\n    if (!this._config) {\n      return html``;\n    }\n\n    return html`\n      <paper-card heading=\"Network\">\n        <div class=\"card-content\">\n          ${this._error\n            ? html`\n                <div class=\"errors\">${this._error}</div>\n              `\n            : \"\"}\n\n          <table>\n            <tbody>\n              <tr>\n                <th>Container</th>\n                <th>Host</th>\n                <th>Description</th>\n              </tr>\n              ${this._config!.map((item) => {\n                return html`\n                  <tr>\n                    <td>${item.container}</td>\n                    <td>\n                      <paper-input\n                        @value-changed=${this._configChanged}\n                        placeholder=\"disabled\"\n                        .value=${item.host}\n                        .container=${item.container}\n                        no-label-float\n                      ></paper-input>\n                    </td>\n                    <td>${item.description}</td>\n                  </tr>\n                `;\n              })}\n            </tbody>\n          </table>\n        </div>\n        <div class=\"card-actions\">\n          <mwc-button class=\"warning\" @click=${this._resetTapped}>\n            Reset to defaults\n          </mwc-button>\n          <mwc-button @click=${this._saveTapped}>Save</mwc-button>\n        </div>\n      </paper-card>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        :host {\n          display: block;\n        }\n        paper-card {\n          display: block;\n        }\n        .errors {\n          color: var(--google-red-500);\n          margin-bottom: 16px;\n        }\n        .card-actions {\n          display: flex;\n          justify-content: space-between;\n        }\n      `,\n    ];\n  }\n\n  protected update(changedProperties: PropertyValues): void {\n    super.update(changedProperties);\n    if (changedProperties.has(\"addon\")) {\n      this._setNetworkConfig();\n    }\n  }\n\n  private _setNetworkConfig(): void {\n    const network = this.addon.network || {};\n    const description = this.addon.network_description || {};\n    const items: NetworkItem[] = Object.keys(network).map((key) => {\n      return {\n        container: key,\n        host: network[key],\n        description: description[key],\n      };\n    });\n    this._config = items.sort((a, b) => (a.container > b.container ? 1 : -1));\n  }\n\n  private async _configChanged(ev: Event): Promise<void> {\n    const target = ev.target as NetworkItemInput;\n    this._config!.forEach((item) => {\n      if (\n        item.container === target.container &&\n        item.host !== parseInt(String(target.value), 10)\n      ) {\n        item.host = target.value ? parseInt(String(target.value), 10) : null;\n      }\n    });\n  }\n\n  private async _resetTapped(): Promise<void> {\n    const data: HassioAddonSetOptionParams = {\n      network: null,\n    };\n\n    try {\n      await setHassioAddonOption(this.hass, this.addon.slug, data);\n      const eventdata = {\n        success: true,\n        response: undefined,\n        path: \"option\",\n      };\n      fireEvent(this, \"hass-api-called\", eventdata);\n    } catch (err) {\n      this._error = `Failed to set addon network configuration, ${err.body\n        ?.message || err}`;\n    }\n  }\n\n  private async _saveTapped(): Promise<void> {\n    this._error = undefined;\n    const networkconfiguration = {};\n    this._config!.forEach((item) => {\n      networkconfiguration[item.container] = parseInt(String(item.host), 10);\n    });\n\n    const data: HassioAddonSetOptionParams = {\n      network: networkconfiguration,\n    };\n\n    try {\n      await setHassioAddonOption(this.hass, this.addon.slug, data);\n      const eventdata = {\n        success: true,\n        response: undefined,\n        path: \"option\",\n      };\n      fireEvent(this, \"hass-api-called\", eventdata);\n    } catch (err) {\n      this._error = `Failed to set addon network configuration, ${err.body\n        ?.message || err}`;\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-addon-network\": HassioAddonNetwork;\n  }\n}\n","import \"@polymer/app-layout/app-header-layout/app-header-layout\";\nimport \"@polymer/app-layout/app-header/app-header\";\nimport \"@polymer/app-layout/app-toolbar/app-toolbar\";\nimport \"@polymer/paper-icon-button/paper-icon-button\";\nimport \"@polymer/paper-spinner/paper-spinner-lite\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\n\nimport { HomeAssistant, Route } from \"../../../src/types\";\nimport {\n  HassioAddonDetails,\n  fetchHassioAddonInfo,\n} from \"../../../src/data/hassio/addon\";\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { haStyle } from \"../../../src/resources/styles\";\n\nimport \"./hassio-addon-audio\";\nimport \"./hassio-addon-config\";\nimport \"./hassio-addon-info\";\nimport \"./hassio-addon-logs\";\nimport \"./hassio-addon-network\";\n\n@customElement(\"hassio-addon-view\")\nclass HassioAddonView extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public route!: Route;\n  @property() public addon?: HassioAddonDetails;\n\n  protected render(): TemplateResult {\n    if (!this.addon) {\n      return html`\n        <paper-spinner-lite active></paper-spinner-lite>\n      `;\n    }\n    return html`\n      <hass-subpage header=\"Hass.io: add-on details\" hassio>\n        <div class=\"content\">\n          <hassio-addon-info\n            .hass=${this.hass}\n            .addon=${this.addon}\n          ></hassio-addon-info>\n\n          ${this.addon && this.addon.version\n            ? html`\n                <hassio-addon-config\n                  .hass=${this.hass}\n                  .addon=${this.addon}\n                ></hassio-addon-config>\n\n                ${this.addon.audio\n                  ? html`\n                      <hassio-addon-audio\n                        .hass=${this.hass}\n                        .addon=${this.addon}\n                      ></hassio-addon-audio>\n                    `\n                  : \"\"}\n                ${this.addon.network\n                  ? html`\n                      <hassio-addon-network\n                        .hass=${this.hass}\n                        .addon=${this.addon}\n                      ></hassio-addon-network>\n                    `\n                  : \"\"}\n\n                <hassio-addon-logs\n                  .hass=${this.hass}\n                  .addon=${this.addon}\n                ></hassio-addon-logs>\n              `\n            : \"\"}\n        </div>\n      </hass-subpage>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        :host {\n          color: var(--primary-text-color);\n          --paper-card-header-color: var(--primary-text-color);\n        }\n        .content {\n          padding: 24px 0 32px;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n        }\n        hassio-addon-info,\n        hassio-addon-network,\n        hassio-addon-audio,\n        hassio-addon-config {\n          margin-bottom: 24px;\n          width: 600px;\n        }\n        hassio-addon-logs {\n          max-width: calc(100% - 8px);\n          min-width: 600px;\n        }\n        @media only screen and (max-width: 600px) {\n          hassio-addon-info,\n          hassio-addon-network,\n          hassio-addon-audio,\n          hassio-addon-config,\n          hassio-addon-logs {\n            max-width: 100%;\n            min-width: 100%;\n          }\n        }\n      `,\n    ];\n  }\n\n  protected async firstUpdated(): Promise<void> {\n    await this._routeDataChanged(this.route);\n    this.addEventListener(\"hass-api-called\", (ev) => this._apiCalled(ev));\n  }\n\n  private async _apiCalled(ev): Promise<void> {\n    const path: string = ev.detail.path;\n\n    if (!path) {\n      return;\n    }\n\n    if (path === \"uninstall\") {\n      history.back();\n    } else {\n      await this._routeDataChanged(this.route);\n    }\n  }\n\n  private async _routeDataChanged(routeData: Route): Promise<void> {\n    const addon = routeData.path.substr(1);\n    try {\n      const addoninfo = await fetchHassioAddonInfo(this.hass, addon);\n      this.addon = addoninfo;\n    } catch {\n      this.addon = undefined;\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-addon-view\": HassioAddonView;\n  }\n}\n","import { UpdatingElement, property, customElement } from \"lit-element\";\n// eslint-disable-next-line import/no-webpack-loader-syntax\n// @ts-ignore\n// tslint:disable-next-line: no-implicit-dependencies\nimport markdownWorker from \"workerize-loader!../resources/markdown_worker\";\nimport { fireEvent } from \"../common/dom/fire_event\";\n\nlet worker: any | undefined;\n\n@customElement(\"ha-markdown\")\nclass HaMarkdown extends UpdatingElement {\n  @property() public content = \"\";\n  @property({ type: Boolean }) public allowSvg = false;\n\n  protected update(changedProps) {\n    super.update(changedProps);\n\n    if (!worker) {\n      worker = markdownWorker();\n    }\n\n    this._render();\n  }\n\n  private async _render() {\n    this.innerHTML = await worker.renderMarkdown(\n      this.content,\n      {\n        breaks: true,\n        gfm: true,\n        tables: true,\n      },\n      {\n        allowSvg: this.allowSvg,\n      }\n    );\n\n    this._resize();\n\n    const walker = document.createTreeWalker(\n      this,\n      1 /* SHOW_ELEMENT */,\n      null,\n      false\n    );\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode;\n\n      // Open external links in a new window\n      if (\n        node instanceof HTMLAnchorElement &&\n        node.host !== document.location.host\n      ) {\n        node.target = \"_blank\";\n\n        // protect referrer on external links and deny window.opener access for security reasons\n        // (see https://mathiasbynens.github.io/rel-noopener/)\n        node.rel = \"noreferrer noopener\";\n\n        // Fire a resize event when images loaded to notify content resized\n      } else if (node) {\n        node.addEventListener(\"load\", this._resize);\n      }\n    }\n  }\n\n  private _resize = () => fireEvent(this, \"iron-resize\");\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-markdown\": HaMarkdown;\n  }\n}\n","\n\t\t\t\tvar addMethods = require(\"../../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = [\"renderMarkdown\"]\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(__webpack_public_path__ + \"a1ebfa0a88593a3b571c.worker.js\", { name: \"[hash].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t","import {\n  customElement,\n  CSSResult,\n  css,\n  query,\n  html,\n  property,\n} from \"lit-element\";\nimport \"@material/mwc-switch\";\nimport { style } from \"@material/mwc-switch/mwc-switch-css\";\n// tslint:disable-next-line\nimport { Switch } from \"@material/mwc-switch\";\nimport { Constructor } from \"../types\";\nimport { forwardHaptic } from \"../data/haptics\";\nimport { ripple } from \"@material/mwc-ripple/ripple-directive\";\n// tslint:disable-next-line\nconst MwcSwitch = customElements.get(\"mwc-switch\") as Constructor<Switch>;\n\n@customElement(\"ha-switch\")\nexport class HaSwitch extends MwcSwitch {\n  // Generate a haptic vibration.\n  // Only set to true if the new value of the switch is applied right away when toggling.\n  // Do not add haptic when a user is required to press save.\n  @property({ type: Boolean }) public haptic = false;\n  @query(\"slot\") private _slot!: HTMLSlotElement;\n\n  protected firstUpdated() {\n    super.firstUpdated();\n    this.style.setProperty(\n      \"--mdc-theme-secondary\",\n      \"var(--switch-checked-color)\"\n    );\n    this.classList.toggle(\n      \"slotted\",\n      Boolean(this._slot.assignedNodes().length)\n    );\n    this.addEventListener(\"change\", () => {\n      if (this.haptic) {\n        forwardHaptic(\"light\");\n      }\n    });\n  }\n\n  protected render() {\n    return html`\n      <div class=\"mdc-switch\">\n        <div class=\"mdc-switch__track\"></div>\n        <div\n          class=\"mdc-switch__thumb-underlay\"\n          .ripple=\"${ripple({\n            interactionNode: this,\n          })}\"\n        >\n          <div class=\"mdc-switch__thumb\">\n            <input\n              type=\"checkbox\"\n              id=\"basic-switch\"\n              class=\"mdc-switch__native-control\"\n              role=\"switch\"\n              @change=\"${this._haChangeHandler}\"\n            />\n          </div>\n        </div>\n      </div>\n      <label for=\"basic-switch\"><slot></slot></label>\n    `;\n  }\n\n  protected static get styles(): CSSResult[] {\n    return [\n      style,\n      css`\n        :host {\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n        }\n        .mdc-switch.mdc-switch--checked .mdc-switch__thumb {\n          background-color: var(--switch-checked-button-color);\n          border-color: var(--switch-checked-button-color);\n        }\n        .mdc-switch.mdc-switch--checked .mdc-switch__track {\n          background-color: var(--switch-checked-track-color);\n          border-color: var(--switch-checked-track-color);\n        }\n        .mdc-switch:not(.mdc-switch--checked) .mdc-switch__thumb {\n          background-color: var(--switch-unchecked-button-color);\n          border-color: var(--switch-unchecked-button-color);\n        }\n        .mdc-switch:not(.mdc-switch--checked) .mdc-switch__track {\n          background-color: var(--switch-unchecked-track-color);\n          border-color: var(--switch-unchecked-track-color);\n        }\n        :host(.slotted) .mdc-switch {\n          margin-right: 24px;\n        }\n      `,\n    ];\n  }\n\n  private _haChangeHandler(e: Event) {\n    this.mdcFoundation.handleChange(e);\n    // catch \"click\" event and sync properties\n    this.checked = this.formElement.checked;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-switch\": HaSwitch;\n  }\n}\n","/**\n * Broadcast haptic feedback requests\n */\n\nimport { fireEvent, HASSDomEvent } from \"../common/dom/fire_event\";\n\n// Allowed types are from iOS HIG.\n// https://developer.apple.com/design/human-interface-guidelines/ios/user-interaction/feedback/#haptics\n// Implementors on platforms other than iOS should attempt to match the patterns (shown in HIG) as closely as possible.\nexport type HapticType =\n  | \"success\"\n  | \"warning\"\n  | \"failure\"\n  | \"light\"\n  | \"medium\"\n  | \"heavy\"\n  | \"selection\";\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    haptic: HapticType;\n  }\n\n  interface GlobalEventHandlersEventMap {\n    haptic: HASSDomEvent<HapticType>;\n  }\n}\n\nexport const forwardHaptic = (hapticType: HapticType) => {\n  fireEvent(window, \"haptic\", hapticType);\n};\n"],"sourceRoot":""}