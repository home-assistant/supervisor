"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[8929],{38929:function(e,a,i){var t=i(22858).A,s=i(33994).A;i.a(e,function(){var e=t(s().mark((function e(t,r){var n,o,l,h,d,c,u,p,_,v,k,m,f,g,y,b,w,A,x,C,z,q,D,E,N,F,M;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i.r(a),n=i(64599),o=i(33994),l=i(22858),h=i(35806),d=i(71008),c=i(62193),u=i(2816),p=i(27927),_=i(81027),v=i(50693),k=i(79641),i(72606),i(63893),m=i(50289),f=i(29818),g=i(34897),i(13292),i(6482),y=i(3276),b=i(52992),i(24640),w=i(82903),i(90431),A=i(74994),x=i(55321),!(C=t([b,w,A])).then){e.next=38;break}return e.next=34,C;case 34:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=39;break;case 38:e.t0=C;case 39:z=e.t0,b=z[0],w=z[1],A=z[2],F={round:!1,type:"image/jpeg",quality:.75,aspectRatio:1.78},M=(0,p.A)(null,(function(e,a){var i,t,s=function(a){function i(){var a;(0,d.A)(this,i);for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return a=(0,c.A)(this,i,[].concat(s)),e(a),a}return(0,u.A)(i,a),(0,h.A)(i)}(a);return{F:s,d:[{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_name",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_aliases",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_labels",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_picture",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_icon",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_floor",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_submitting",value:void 0},{kind:"method",key:"showDialog",value:(t=(0,l.A)((0,o.A)().mark((function e(a){var i,t,s;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._params=a,this._error=void 0,this._name=this._params.entry?this._params.entry.name:this._params.suggestedName||"",this._aliases=this._params.entry?this._params.entry.aliases:[],this._labels=this._params.entry?this._params.entry.labels:[],this._picture=(null===(i=this._params.entry)||void 0===i?void 0:i.picture)||null,this._icon=(null===(t=this._params.entry)||void 0===t?void 0:t.icon)||null,this._floor=(null===(s=this._params.entry)||void 0===s?void 0:s.floor_id)||null,e.next=10,this.updateComplete;case 10:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{kind:"method",key:"closeDialog",value:function(){this._error="",this._params=void 0,(0,g.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){if(!this._params)return m.s6;var e=this._params.entry,a=!this._isNameValid();return(0,m.qy)(q||(q=(0,n.A)([' <ha-dialog open @closed="','" .heading="','"> <div> ',' <div class="form"> ',' <ha-textfield .value="','" @input="','" .label="','" .validationMessage="','" required dialogInitialFocus></ha-textfield> <ha-icon-picker .hass="','" .value="','" @value-changed="','" .label="','"></ha-icon-picker> <ha-floor-picker .hass="','" .value="','" @value-changed="','" .label="','"></ha-floor-picker> <ha-labels-picker .hass="','" .value="','" @value-changed="','"></ha-labels-picker> <ha-picture-upload .hass="','" .value="','" crop .cropOptions="','" @change="','"></ha-picture-upload> <h3 class="header"> ',' </h3> <p class="description"> ',' </p> <ha-aliases-editor .hass="','" .aliases="','" @value-changed="','"></ha-aliases-editor> </div> </div> <mwc-button slot="secondaryAction" @click="','"> ',' </mwc-button> <mwc-button slot="primaryAction" @click="','" .disabled="','"> '," </mwc-button> </ha-dialog> "])),this.closeDialog,(0,y.l)(this.hass,e?this.hass.localize("ui.panel.config.areas.editor.update_area"):this.hass.localize("ui.panel.config.areas.editor.create_area")),this._error?(0,m.qy)(D||(D=(0,n.A)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):"",e?(0,m.qy)(E||(E=(0,n.A)([' <ha-settings-row> <span slot="heading"> ',' </span> <span slot="description"> '," </span> </ha-settings-row> "])),this.hass.localize("ui.panel.config.areas.editor.area_id"),e.area_id):m.s6,this._name,this._nameChanged,this.hass.localize("ui.panel.config.areas.editor.name"),this.hass.localize("ui.panel.config.areas.editor.name_required"),this.hass,this._icon,this._iconChanged,this.hass.localize("ui.panel.config.areas.editor.icon"),this.hass,this._floor,this._floorChanged,this.hass.localize("ui.panel.config.areas.editor.floor"),this.hass,this._labels,this._labelsChanged,this.hass,this._picture,F,this._pictureChanged,this.hass.localize("ui.panel.config.areas.editor.aliases_section"),this.hass.localize("ui.panel.config.areas.editor.aliases_description"),this.hass,this._aliases,this._aliasesChanged,this.closeDialog,this.hass.localize("ui.common.cancel"),this._updateEntry,a||this._submitting,e?this.hass.localize("ui.common.save"):this.hass.localize("ui.common.add"))}},{kind:"method",key:"_isNameValid",value:function(){return""!==this._name.trim()}},{kind:"method",key:"_nameChanged",value:function(e){this._error=void 0,this._name=e.target.value}},{kind:"method",key:"_floorChanged",value:function(e){this._error=void 0,this._floor=e.detail.value}},{kind:"method",key:"_iconChanged",value:function(e){this._error=void 0,this._icon=e.detail.value}},{kind:"method",key:"_labelsChanged",value:function(e){this._error=void 0,this._labels=e.detail.value}},{kind:"method",key:"_pictureChanged",value:function(e){this._error=void 0,this._picture=e.target.value}},{kind:"method",key:"_updateEntry",value:(i=(0,l.A)((0,o.A)().mark((function e(){var a,i;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!this._params.entry,this._submitting=!0,e.prev=2,i={name:this._name.trim(),picture:this._picture||(a?void 0:null),icon:this._icon||(a?void 0:null),floor_id:this._floor||(a?void 0:null),labels:this._labels||null,aliases:this._aliases},!a){e.next=9;break}return e.next=7,this._params.createEntry(i);case 7:e.next=11;break;case 9:return e.next=11,this._params.updateEntry(i);case 11:this.closeDialog(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),this._error=e.t0.message||this.hass.localize("ui.panel.config.areas.editor.unknown_error");case 17:return e.prev=17,this._submitting=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[2,14,17,20]])}))),function(){return i.apply(this,arguments)})},{kind:"method",key:"_aliasesChanged",value:function(e){this._aliases=e.detail.value}},{kind:"get",static:!0,key:"styles",value:function(){return[x.nA,(0,m.AH)(N||(N=(0,n.A)(["ha-floor-picker,ha-icon-picker,ha-labels-picker,ha-picture-upload,ha-textfield{display:block;margin-bottom:16px}"])))]}}]}}),m.WF),customElements.define("dialog-area-registry-detail",M),r(),e.next=52;break;case 49:e.prev=49,e.t2=e.catch(0),r(e.t2);case 52:case"end":return e.stop()}}),e,null,[[0,49]])})));return function(a,i){return e.apply(this,arguments)}}())}}]);
//# sourceMappingURL=8929.PP6bYAQ4WMQ.js.map