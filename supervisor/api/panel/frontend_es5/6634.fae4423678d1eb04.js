"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["6634"],{68138:function(i,e,s){s.r(e);var a,t,o,d,l,r,c=s(9833),n=s(94524),v=s(63038),h=s(27862),u=s(52565),m=s(92776),g=s(5776),k=s(21475),p=(s(38419),s(64228),s(13334),s(87319),s(57243)),_=s(50778),f=s(27486),y=s(36522),P=(s(82104),s(92824),s(73729),s(56785)),b=s(67044),Z=s(76131),w=s(28008),z=(0,f.Z)((function(i){var e=""!==i.host.disk_life_time?30:10,s=1e3*i.host.disk_used/60/e,a=4*i.host.startup_time/60;return 10*Math.ceil((s+a)/10)}));(0,k.Z)([(0,_.Mo)("dialog-hassio-datadisk")],(function(i,e){var s,k=function(e){function s(){var e;(0,u.Z)(this,s);for(var a=arguments.length,t=new Array(a),o=0;o<a;o++)t[o]=arguments[o];return e=(0,m.Z)(this,s,[].concat(t)),i(e),e}return(0,g.Z)(s,e),(0,h.Z)(s)}(e);return{F:k,d:[{kind:"field",decorators:[(0,_.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,_.SB)()],key:"dialogParams",value:void 0},{kind:"field",decorators:[(0,_.SB)()],key:"selectedDevice",value:void 0},{kind:"field",decorators:[(0,_.SB)()],key:"devices",value:void 0},{kind:"field",decorators:[(0,_.SB)()],key:"moving",value:function(){return!1}},{kind:"method",key:"showDialog",value:function(i){var e=this;this.dialogParams=i,(0,b.ou)(this.hass).then((function(i){e.devices=i.devices}))}},{kind:"method",key:"closeDialog",value:function(){this.dialogParams=void 0,this.selectedDevice=void 0,this.devices=void 0,this.moving=!1,(0,y.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){var i;return this.dialogParams?(0,p.dy)(a||(a=(0,v.Z)([' <ha-dialog open scrimClickAction escapeKeyAction .heading="','" @closed="','" ?hideActions="','"> '," </ha-dialog> "])),this.moving?this.dialogParams.supervisor.localize("dialog.datadisk_move.moving"):this.dialogParams.supervisor.localize("dialog.datadisk_move.title"),this.closeDialog,this.moving,this.moving?(0,p.dy)(t||(t=(0,v.Z)([' <ha-circular-progress aria-label="Moving" size="large" indeterminate> </ha-circular-progress> <p class="progress-text"> '," </p>"])),this.dialogParams.supervisor.localize("dialog.datadisk_move.moving_desc")):(0,p.dy)(o||(o=(0,v.Z)([" ",' <mwc-button slot="secondaryAction" @click="','" dialogInitialFocus> ',' </mwc-button> <mwc-button .disabled="','" slot="primaryAction" @click="','"> '," </mwc-button>"])),null!==(i=this.devices)&&void 0!==i&&i.length?(0,p.dy)(d||(d=(0,v.Z)([" ",' <br><br> <ha-select .label="','" @selected="','" dialogInitialFocus> '," </ha-select> "])),this.dialogParams.supervisor.localize("dialog.datadisk_move.description",{current_path:this.dialogParams.supervisor.os.data_disk,time:z(this.dialogParams.supervisor)}),this.dialogParams.supervisor.localize("dialog.datadisk_move.select_device"),this._select_device,this.devices.map((function(i){return(0,p.dy)(l||(l=(0,v.Z)(['<mwc-list-item .value="','">',"</mwc-list-item>"])),i,i)}))):void 0===this.devices?this.dialogParams.supervisor.localize("dialog.datadisk_move.loading_devices"):this.dialogParams.supervisor.localize("dialog.datadisk_move.no_devices"),this.closeDialog,this.dialogParams.supervisor.localize("dialog.datadisk_move.cancel"),!this.selectedDevice,this._moveDatadisk,this.dialogParams.supervisor.localize("dialog.datadisk_move.move"))):p.Ld}},{kind:"method",key:"_select_device",value:function(i){this.selectedDevice=i.target.value}},{kind:"method",key:"_moveDatadisk",value:(s=(0,n.Z)((0,c.Z)().mark((function i(){return(0,c.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return this.moving=!0,i.prev=1,i.next=4,(0,b.Sx)(this.hass,this.selectedDevice);case 4:i.next=9;break;case 6:i.prev=6,i.t0=i.catch(1),this.hass.connection.connected&&!(0,P.yz)(i.t0)&&((0,Z.Ys)(this,{title:this.dialogParams.supervisor.localize("system.host.failed_to_move"),text:(0,P.js)(i.t0)}),this.closeDialog());case 9:case"end":return i.stop()}}),i,this,[[1,6]])}))),function(){return s.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[w.Qx,w.yu,(0,p.iv)(r||(r=(0,v.Z)(["ha-select{width:100%}ha-circular-progress{display:block;margin:32px;text-align:center}.progress-text{text-align:center}"])))]}}]}}),p.oi)}}]);
//# sourceMappingURL=6634.fae4423678d1eb04.js.map