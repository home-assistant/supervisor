"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[5499],{19996:function(e,t,i){i.r(t),i.d(t,{HassioAddonStore:function(){return j}});var r=i(88962),o=i(99312),n=i(81043),a=i(33368),s=i(71650),l=i(82390),d=i(69205),c=i(70906),u=i(91808),h=i(34541),p=i(47838),v=(i(44577),i(68144)),f=i(79932),g=i(14516),m=i(63864),y=i(47181),k=i(83849),_=i(15493),b=(i(81545),i(5666),i(65040),i(34154)),x=i(41682),Z=i(26765),w=(i(15291),i(15803),i(27264),i(92109),i(85415)),A=(i(22098),i(46586),i(81480));var C,L,R,z,H,S,B,T,M,P,D,V=i(55677),I=((0,u.Z)([(0,f.Mo)("hassio-addon-repository")],(function(e,t){var i=function(t){(0,d.Z)(r,t);var i=(0,c.Z)(r);function r(){var t;(0,s.Z)(this,r);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=i.call.apply(i,[this].concat(n)),e((0,l.Z)(t)),t}return(0,a.Z)(r)}(t);return{F:i,d:[{kind:"field",decorators:[(0,f.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.Cb)({attribute:!1})],key:"supervisor",value:void 0},{kind:"field",decorators:[(0,f.Cb)({attribute:!1})],key:"repo",value:void 0},{kind:"field",decorators:[(0,f.Cb)({attribute:!1})],key:"addons",value:void 0},{kind:"field",decorators:[(0,f.Cb)()],key:"filter",value:void 0},{kind:"field",key:"_getAddons",value:function(){var e=this;return(0,g.Z)((function(t,i){return i?function(e,t){return new A.Z(e,{keys:["name","description","slug"],isCaseSensitive:!1,minMatchCharLength:2,threshold:.2}).search(t).map((function(e){return e.item}))}(t,i):t.sort((function(t,i){return(0,w.f)(t.name,i.name,e.hass.locale.language)}))}))}},{kind:"method",key:"render",value:function(){var e,t=this,i=this.repo,o=this.addons;null!==(e=this.hass.userData)&&void 0!==e&&e.showAdvanced||(o=o.filter((function(e){return!e.advanced&&"stable"===e.stage})));var n=this._getAddons(o,this.filter);return this.filter&&n.length<1?(0,v.dy)(C||(C=(0,r.Z)([' <div class="content"> <p class="description"> '," </p> </div> "])),this.supervisor.localize("store.no_results_found","repository",i.name)):(0,v.dy)(L||(L=(0,r.Z)([' <div class="content"> <h1>','</h1> <div class="card-group"> '," </div> </div> "])),i.name,n.map((function(e){return(0,v.dy)(R||(R=(0,r.Z)([' <ha-card outlined .addon="','" class="','" @click="','"> <div class="card-content"> <hassio-card-content .hass="','" .title="','" .description="','" .available="','" .icon="','" .iconTitle="','" .iconClass="','" .iconImage="','" .showTopbar="','" .topbarClass="','"></hassio-card-content> </div> </ha-card> '])),e,e.available?"":"not_available",t._addonTapped,t.hass,e.name,e.description,e.available,e.installed&&e.update_available?"M12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22M12,7L7,12H10V16H14V12H17L12,7Z":"M20.5,11H19V7C19,5.89 18.1,5 17,5H13V3.5A2.5,2.5 0 0,0 10.5,1A2.5,2.5 0 0,0 8,3.5V5H4A2,2 0 0,0 2,7V10.8H3.5C5,10.8 6.2,12 6.2,13.5C6.2,15 5,16.2 3.5,16.2H2V20A2,2 0 0,0 4,22H7.8V20.5C7.8,19 9,17.8 10.5,17.8C12,17.8 13.2,19 13.2,20.5V22H17A2,2 0 0,0 19,20V16H20.5A2.5,2.5 0 0,0 23,13.5A2.5,2.5 0 0,0 20.5,11Z",e.installed?e.update_available?t.supervisor.localize("common.new_version_available"):t.supervisor.localize("addon.state.installed"):e.available?t.supervisor.localize("addon.state.not_installed"):t.supervisor.localize("addon.state.not_available"),e.installed?e.update_available?"update":"installed":e.available?"":"not_available",(0,m.I)(t.hass.config.version,0,105)&&e.icon?"/api/hassio/addons/".concat(e.slug,"/icon"):void 0,e.installed||!e.available,e.installed?e.update_available?"update":"installed":e.available?"":"unavailable")})))}},{kind:"method",key:"_addonTapped",value:function(e){(0,k.c)("/hassio/addon/".concat(e.currentTarget.addon.slug,"?store=true"))}},{kind:"get",static:!0,key:"styles",value:function(){return[V.l,(0,v.iv)(z||(z=(0,r.Z)(["ha-card{cursor:pointer;overflow:hidden}.not_available{opacity:.6}a.repo{color:var(--primary-text-color)}"])))]}}]}}),v.oi),function(e,t){return"local"===e.slug?-1:"local"===t.slug?1:"core"===e.slug?-1:"core"===t.slug?1:e.name.toUpperCase()<t.name.toUpperCase()?-1:1}),j=(0,u.Z)([(0,f.Mo)("hassio-addon-store")],(function(e,t){var u,w=function(t){(0,d.Z)(r,t);var i=(0,c.Z)(r);function r(){var t;(0,s.Z)(this,r);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=i.call.apply(i,[this].concat(n)),e((0,l.Z)(t)),t}return(0,a.Z)(r)}(t);return{F:w,d:[{kind:"field",decorators:[(0,f.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.Cb)({attribute:!1})],key:"supervisor",value:void 0},{kind:"field",decorators:[(0,f.Cb)({type:Boolean})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,f.Cb)({attribute:!1})],key:"route",value:void 0},{kind:"field",decorators:[(0,f.SB)()],key:"_filter",value:void 0},{kind:"method",key:"refreshData",value:(u=(0,n.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.a_)(this.hass);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,Z.Ys)(this,{text:(0,x.js)(e.t0)});case 8:return e.prev=8,this._loadData(),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[0,5,8,11]])}))),function(){return u.apply(this,arguments)})},{kind:"method",key:"render",value:function(){var e,t,i=[];return this.supervisor.store.repositories&&(i=this.addonRepositories(this.supervisor.store.repositories,this.supervisor.store.addons,this._filter)),(0,v.dy)(H||(H=(0,r.Z)([' <hass-subpage .hass="','" .narrow="','" .route="','" .header="','"> <ha-button-menu slot="toolbar-icon" @action="','"> <ha-icon-button .label="','" .path="','" slot="trigger"></ha-icon-button> <mwc-list-item> '," </mwc-list-item> <mwc-list-item> "," </mwc-list-item> "," </ha-button-menu> "," "," </hass-subpage> "])),this.hass,this.narrow,this.route,this.supervisor.localize("panel.store"),this._handleAction,this.supervisor.localize("common.menu"),"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",this.supervisor.localize("store.check_updates"),this.supervisor.localize("store.repositories"),null!==(e=this.hass.userData)&&void 0!==e&&e.showAdvanced&&(0,m.I)(this.hass.config.version,0,117)?(0,v.dy)(S||(S=(0,r.Z)(["<mwc-list-item> "," </mwc-list-item>"])),this.supervisor.localize("store.registries")):"",0===i.length?(0,v.dy)(B||(B=(0,r.Z)(["<hass-loading-screen no-toolbar></hass-loading-screen>"]))):(0,v.dy)(T||(T=(0,r.Z)([' <div class="search"> <search-input .hass="','" .filter="','" @value-changed="','"></search-input> </div> '," "])),this.hass,this._filter,this._filterChanged,i),null!==(t=this.hass.userData)&&void 0!==t&&t.showAdvanced?"":(0,v.dy)(M||(M=(0,r.Z)([' <div class="advanced"> <a href="/profile" target="_top"> '," </a> </div> "])),this.supervisor.localize("store.missing_addons")))}},{kind:"method",key:"firstUpdated",value:function(e){var t=this;(0,h.Z)((0,p.Z)(w.prototype),"firstUpdated",this).call(this,e);var i=(0,_.io)("repository_url");(0,k.c)("/hassio/store",{replace:!0}),i&&this._manageRepositories(i),this.addEventListener("hass-api-called",(function(e){return t.apiCalled(e)})),this._loadData()}},{kind:"field",key:"addonRepositories",value:function(){var e=this;return(0,g.Z)((function(t,i,o){return t.sort(I).map((function(t){var n=i.filter((function(e){return e.repository===t.slug}));return 0!==n.length?(0,v.dy)(P||(P=(0,r.Z)([' <hassio-addon-repository .hass="','" .repo="','" .addons="','" .filter="','" .supervisor="','"></hassio-addon-repository> '])),e.hass,t,n,o,e.supervisor):v.Ld}))}))}},{kind:"method",key:"_handleAction",value:function(e){switch(e.detail.index){case 0:this.refreshData();break;case 1:this._manageRepositoriesClicked();break;case 2:this._manageRegistries()}}},{kind:"method",key:"apiCalled",value:function(e){e.detail.success&&this._loadData()}},{kind:"method",key:"_manageRepositoriesClicked",value:function(){this._manageRepositories()}},{kind:"method",key:"_manageRepositories",value:function(e){var t,r;t=this,r={supervisor:this.supervisor,url:e},(0,y.B)(t,"show-dialog",{dialogTag:"dialog-hassio-repositories",dialogImport:function(){return Promise.resolve().then(i.bind(i,92109))},dialogParams:r})}},{kind:"method",key:"_manageRegistries",value:function(){var e,t;e=this,t={supervisor:this.supervisor},(0,y.B)(e,"show-dialog",{dialogTag:"dialog-hassio-registries",dialogImport:function(){return Promise.resolve().then(i.bind(i,27264))},dialogParams:t})}},{kind:"method",key:"_loadData",value:function(){(0,y.B)(this,"supervisor-collection-refresh",{collection:"addon"}),(0,y.B)(this,"supervisor-collection-refresh",{collection:"supervisor"})}},{kind:"method",key:"_filterChanged",value:function(e){this._filter=e.detail.value}},{kind:"get",static:!0,key:"styles",value:function(){return(0,v.iv)(D||(D=(0,r.Z)(["hassio-addon-repository{margin-top:24px}.search{position:sticky;top:0;z-index:2}search-input{display:block;--mdc-text-field-fill-color:var(--sidebar-background-color);--mdc-text-field-idle-line-color:var(--divider-color)}.advanced{padding:12px;display:flex;flex-wrap:wrap;color:var(--primary-text-color)}.advanced a{margin-left:.5em;color:var(--primary-color)}"])))}}]}}),v.oi)},27264:function(e,t,i){i.r(t);var r,o,n,a,s,l,d=i(99312),c=i(81043),u=i(88962),h=i(33368),p=i(71650),v=i(82390),f=i(69205),g=i(70906),m=i(91808),y=(i(14271),i(68144)),k=i(79932),_=i(34821),b=(i(68331),i(5666),i(14089),i(41682)),x=i(63864),Z=function(){var e=(0,c.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,x.I)(t.config.version,2021,2,4)){e.next=2;break}return e.abrupt("return",t.callWS({type:"supervisor/api",endpoint:"/docker/registries",method:"get"}));case 2:return e.t0=b.rY,e.next=5,t.callApi("GET","hassio/docker/registries");case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,c.Z)((0,d.Z)().mark((function e(t,i){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,x.I)(t.config.version,2021,2,4)){e.next=4;break}return e.next=3,t.callWS({type:"supervisor/api",endpoint:"/docker/registries",method:"post",data:i});case 3:return e.abrupt("return");case 4:return e.next=6,t.callApi("POST","hassio/docker/registries",i);case 6:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}(),A=function(){var e=(0,c.Z)((0,d.Z)().mark((function e(t,i){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,x.I)(t.config.version,2021,2,4)){e.next=4;break}return e.next=3,t.callWS({type:"supervisor/api",endpoint:"/docker/registries/".concat(i),method:"delete"});case 3:return e.abrupt("return");case 4:return e.next=6,t.callApi("DELETE","hassio/docker/registries/".concat(i));case 6:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}(),C=i(26765),L=i(11654),R=[{name:"registry",required:!0,selector:{text:{}}},{name:"username",required:!0,selector:{text:{}}},{name:"password",required:!0,selector:{text:{type:"password"}}}];(0,m.Z)([(0,k.Mo)("dialog-hassio-registries")],(function(e,t){var i,m,x,z,H=function(t){(0,f.Z)(r,t);var i=(0,g.Z)(r);function r(){var t;(0,p.Z)(this,r);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=i.call.apply(i,[this].concat(n)),e((0,v.Z)(t)),t}return(0,h.Z)(r)}(t);return{F:H,d:[{kind:"field",decorators:[(0,k.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,k.Cb)({attribute:!1})],key:"supervisor",value:void 0},{kind:"field",decorators:[(0,k.SB)()],key:"_registries",value:void 0},{kind:"field",decorators:[(0,k.SB)()],key:"_input",value:function(){return{}}},{kind:"field",decorators:[(0,k.SB)()],key:"_opened",value:function(){return!1}},{kind:"field",decorators:[(0,k.SB)()],key:"_addingRegistry",value:function(){return!1}},{kind:"method",key:"render",value:function(){var e,t=this;return(0,y.dy)(r||(r=(0,u.Z)([' <ha-dialog .open="','" @closed="','" scrimClickAction escapeKeyAction hideActions .heading="','"> '," </ha-dialog> "])),this._opened,this.closeDialog,(0,_.i)(this.hass,this._addingRegistry?this.supervisor.localize("dialog.registries.title_add"):this.supervisor.localize("dialog.registries.title_manage")),this._addingRegistry?(0,y.dy)(o||(o=(0,u.Z)([' <ha-form .data="','" .schema="','" @value-changed="','" .computeLabel="','" dialogInitialFocus></ha-form> <div class="action"> <mwc-button ?disabled="','" @click="','"> '," </mwc-button> </div> "])),this._input,R,this._valueChanged,this._computeLabel,Boolean(!this._input.registry||!this._input.username||!this._input.password),this._addNewRegistry,this.supervisor.localize("dialog.registries.add_registry")):(0,y.dy)(n||(n=(0,u.Z)(["",' <div class="action"> <mwc-button @click="','" dialogInitialFocus> '," </mwc-button> </div> "])),null!==(e=this._registries)&&void 0!==e&&e.length?this._registries.map((function(e){return(0,y.dy)(a||(a=(0,u.Z)([' <ha-settings-row class="registry"> <span slot="heading"> ',' </span> <span slot="description"> ',": ",' </span> <ha-icon-button .entry="','" .label="','" .path="','" @click="','"></ha-icon-button> </ha-settings-row> '])),e.registry,t.supervisor.localize("dialog.registries.username"),e.username,e,t.supervisor.localize("dialog.registries.remove"),"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",t._removeRegistry)})):(0,y.dy)(s||(s=(0,u.Z)([" <ha-alert> "," </ha-alert> "])),this.supervisor.localize("dialog.registries.no_registries")),this._addRegistry,this.supervisor.localize("dialog.registries.add_new_registry")))}},{kind:"field",key:"_computeLabel",value:function(){var e=this;return function(t){return e.supervisor.localize("dialog.registries.".concat(t.name))}}},{kind:"method",key:"_valueChanged",value:function(e){this._input=e.detail.value}},{kind:"method",key:"showDialog",value:(z=(0,c.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._opened=!0,this._input={},this.supervisor=t.supervisor,e.next=5,this._loadRegistries();case 5:return e.next=7,this.updateComplete;case 7:case"end":return e.stop()}}),e,this)}))),function(e){return z.apply(this,arguments)})},{kind:"method",key:"closeDialog",value:function(){this._addingRegistry=!1,this._opened=!1,this._input={}}},{kind:"method",key:"focus",value:function(){var e=this;this.updateComplete.then((function(){var t,i;return null===(t=e.shadowRoot)||void 0===t||null===(i=t.querySelector("[dialogInitialFocus]"))||void 0===i?void 0:i.focus()}))}},{kind:"method",key:"_loadRegistries",value:(x=(0,c.Z)((0,d.Z)().mark((function e(){var t;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(this.hass);case 2:t=e.sent,this._registries=Object.keys(t.registries).map((function(e){return{registry:e,username:t.registries[e].username}}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})},{kind:"method",key:"_addRegistry",value:function(){this._addingRegistry=!0}},{kind:"method",key:"_addNewRegistry",value:(m=(0,c.Z)((0,d.Z)().mark((function e(){var t;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t={})[this._input.registry]={username:this._input.username,password:this._input.password},e.prev=2,e.next=5,w(this.hass,t);case 5:return e.next=7,this._loadRegistries();case 7:this._addingRegistry=!1,this._input={},e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),(0,C.Ys)(this,{title:this.supervisor.localize("dialog.registries.failed_to_add"),text:(0,b.js)(e.t0)});case 14:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(){return m.apply(this,arguments)})},{kind:"method",key:"_removeRegistry",value:(i=(0,c.Z)((0,d.Z)().mark((function e(t){var i;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.currentTarget.entry,e.prev=1,e.next=4,A(this.hass,i.registry);case 4:return e.next=6,this._loadRegistries();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),(0,C.Ys)(this,{title:this.supervisor.localize("dialog.registries.failed_to_remove"),text:(0,b.js)(e.t0)});case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return i.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[L.Qx,L.yu,(0,y.iv)(l||(l=(0,u.Z)([".registry{border:1px solid var(--divider-color);border-radius:4px;margin-top:4px}.action{margin-top:24px;width:100%;display:flex;justify-content:flex-end}ha-icon-button{color:var(--error-color);margin-right:-10px}"])))]}}]}}),y.oi)},92109:function(e,t,i){i.r(t);var r,o,n,a,s,l,d=i(88962),c=i(99312),u=i(81043),h=i(33368),p=i(71650),v=i(82390),f=i(69205),g=i(70906),m=i(91808),y=(i(14271),i(14411),i(33507),i(89194),i(33829),i(68144)),k=i(79932),_=i(14516),b=i(47181),x=i(85415),Z=(i(9381),i(76870),i(34821)),w=(i(5666),i(41682)),A=i(26228),C=i(11654);(0,m.Z)([(0,k.Mo)("dialog-hassio-repositories")],(function(e,t){var i,m,L,R,z=function(t){(0,f.Z)(r,t);var i=(0,g.Z)(r);function r(){var t;(0,p.Z)(this,r);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=i.call.apply(i,[this].concat(n)),e((0,v.Z)(t)),t}return(0,h.Z)(r)}(t);return{F:z,d:[{kind:"field",decorators:[(0,k.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,k.IO)("#repository_input",!0)],key:"_optionInput",value:void 0},{kind:"field",decorators:[(0,k.SB)()],key:"_repositories",value:void 0},{kind:"field",decorators:[(0,k.SB)()],key:"_dialogParams",value:void 0},{kind:"field",decorators:[(0,k.SB)()],key:"_opened",value:function(){return!1}},{kind:"field",decorators:[(0,k.SB)()],key:"_processing",value:function(){return!1}},{kind:"field",decorators:[(0,k.SB)()],key:"_error",value:void 0},{kind:"method",key:"showDialog",value:(R=(0,u.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._dialogParams=t,this._opened=!0,e.next=4,this._loadData();case 4:return e.next=6,this.updateComplete;case 6:case"end":return e.stop()}}),e,this)}))),function(e){return R.apply(this,arguments)})},{kind:"method",key:"closeDialog",value:function(){this._dialogParams=void 0,this._opened=!1,this._error=""}},{kind:"field",key:"_filteredRepositories",value:function(){var e=this;return(0,_.Z)((function(t){return t.filter((function(e){return"core"!==e.slug&&"local"!==e.slug&&"a0d7b954"!==e.slug&&"5c53de3b"!==e.slug})).sort((function(t,i){return(0,x.f)(t.name,i.name,e.hass.locale.language)}))}))}},{kind:"field",key:"_filteredUsedRepositories",value:function(){return(0,_.Z)((function(e,t){return e.filter((function(e){return t.some((function(t){return t.repository===e.slug}))})).map((function(e){return e.slug}))}))}},{kind:"method",key:"render",value:function(){var e,t,i=this;if(null===(e=this._dialogParams)||void 0===e||!e.supervisor||void 0===this._repositories)return y.Ld;var l=this._filteredRepositories(this._repositories),c=this._filteredUsedRepositories(l,this._dialogParams.supervisor.addon.addons);return(0,y.dy)(r||(r=(0,d.Z)([' <ha-dialog .open="','" @closed="','" scrimClickAction escapeKeyAction .heading="','"> ',' <div class="form"> ',' <div class="layout horizontal bottom"> <paper-input class="flex-auto" id="repository_input" .value="','" .label="','" @keydown="','" dialogInitialFocus></paper-input> <mwc-button @click="','"> ',' </mwc-button> </div> </div> <mwc-button slot="primaryAction" @click="','"> '," </mwc-button> </ha-dialog> "])),this._opened,this.closeDialog,(0,Z.i)(this.hass,this._dialogParams.supervisor.localize("dialog.repositories.title")),this._error?(0,y.dy)(o||(o=(0,d.Z)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):"",l.length?l.map((function(e){return(0,y.dy)(n||(n=(0,d.Z)([' <paper-item class="option"> <paper-item-body three-line> <div>',"</div> <div secondary>","</div> <div secondary>",'</div> </paper-item-body> <div class="delete"> <ha-icon-button .label="','" .disabled="','" .slug="','" .path="','" @click="','"> </ha-icon-button> <simple-tooltip animation-delay="0" position="bottom" offset="1"> '," </simple-tooltip> </div> </paper-item> "])),e.name,e.maintainer,e.url,i._dialogParams.supervisor.localize("dialog.repositories.remove"),c.includes(e.slug),e.slug,c.includes(e.slug)?"M2 5.27L3.28 4L5 5.72L5.28 6L6.28 7L18 18.72L20 20.72L18.73 22L17.27 20.54C16.93 20.83 16.5 21 16 21H8C6.9 21 6 20.1 6 19V9.27L2 5.27M19 4V6H7.82L5.82 4H8.5L9.5 3H14.5L15.5 4H19M18 7V16.18L8.82 7H18Z":"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",i._removeRepository,i._dialogParams.supervisor.localize(c.includes(e.slug)?"dialog.repositories.used":"dialog.repositories.remove"))})):(0,y.dy)(a||(a=(0,d.Z)(["<paper-item> No repositories </paper-item>"]))),this._dialogParams.url||"",this._dialogParams.supervisor.localize("dialog.repositories.add"),this._handleKeyAdd,this._addRepository,this._processing?(0,y.dy)(s||(s=(0,d.Z)(['<ha-circular-progress active size="small"></ha-circular-progress>']))):this._dialogParams.supervisor.localize("dialog.repositories.add"),this.closeDialog,null===(t=this._dialogParams)||void 0===t?void 0:t.supervisor.localize("common.close"))}},{kind:"get",static:!0,key:"styles",value:function(){return[C.Qx,C.yu,(0,y.iv)(l||(l=(0,d.Z)(["ha-dialog.button-left{--justify-action-buttons:flex-start}paper-icon-item{cursor:pointer}.form{color:var(--primary-text-color)}.option{border:1px solid var(--divider-color);border-radius:4px;margin-top:4px}mwc-button{margin-left:8px}ha-circular-progress{display:block;margin:32px;text-align:center}div.delete ha-icon-button{color:var(--error-color)}"])))]}},{kind:"method",key:"focus",value:function(){var e=this;this.updateComplete.then((function(){var t,i;return null===(t=e.shadowRoot)||void 0===t||null===(i=t.querySelector("[dialogInitialFocus]"))||void 0===i?void 0:i.focus()}))}},{kind:"method",key:"_handleKeyAdd",value:function(e){e.stopPropagation(),"Enter"===e.key&&this._addRepository()}},{kind:"method",key:"_loadData",value:(L=(0,u.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.iV)(this.hass);case 3:this._repositories=e.sent,(0,b.B)(this,"supervisor-collection-refresh",{collection:"addon"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this._error=(0,w.js)(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return L.apply(this,arguments)})},{kind:"method",key:"_addRepository",value:(m=(0,u.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this._optionInput)&&t.value){e.next=3;break}return e.abrupt("return");case 3:return this._processing=!0,e.prev=4,e.next=7,(0,A.FV)(this.hass,t.value);case 7:return e.next=9,this._loadData();case 9:t.value="",e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),this._error=(0,w.js)(e.t0);case 15:this._processing=!1;case 16:case"end":return e.stop()}}),e,this,[[4,12]])}))),function(){return m.apply(this,arguments)})},{kind:"method",key:"_removeRepository",value:(i=(0,u.Z)((0,c.Z)().mark((function e(t){var i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.currentTarget.slug,e.prev=1,e.next=4,(0,A.Cw)(this.hass,i);case 4:return e.next=6,this._loadData();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this._error=(0,w.js)(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return i.apply(this,arguments)})}]}}),y.oi)},15493:function(e,t,i){i.d(t,{Q2:function(){return n},io:function(){return a},ou:function(){return s}});var r=i(62746),o=i(40039),n=function(){var e,t={},i=new URLSearchParams(location.search),n=(0,o.Z)(i.entries());try{for(n.s();!(e=n.n()).done;){var a=(0,r.Z)(e.value,2),s=a[0],l=a[1];t[s]=l}}catch(d){n.e(d)}finally{n.f()}return t},a=function(e){return new URLSearchParams(window.location.search).get(e)},s=function(e){var t=new URLSearchParams;return Object.entries(e).forEach((function(e){var i=(0,r.Z)(e,2),o=i[0],n=i[1];t.append(o,n)})),t.toString()}},38346:function(e,t,i){i.d(t,{D:function(){return r}});var r=function(e,t){var i,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=function(){for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];var s=r&&!i;clearTimeout(i),i=window.setTimeout((function(){i=void 0,r||e.apply(void 0,n)}),t),s&&e.apply(void 0,n)};return o.cancel=function(){clearTimeout(i)},o}},81545:function(e,t,i){var r,o,n=i(88962),a=i(33368),s=i(71650),l=i(82390),d=i(69205),c=i(70906),u=i(91808),h=i(34541),p=i(47838),v=(i(65666),i(68144)),f=i(79932),g=i(38378);(0,u.Z)([(0,f.Mo)("ha-button-menu")],(function(e,t){var i=function(t){(0,d.Z)(r,t);var i=(0,c.Z)(r);function r(){var t;(0,s.Z)(this,r);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=i.call.apply(i,[this].concat(n)),e((0,l.Z)(t)),t}return(0,a.Z)(r)}(t);return{F:i,d:[{kind:"field",key:g.gA,value:void 0},{kind:"field",decorators:[(0,f.Cb)()],key:"corner",value:function(){return"BOTTOM_START"}},{kind:"field",decorators:[(0,f.Cb)()],key:"menuCorner",value:function(){return"START"}},{kind:"field",decorators:[(0,f.Cb)({type:Number})],key:"x",value:function(){return null}},{kind:"field",decorators:[(0,f.Cb)({type:Number})],key:"y",value:function(){return null}},{kind:"field",decorators:[(0,f.Cb)({type:Boolean})],key:"multi",value:function(){return!1}},{kind:"field",decorators:[(0,f.Cb)({type:Boolean})],key:"activatable",value:function(){return!1}},{kind:"field",decorators:[(0,f.Cb)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,f.Cb)({type:Boolean})],key:"fixed",value:function(){return!1}},{kind:"field",decorators:[(0,f.IO)("mwc-menu",!0)],key:"_menu",value:void 0},{kind:"get",key:"items",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.items}},{kind:"get",key:"selected",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.selected}},{kind:"method",key:"focus",value:function(){var e,t;null!==(e=this._menu)&&void 0!==e&&e.open?this._menu.focusItemAtIndex(0):null===(t=this._triggerButton)||void 0===t||t.focus()}},{kind:"method",key:"render",value:function(){return(0,v.dy)(r||(r=(0,n.Z)([' <div @click="','"> <slot name="trigger" @slotchange="','"></slot> </div> <mwc-menu .corner="','" .menuCorner="','" .fixed="','" .multi="','" .activatable="','" .y="','" .x="','"> <slot></slot> </mwc-menu> '])),this._handleClick,this._setTriggerAria,this.corner,this.menuCorner,this.fixed,this.multi,this.activatable,this.y,this.x)}},{kind:"method",key:"firstUpdated",value:function(e){var t=this;(0,h.Z)((0,p.Z)(i.prototype),"firstUpdated",this).call(this,e),"rtl"===document.dir&&this.updateComplete.then((function(){t.querySelectorAll("mwc-list-item").forEach((function(e){var t=document.createElement("style");t.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",e.shadowRoot.appendChild(t)}))}))}},{kind:"method",key:"_handleClick",value:function(){this.disabled||(this._menu.anchor=this,this._menu.show())}},{kind:"get",key:"_triggerButton",value:function(){return this.querySelector('ha-icon-button[slot="trigger"], mwc-button[slot="trigger"]')}},{kind:"method",key:"_setTriggerAria",value:function(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}},{kind:"get",static:!0,key:"styles",value:function(){return(0,v.iv)(o||(o=(0,n.Z)([":host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}"])))}}]}}),v.oi)},34821:function(e,t,i){i.d(t,{i:function(){return b}});var r,o,n,a=i(33368),s=i(71650),l=i(82390),d=i(69205),c=i(70906),u=i(91808),h=i(34541),p=i(47838),v=i(88962),f=i(87762),g=i(91632),m=i(68144),y=i(79932),k=i(38378),_=(i(5666),["button","ha-list-item"]),b=function(e,t){return(0,m.dy)(r||(r=(0,v.Z)([' <div class="header_title">','</div> <ha-icon-button .label="','" .path="','" dialogAction="close" class="header_button"></ha-icon-button> '])),t,e.localize("ui.dialogs.generic.close"),"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z")};(0,u.Z)([(0,y.Mo)("ha-dialog")],(function(e,t){var i=function(t){(0,d.Z)(r,t);var i=(0,c.Z)(r);function r(){var t;(0,s.Z)(this,r);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=i.call.apply(i,[this].concat(n)),e((0,l.Z)(t)),t}return(0,a.Z)(r)}(t);return{F:i,d:[{kind:"field",key:k.gA,value:void 0},{kind:"method",key:"scrollToPos",value:function(e,t){var i;null===(i=this.contentElement)||void 0===i||i.scrollTo(e,t)}},{kind:"method",key:"renderHeading",value:function(){return(0,m.dy)(o||(o=(0,v.Z)(['<slot name="heading"> '," </slot>"])),(0,h.Z)((0,p.Z)(i.prototype),"renderHeading",this).call(this))}},{kind:"method",key:"firstUpdated",value:function(){var e;(0,h.Z)((0,p.Z)(i.prototype),"firstUpdated",this).call(this),this.suppressDefaultPressSelector=[this.suppressDefaultPressSelector,_].join(", "),this._updateScrolledAttribute(),null===(e=this.contentElement)||void 0===e||e.addEventListener("scroll",this._onScroll,{passive:!0})}},{kind:"method",key:"disconnectedCallback",value:function(){(0,h.Z)((0,p.Z)(i.prototype),"disconnectedCallback",this).call(this),this.contentElement.removeEventListener("scroll",this._onScroll)}},{kind:"field",key:"_onScroll",value:function(){var e=this;return function(){e._updateScrolledAttribute()}}},{kind:"method",key:"_updateScrolledAttribute",value:function(){this.contentElement&&this.toggleAttribute("scrolled",0!==this.contentElement.scrollTop)}},{kind:"field",static:!0,key:"styles",value:function(){return[g.W,(0,m.iv)(n||(n=(0,v.Z)([":host([scrolled]) ::slotted(ha-dialog-header){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.mdc-dialog{--mdc-dialog-scroll-divider-color:var(\n          --dialog-scroll-divider-color,\n          var(--divider-color)\n        );z-index:var(--dialog-z-index,8);-webkit-backdrop-filter:var(--dialog-backdrop-filter, none);backdrop-filter:var(--dialog-backdrop-filter, none);--mdc-dialog-box-shadow:var(--dialog-box-shadow, none);--mdc-typography-headline6-font-weight:400;--mdc-typography-headline6-font-size:1.574rem}.mdc-dialog__actions{justify-content:var(--justify-action-buttons,flex-end);padding-bottom:max(env(safe-area-inset-bottom),24px)}.mdc-dialog__actions span:nth-child(1){flex:var(--secondary-action-button-flex,unset)}.mdc-dialog__actions span:nth-child(2){flex:var(--primary-action-button-flex,unset)}.mdc-dialog__container{align-items:var(--vertical-align-dialog,center)}.mdc-dialog__title{padding:24px 24px 0 24px}.mdc-dialog__actions{padding:12px 24px 12px 24px}.mdc-dialog__title::before{display:block;height:0px}.mdc-dialog .mdc-dialog__content{position:var(--dialog-content-position,relative);padding:var(--dialog-content-padding,24px)}:host([hideactions]) .mdc-dialog .mdc-dialog__content{padding-bottom:max(var(--dialog-content-padding,24px),env(safe-area-inset-bottom))}.mdc-dialog .mdc-dialog__surface{position:var(--dialog-surface-position,relative);top:var(--dialog-surface-top);margin-top:var(--dialog-surface-margin-top);min-height:var(--mdc-dialog-min-height,auto);border-radius:var(--ha-dialog-border-radius,28px)}:host([flexContent]) .mdc-dialog .mdc-dialog__content{display:flex;flex-direction:column}.header_title{margin-right:32px;margin-inline-end:32px;margin-inline-start:initial;direction:var(--direction)}.header_button{position:absolute;right:16px;top:14px;text-decoration:none;color:inherit;inset-inline-start:initial;inset-inline-end:16px;direction:var(--direction)}.dialog-actions{inset-inline-start:initial!important;inset-inline-end:0px!important;direction:var(--direction)}"])))]}}]}}),f.M)},14089:function(e,t,i){var r,o,n=i(88962),a=i(33368),s=i(71650),l=i(82390),d=i(69205),c=i(70906),u=i(91808),h=i(68144),p=i(79932);(0,u.Z)([(0,p.Mo)("ha-settings-row")],(function(e,t){var i=function(t){(0,d.Z)(r,t);var i=(0,c.Z)(r);function r(){var t;(0,s.Z)(this,r);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=i.call.apply(i,[this].concat(n)),e((0,l.Z)(t)),t}return(0,a.Z)(r)}(t);return{F:i,d:[{kind:"field",decorators:[(0,p.Cb)({type:Boolean,reflect:!0})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,p.Cb)({type:Boolean,attribute:"three-line"})],key:"threeLine",value:function(){return!1}},{kind:"method",key:"render",value:function(){return(0,h.dy)(r||(r=(0,n.Z)([' <div class="prefix-wrap"> <slot name="prefix"></slot> <div class="body" ?two-line="','" ?three-line="','"> <slot name="heading"></slot> <div class="secondary"><slot name="description"></slot></div> </div> </div> <div class="content"><slot></slot></div> '])),!this.threeLine,this.threeLine)}},{kind:"get",static:!0,key:"styles",value:function(){return(0,h.iv)(o||(o=(0,n.Z)([":host{display:flex;padding:0 16px;align-content:normal;align-self:auto;align-items:center}.body{padding:8px 16px 8px 0;overflow:hidden;display:var(--layout-vertical_-_display);flex-direction:var(--layout-vertical_-_flex-direction);justify-content:var(--layout-center-justified_-_justify-content);flex:var(--layout-flex_-_flex);flex-basis:var(--layout-flex_-_flex-basis)}.body[three-line]{min-height:var(--paper-item-body-three-line-min-height,88px)}.body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body>.secondary{display:block;padding-top:4px;font-family:var(--mdc-typography-body2-font-family,var(--mdc-typography-font-family,Roboto,sans-serif));-webkit-font-smoothing:antialiased;font-size:var(--mdc-typography-body2-font-size,.875rem);font-weight:var(--mdc-typography-body2-font-weight,400);line-height:normal;color:var(--secondary-text-color)}.body[two-line]{min-height:calc(var(--paper-item-body-two-line-min-height,72px) - 16px);flex:1}.content{display:contents}:host(:not([narrow])) .content{display:var(--settings-row-content-display,flex);justify-content:flex-end;flex:1;padding:16px 0}.content ::slotted(*){width:var(--settings-row-content-width)}:host([narrow]){align-items:normal;flex-direction:column;border-top:1px solid var(--divider-color);padding-bottom:8px}::slotted(ha-switch){padding:16px 0}.secondary{white-space:normal}.prefix-wrap{display:var(--settings-row-prefix-display)}:host([narrow]) .prefix-wrap{display:flex;align-items:center}"])))}}]}}),h.oi)}}]);
//# sourceMappingURL=5499-ipFm9WcT-kM.js.map