"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["1864"],{19459:function(e,t,i){i.d(t,{b:function(){return o}});var a=i(31432),n=i(47075),o=(i(23792),i(46761),i(36033),i(79432),i(26099),i(84864),i(57465),i(27495),i(69479),i(38781),i(31415),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698),i(47764),i(62953),function(e,t){if(e===t)return!0;if(e&&t&&"object"===(0,n.A)(e)&&"object"===(0,n.A)(t)){if(e.constructor!==t.constructor)return!1;var i,r;if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(i=r;0!==i--;)if(!o(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;var s,c=(0,a.A)(e.entries());try{for(c.s();!(s=c.n()).done;)if(i=s.value,!t.has(i[0]))return!1}catch(g){c.e(g)}finally{c.f()}var l,d=(0,a.A)(e.entries());try{for(d.s();!(l=d.n()).done;)if(i=l.value,!o(i[1],t.get(i[0])))return!1}catch(g){d.e(g)}finally{d.f()}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;var h,u=(0,a.A)(e.entries());try{for(u.s();!(h=u.n()).done;)if(i=h.value,!t.has(i[0]))return!1}catch(g){u.e(g)}finally{u.f()}return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((r=e.length)!==t.length)return!1;for(i=r;0!==i--;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var v=Object.keys(e);if((r=v.length)!==Object.keys(t).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(t,v[i]))return!1;for(i=r;0!==i--;){var p=v[i];if(!o(e[p],t[p]))return!1}return!0}return e!=e&&t!=t})},89865:function(e,t,i){i.a(e,async function(e,t){try{var a,n,o,r,s=i(72153),c=i(44734),l=i(43080),d=i(69683),h=i(6454),u=(i(28706),i(62062),i(18111),i(61701),i(26099),i(62826)),v=(i(44354),i(96196)),p=i(77845),g=i(1087),f=i(18350),m=(i(67094),e([f]));f=(m.then?(await m)():m)[0];var _=function(e){function t(){var e;(0,c.A)(this,t);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=(0,d.A)(this,t,[].concat(a))).size="medium",e.nowrap=!1,e.fullWidth=!1,e.variant="brand",e}return(0,h.A)(t,e),(0,l.A)(t,[{key:"render",value:function(){var e=this;return(0,v.qy)(a||(a=(0,s.A)([' <wa-button-group childSelector="ha-button"> '," </wa-button-group> "])),this.buttons.map(function(t){return(0,v.qy)(n||(n=(0,s.A)(['<ha-button iconTag="ha-svg-icon" class="icon" .variant="','" .size="','" .value="','" @click="','" .title="','" .appearance="','"> '," </ha-button>"])),e.active===t.value&&e.activeVariant?e.activeVariant:e.variant,e.size,t.value,e._handleClick,t.label,e.active===t.value?"accent":"filled",t.iconPath?(0,v.qy)(o||(o=(0,s.A)(['<ha-svg-icon aria-label="','" .path="','"></ha-svg-icon>'])),t.label,t.iconPath):t.label)}))}},{key:"_handleClick",value:function(e){this.active=e.currentTarget.value,(0,g.r)(this,"value-changed",{value:this.active})}}])}(v.WF);_.styles=(0,v.AH)(r||(r=(0,s.A)([":host{--mdc-icon-size:var(--button-toggle-icon-size, 20px)}:host([no-wrap]) wa-button-group::part(base){flex-wrap:nowrap}wa-button-group{padding:var(--ha-button-toggle-group-padding)}:host([full-width]) wa-button-group,:host([full-width]) wa-button-group::part(base){width:100%}:host([full-width]) ha-button{flex:1}"]))),(0,u.Cg)([(0,p.MZ)({attribute:!1})],_.prototype,"buttons",void 0),(0,u.Cg)([(0,p.MZ)()],_.prototype,"active",void 0),(0,u.Cg)([(0,p.MZ)({reflect:!0})],_.prototype,"size",void 0),(0,u.Cg)([(0,p.MZ)({type:Boolean,reflect:!0,attribute:"no-wrap"})],_.prototype,"nowrap",void 0),(0,u.Cg)([(0,p.MZ)({type:Boolean,reflect:!0,attribute:"full-width"})],_.prototype,"fullWidth",void 0),(0,u.Cg)([(0,p.MZ)()],_.prototype,"variant",void 0),(0,u.Cg)([(0,p.MZ)({attribute:"active-variant"})],_.prototype,"activeVariant",void 0),_=(0,u.Cg)([(0,p.EM)("ha-button-toggle-group")],_),t()}catch(y){t(y)}})},76623:function(e,t,i){i.a(e,async function(e,a){try{i.d(t,{D:function(){return b}});var n,o,r,s,c=i(72153),l=i(44734),d=i(43080),h=i(69683),u=i(6454),v=i(62826),p=i(96196),g=i(77845),f=i(45847),m=i(71727),_=i(85694),y=(i(67094),e([_]));_=(y.then?(await y)():y)[0];var b={device:"M3 6H21V4H3C1.9 4 1 4.9 1 6V18C1 19.1 1.9 20 3 20H7V18H3V6M13 12H9V13.78C8.39 14.33 8 15.11 8 16C8 16.89 8.39 17.67 9 18.22V20H13V18.22C13.61 17.67 14 16.88 14 16S13.61 14.33 13 13.78V12M11 17.5C10.17 17.5 9.5 16.83 9.5 16S10.17 14.5 11 14.5 12.5 15.17 12.5 16 11.83 17.5 11 17.5M22 8H16C15.5 8 15 8.5 15 9V19C15 19.5 15.5 20 16 20H22C22.5 20 23 19.5 23 19V9C23 8.5 22.5 8 22 8M21 18H17V10H21V18Z",and:"M4.4,16.5C4.4,15.6 4.7,14.7 5.2,13.9C5.7,13.1 6.7,12.2 8.2,11.2C7.3,10.1 6.8,9.3 6.5,8.7C6.1,8 6,7.4 6,6.7C6,5.2 6.4,4.1 7.3,3.2C8.2,2.3 9.4,2 10.9,2C12.2,2 13.3,2.4 14.2,3.2C15.1,4 15.5,5 15.5,6.1C15.5,6.9 15.3,7.6 14.9,8.3C14.5,9 13.8,9.7 12.8,10.4L11.4,11.5L15.7,16.7C16.3,15.5 16.6,14.3 16.6,12.8H18.8C18.8,15.1 18.3,17 17.2,18.5L20,21.8H17L15.7,20.3C15,20.9 14.3,21.3 13.4,21.6C12.5,21.9 11.6,22.1 10.7,22.1C8.8,22.1 7.3,21.6 6.1,20.6C5,19.5 4.4,18.2 4.4,16.5M10.7,20C12,20 13.2,19.5 14.3,18.5L9.6,12.8L9.2,13.1C7.7,14.2 7,15.3 7,16.5C7,17.6 7.3,18.4 8,19C8.7,19.6 9.5,20 10.7,20M8.5,6.7C8.5,7.6 9,8.6 10.1,9.9L11.7,8.8C12.3,8.4 12.7,8 12.9,7.6C13.1,7.2 13.2,6.7 13.2,6.2C13.2,5.6 13,5.1 12.5,4.7C12.1,4.3 11.5,4.1 10.8,4.1C10.1,4.1 9.5,4.3 9.1,4.8C8.7,5.3 8.5,5.9 8.5,6.7Z",or:"M2,4C5,10 5,14 2,20H8C13,20 19,16 22,12C19,8 13,4 8,4H2M5,6H8C11.5,6 16.3,9 19.3,12C16.3,15 11.5,18 8,18H5C6.4,13.9 6.4,10.1 5,6Z",not:"M14.08,4.61L15.92,5.4L14.8,8H19V10H13.95L12.23,14H19V16H11.38L9.92,19.4L8.08,18.61L9.2,16H5V14H10.06L11.77,10H5V8H12.63L14.08,4.61Z",state:"M6.27 17.05C6.72 17.58 7 18.25 7 19C7 20.66 5.66 22 4 22S1 20.66 1 19 2.34 16 4 16C4.18 16 4.36 16 4.53 16.05L7.6 10.69L5.86 9.7L9.95 8.58L11.07 12.67L9.33 11.68L6.27 17.05M20 16C18.7 16 17.6 16.84 17.18 18H11V16L8 19L11 22V20H17.18C17.6 21.16 18.7 22 20 22C21.66 22 23 20.66 23 19S21.66 16 20 16M12 8C12.18 8 12.36 8 12.53 7.95L15.6 13.31L13.86 14.3L17.95 15.42L19.07 11.33L17.33 12.32L14.27 6.95C14.72 6.42 15 5.75 15 5C15 3.34 13.66 2 12 2S9 3.34 9 5 10.34 8 12 8Z",numeric_state:"M4,17V9H2V7H6V17H4M22,15C22,16.11 21.1,17 20,17H16V15H20V13H18V11H20V9H16V7H20A2,2 0 0,1 22,9V10.5A1.5,1.5 0 0,1 20.5,12A1.5,1.5 0 0,1 22,13.5V15M14,15V17H8V13C8,11.89 8.9,11 10,11H12V9H8V7H12A2,2 0 0,1 14,9V11C14,12.11 13.1,13 12,13H10V15H14Z",sun:"M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,2L14.39,5.42C13.65,5.15 12.84,5 12,5C11.16,5 10.35,5.15 9.61,5.42L12,2M3.34,7L7.5,6.65C6.9,7.16 6.36,7.78 5.94,8.5C5.5,9.24 5.25,10 5.11,10.79L3.34,7M3.36,17L5.12,13.23C5.26,14 5.53,14.78 5.95,15.5C6.37,16.24 6.91,16.86 7.5,17.37L3.36,17M20.65,7L18.88,10.79C18.74,10 18.47,9.23 18.05,8.5C17.63,7.78 17.1,7.15 16.5,6.64L20.65,7M20.64,17L16.5,17.36C17.09,16.85 17.62,16.22 18.04,15.5C18.46,14.77 18.73,14 18.87,13.21L20.64,17M12,22L9.59,18.56C10.33,18.83 11.14,19 12,19C12.82,19 13.63,18.83 14.37,18.56L12,22Z",template:"M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z",time:"M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z",trigger:"M10 7V9H9V15H10V17H6V15H7V9H6V7H10M16 7C17.11 7 18 7.9 18 9V15C18 16.11 17.11 17 16 17H12V7M16 9H14V15H16V9Z",zone:"M12,2C15.31,2 18,4.66 18,7.95C18,12.41 12,19 12,19C12,19 6,12.41 6,7.95C6,4.66 8.69,2 12,2M12,6A2,2 0 0,0 10,8A2,2 0 0,0 12,10A2,2 0 0,0 14,8A2,2 0 0,0 12,6M20,19C20,21.21 16.42,23 12,23C7.58,23 4,21.21 4,19C4,17.71 5.22,16.56 7.11,15.83L7.75,16.74C6.67,17.19 6,17.81 6,18.5C6,19.88 8.69,21 12,21C15.31,21 18,19.88 18,18.5C18,17.81 17.33,17.19 16.25,16.74L16.89,15.83C18.78,16.56 20,17.71 20,19Z"},A=function(e){function t(){return(0,l.A)(this,t),(0,h.A)(this,t,arguments)}return(0,u.A)(t,e),(0,d.A)(t,[{key:"render",value:function(){var e=this;if(this.icon)return(0,p.qy)(n||(n=(0,c.A)(['<ha-icon .icon="','"></ha-icon>'])),this.icon);if(!this.condition)return p.s6;if(!this.hass)return this._renderFallback();var t=(0,_.r)(this.hass,this.condition).then(function(t){return t?(0,p.qy)(o||(o=(0,c.A)(['<ha-icon .icon="','"></ha-icon>'])),t):e._renderFallback()});return(0,p.qy)(r||(r=(0,c.A)(["",""])),(0,f.T)(t))}},{key:"_renderFallback",value:function(){var e=(0,m.m)(this.condition);return(0,p.qy)(s||(s=(0,c.A)([' <ha-svg-icon .path="','"></ha-svg-icon> '])),b[this.condition]||_.l[e])}}])}(p.WF);(0,v.Cg)([(0,g.MZ)({attribute:!1})],A.prototype,"hass",void 0),(0,v.Cg)([(0,g.MZ)()],A.prototype,"condition",void 0),(0,v.Cg)([(0,g.MZ)()],A.prototype,"icon",void 0),A=(0,v.Cg)([(0,g.EM)("ha-condition-icon")],A),a()}catch(C){a(C)}})},76538:function(e,t,i){var a,n,o,r,s,c,l=i(72153),d=i(44734),h=i(43080),u=i(69683),v=i(6454),p=(i(28706),i(62826)),g=i(96196),f=i(77845),m=function(e){function t(){var e;(0,d.A)(this,t);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=(0,u.A)(this,t,[].concat(a))).subtitlePosition="below",e.showBorder=!1,e}return(0,v.A)(t,e),(0,h.A)(t,[{key:"render",value:function(){var e=(0,g.qy)(a||(a=(0,l.A)(['<div class="header-title"> <slot name="title"></slot> </div>']))),t=(0,g.qy)(n||(n=(0,l.A)(['<div class="header-subtitle"> <slot name="subtitle"></slot> </div>'])));return(0,g.qy)(o||(o=(0,l.A)([' <header class="header"> <div class="header-bar"> <section class="header-navigation-icon"> <slot name="navigationIcon"></slot> </section> <section class="header-content"> ',' </section> <section class="header-action-items"> <slot name="actionItems"></slot> </section> </div> <slot></slot> </header> '])),"above"===this.subtitlePosition?(0,g.qy)(r||(r=(0,l.A)(["","",""])),t,e):(0,g.qy)(s||(s=(0,l.A)(["","",""])),e,t))}}],[{key:"styles",get:function(){return[(0,g.AH)(c||(c=(0,l.A)([":host{display:block}:host([show-border]){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.header-bar{display:flex;flex-direction:row;align-items:center;padding:0 var(--ha-space-1);box-sizing:border-box}.header-content{flex:1;padding:10px var(--ha-space-1);display:flex;flex-direction:column;justify-content:center;min-height:var(--ha-space-12);min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.header-title{height:var(--ha-dialog-header-title-height,calc(var(--ha-font-size-xl) + var(--ha-space-1)));font-size:var(--ha-font-size-xl);line-height:var(--ha-line-height-condensed);font-weight:var(--ha-font-weight-medium);color:var(--ha-dialog-header-title-color,var(--primary-text-color))}.header-subtitle{font-size:var(--ha-font-size-m);line-height:var(--ha-line-height-normal);color:var(--ha-dialog-header-subtitle-color,var(--secondary-text-color))}@media all and (min-width:450px) and (min-height:500px){.header-bar{padding:0 var(--ha-space-2)}}.header-navigation-icon{flex:none;min-width:var(--ha-space-2);height:100%;display:flex;flex-direction:row}.header-action-items{flex:none;min-width:var(--ha-space-2);height:100%;display:flex;flex-direction:row}"])))]}}])}(g.WF);(0,p.Cg)([(0,f.MZ)({type:String,attribute:"subtitle-position"})],m.prototype,"subtitlePosition",void 0),(0,p.Cg)([(0,f.MZ)({type:Boolean,reflect:!0,attribute:"show-border"})],m.prototype,"showBorder",void 0),m=(0,p.Cg)([(0,f.EM)("ha-dialog-header")],m)},45100:function(e,t,i){i.r(t),i.d(t,{HaIconButtonPrev:function(){return v}});var a,n=i(72153),o=i(44734),r=i(43080),s=i(69683),c=i(6454),l=(i(28706),i(62826)),d=i(96196),h=i(77845),u=i(19422),v=(i(50888),function(e){function t(){var e;(0,o.A)(this,t);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=(0,s.A)(this,t,[].concat(a))).disabled=!1,e._icon="rtl"===u.G.document.dir?"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z":"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",e}return(0,c.A)(t,e),(0,r.A)(t,[{key:"render",value:function(){var e;return(0,d.qy)(a||(a=(0,n.A)([' <ha-icon-button .disabled="','" .label="','" .path="','"></ha-icon-button> '])),this.disabled,this.label||(null===(e=this.hass)||void 0===e?void 0:e.localize("ui.common.back"))||"Back",this._icon)}}])}(d.WF));(0,l.Cg)([(0,h.MZ)({attribute:!1})],v.prototype,"hass",void 0),(0,l.Cg)([(0,h.MZ)({type:Boolean})],v.prototype,"disabled",void 0),(0,l.Cg)([(0,h.MZ)()],v.prototype,"label",void 0),(0,l.Cg)([(0,h.wk)()],v.prototype,"_icon",void 0),v=(0,l.Cg)([(0,h.EM)("ha-icon-button-prev")],v)},43661:function(e,t,i){i.r(t),i.d(t,{HaIconNext:function(){return h}});var a=i(43080),n=i(44734),o=i(69683),r=i(6454),s=(i(28706),i(62826)),c=i(77845),l=i(19422),d=i(67094),h=function(e){function t(){var e;(0,n.A)(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=(0,o.A)(this,t,[].concat(a))).path="rtl"===l.G.document.dir?"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z":"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",e}return(0,r.A)(t,e),(0,a.A)(t)}(d.HaSvgIcon);(0,s.Cg)([(0,c.MZ)()],h.prototype,"path",void 0),h=(0,s.Cg)([(0,c.EM)("ha-icon-next")],h)},58491:function(e,t,i){var a,n=i(72153),o=i(43080),r=i(44734),s=i(69683),c=i(6454),l=i(62826),d=i(10414),h=i(18989),u=i(96196),v=i(77845),p=function(e){function t(){return(0,r.A)(this,t),(0,s.A)(this,t,arguments)}return(0,c.A)(t,e),(0,o.A)(t)}(d.c);p.styles=[h.R,(0,u.AH)(a||(a=(0,n.A)([":host{--md-divider-color:var(--divider-color)}"])))],p=(0,l.Cg)([(0,v.EM)("ha-md-divider")],p)},69464:function(e,t,i){var a,n,o=i(72153),r=i(44734),s=i(43080),c=i(69683),l=i(6454),d=i(62826),h=i(96196),u=i(77845),v=function(e){function t(){return(0,r.A)(this,t),(0,c.A)(this,t,arguments)}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){return(0,h.qy)(a||(a=(0,o.A)(["<slot></slot>"])))}}])}(h.WF);v.styles=(0,h.AH)(n||(n=(0,o.A)([":host{background-color:var(--ha-color-fill-neutral-quiet-resting);padding:var(--ha-space-1) var(--ha-space-2);font-weight:var(--ha-font-weight-bold);color:var(--secondary-text-color);min-height:var(--ha-space-6);display:flex;align-items:center;box-sizing:border-box}"]))),v=(0,d.Cg)([(0,u.EM)("ha-section-title")],v)},65329:function(e,t,i){i.a(e,async function(e,t){try{var a,n,o,r,s=i(72153),c=i(44734),l=i(43080),d=i(69683),h=i(6454),u=i(62826),v=i(96196),p=i(77845),g=i(45847),f=i(71727),m=i(85694),_=(i(67094),e([m]));m=(_.then?(await _)():_)[0];var y=function(e){function t(){return(0,c.A)(this,t),(0,d.A)(this,t,arguments)}return(0,h.A)(t,e),(0,l.A)(t,[{key:"render",value:function(){var e=this;if(this.icon)return(0,v.qy)(a||(a=(0,s.A)(['<ha-icon .icon="','"></ha-icon>'])),this.icon);if(!this.service)return v.s6;if(!this.hass)return this._renderFallback();var t=(0,m.f$)(this.hass,this.service).then(function(t){return t?(0,v.qy)(n||(n=(0,s.A)(['<ha-icon .icon="','"></ha-icon>'])),t):e._renderFallback()});return(0,v.qy)(o||(o=(0,s.A)(["",""])),(0,g.T)(t))}},{key:"_renderFallback",value:function(){var e=(0,f.m)(this.service);return(0,v.qy)(r||(r=(0,s.A)([' <ha-svg-icon .path="','"></ha-svg-icon> '])),m.l[e]||m.Gn)}}])}(v.WF);(0,u.Cg)([(0,p.MZ)({attribute:!1})],y.prototype,"hass",void 0),(0,u.Cg)([(0,p.MZ)()],y.prototype,"service",void 0),(0,u.Cg)([(0,p.MZ)()],y.prototype,"icon",void 0),y=(0,u.Cg)([(0,p.EM)("ha-service-icon")],y),t()}catch(b){t(b)}})},14404:function(e,t,i){i.a(e,async function(e,a){try{i.d(t,{S:function(){return A}});var n,o,r,s,c=i(72153),l=i(44734),d=i(43080),h=i(69683),u=i(6454),v=i(62826),p=i(96196),g=i(77845),f=i(45847),m=i(71727),_=i(85694),y=i(53580),b=(i(67094),e([_]));_=(b.then?(await b)():b)[0];var A={calendar:"M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z",device:"M3 6H21V4H3C1.9 4 1 4.9 1 6V18C1 19.1 1.9 20 3 20H7V18H3V6M13 12H9V13.78C8.39 14.33 8 15.11 8 16C8 16.89 8.39 17.67 9 18.22V20H13V18.22C13.61 17.67 14 16.88 14 16S13.61 14.33 13 13.78V12M11 17.5C10.17 17.5 9.5 16.83 9.5 16S10.17 14.5 11 14.5 12.5 15.17 12.5 16 11.83 17.5 11 17.5M22 8H16C15.5 8 15 8.5 15 9V19C15 19.5 15.5 20 16 20H22C22.5 20 23 19.5 23 19V9C23 8.5 22.5 8 22 8M21 18H17V10H21V18Z",event:"M10,9A1,1 0 0,1 11,8A1,1 0 0,1 12,9V13.47L13.21,13.6L18.15,15.79C18.68,16.03 19,16.56 19,17.14V21.5C18.97,22.32 18.32,22.97 17.5,23H11C10.62,23 10.26,22.85 10,22.57L5.1,18.37L5.84,17.6C6.03,17.39 6.3,17.28 6.58,17.28H6.8L10,19V9M11,5A4,4 0 0,1 15,9C15,10.5 14.2,11.77 13,12.46V11.24C13.61,10.69 14,9.89 14,9A3,3 0 0,0 11,6A3,3 0 0,0 8,9C8,9.89 8.39,10.69 9,11.24V12.46C7.8,11.77 7,10.5 7,9A4,4 0 0,1 11,5M11,3A6,6 0 0,1 17,9C17,10.7 16.29,12.23 15.16,13.33L14.16,12.88C15.28,11.96 16,10.56 16,9A5,5 0 0,0 11,4A5,5 0 0,0 6,9C6,11.05 7.23,12.81 9,13.58V14.66C6.67,13.83 5,11.61 5,9A6,6 0 0,1 11,3Z",state:"M6.27 17.05C6.72 17.58 7 18.25 7 19C7 20.66 5.66 22 4 22S1 20.66 1 19 2.34 16 4 16C4.18 16 4.36 16 4.53 16.05L7.6 10.69L5.86 9.7L9.95 8.58L11.07 12.67L9.33 11.68L6.27 17.05M20 16C18.7 16 17.6 16.84 17.18 18H11V16L8 19L11 22V20H17.18C17.6 21.16 18.7 22 20 22C21.66 22 23 20.66 23 19S21.66 16 20 16M12 8C12.18 8 12.36 8 12.53 7.95L15.6 13.31L13.86 14.3L17.95 15.42L19.07 11.33L17.33 12.32L14.27 6.95C14.72 6.42 15 5.75 15 5C15 3.34 13.66 2 12 2S9 3.34 9 5 10.34 8 12 8Z",geo_location:"M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z",homeassistant:y._,mqtt:"M21,9L17,5V8H10V10H17V13M7,11L3,15L7,19V16H14V14H7V11Z",numeric_state:"M4,17V9H2V7H6V17H4M22,15C22,16.11 21.1,17 20,17H16V15H20V13H18V11H20V9H16V7H20A2,2 0 0,1 22,9V10.5A1.5,1.5 0 0,1 20.5,12A1.5,1.5 0 0,1 22,13.5V15M14,15V17H8V13C8,11.89 8.9,11 10,11H12V9H8V7H12A2,2 0 0,1 14,9V11C14,12.11 13.1,13 12,13H10V15H14Z",sun:"M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,2L14.39,5.42C13.65,5.15 12.84,5 12,5C11.16,5 10.35,5.15 9.61,5.42L12,2M3.34,7L7.5,6.65C6.9,7.16 6.36,7.78 5.94,8.5C5.5,9.24 5.25,10 5.11,10.79L3.34,7M3.36,17L5.12,13.23C5.26,14 5.53,14.78 5.95,15.5C6.37,16.24 6.91,16.86 7.5,17.37L3.36,17M20.65,7L18.88,10.79C18.74,10 18.47,9.23 18.05,8.5C17.63,7.78 17.1,7.15 16.5,6.64L20.65,7M20.64,17L16.5,17.36C17.09,16.85 17.62,16.22 18.04,15.5C18.46,14.77 18.73,14 18.87,13.21L20.64,17M12,22L9.59,18.56C10.33,18.83 11.14,19 12,19C12.82,19 13.63,18.83 14.37,18.56L12,22Z",conversation:"M8,7A2,2 0 0,1 10,9V14A2,2 0 0,1 8,16A2,2 0 0,1 6,14V9A2,2 0 0,1 8,7M14,14C14,16.97 11.84,19.44 9,19.92V22H7V19.92C4.16,19.44 2,16.97 2,14H4A4,4 0 0,0 8,18A4,4 0 0,0 12,14H14M21.41,9.41L17.17,13.66L18.18,10H14A2,2 0 0,1 12,8V4A2,2 0 0,1 14,2H20A2,2 0 0,1 22,4V8C22,8.55 21.78,9.05 21.41,9.41Z",tag:"M18,6H13A2,2 0 0,0 11,8V10.28C10.41,10.62 10,11.26 10,12A2,2 0 0,0 12,14C13.11,14 14,13.1 14,12C14,11.26 13.6,10.62 13,10.28V8H16V16H8V8H10V6H8L6,6V18H18M20,20H4V4H20M20,2H4A2,2 0 0,0 2,4V20A2,2 0 0,0 4,22H20C21.11,22 22,21.1 22,20V4C22,2.89 21.11,2 20,2Z",template:"M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z",time:"M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.5 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z",time_pattern:"M11,17A1,1 0 0,0 12,18A1,1 0 0,0 13,17A1,1 0 0,0 12,16A1,1 0 0,0 11,17M11,3V7H13V5.08C16.39,5.57 19,8.47 19,12A7,7 0 0,1 12,19A7,7 0 0,1 5,12C5,10.32 5.59,8.78 6.58,7.58L12,13L13.41,11.59L6.61,4.79V4.81C4.42,6.45 3,9.05 3,12A9,9 0 0,0 12,21A9,9 0 0,0 21,12A9,9 0 0,0 12,3M18,12A1,1 0 0,0 17,11A1,1 0 0,0 16,12A1,1 0 0,0 17,13A1,1 0 0,0 18,12M6,12A1,1 0 0,0 7,13A1,1 0 0,0 8,12A1,1 0 0,0 7,11A1,1 0 0,0 6,12Z",webhook:"M10.46,19C9,21.07 6.15,21.59 4.09,20.15C2.04,18.71 1.56,15.84 3,13.75C3.87,12.5 5.21,11.83 6.58,11.77L6.63,13.2C5.72,13.27 4.84,13.74 4.27,14.56C3.27,16 3.58,17.94 4.95,18.91C6.33,19.87 8.26,19.5 9.26,18.07C9.57,17.62 9.75,17.13 9.82,16.63V15.62L15.4,15.58L15.47,15.47C16,14.55 17.15,14.23 18.05,14.75C18.95,15.27 19.26,16.43 18.73,17.35C18.2,18.26 17.04,18.58 16.14,18.06C15.73,17.83 15.44,17.46 15.31,17.04L11.24,17.06C11.13,17.73 10.87,18.38 10.46,19M17.74,11.86C20.27,12.17 22.07,14.44 21.76,16.93C21.45,19.43 19.15,21.2 16.62,20.89C15.13,20.71 13.9,19.86 13.19,18.68L14.43,17.96C14.92,18.73 15.75,19.28 16.75,19.41C18.5,19.62 20.05,18.43 20.26,16.76C20.47,15.09 19.23,13.56 17.5,13.35C16.96,13.29 16.44,13.36 15.97,13.53L15.12,13.97L12.54,9.2H12.32C11.26,9.16 10.44,8.29 10.47,7.25C10.5,6.21 11.4,5.4 12.45,5.44C13.5,5.5 14.33,6.35 14.3,7.39C14.28,7.83 14.11,8.23 13.84,8.54L15.74,12.05C16.36,11.85 17.04,11.78 17.74,11.86M8.25,9.14C7.25,6.79 8.31,4.1 10.62,3.12C12.94,2.14 15.62,3.25 16.62,5.6C17.21,6.97 17.09,8.47 16.42,9.67L15.18,8.95C15.6,8.14 15.67,7.15 15.27,6.22C14.59,4.62 12.78,3.85 11.23,4.5C9.67,5.16 8.97,7 9.65,8.6C9.93,9.26 10.4,9.77 10.97,10.11L11.36,10.32L8.29,15.31C8.32,15.36 8.36,15.42 8.39,15.5C8.88,16.41 8.54,17.56 7.62,18.05C6.71,18.54 5.56,18.18 5.06,17.24C4.57,16.31 4.91,15.16 5.83,14.67C6.22,14.46 6.65,14.41 7.06,14.5L9.37,10.73C8.9,10.3 8.5,9.76 8.25,9.14Z",persistent_notification:"M13 11H11V5H13M13 15H11V13H13M20 2H4C2.9 2 2 2.9 2 4V22L6 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2Z",zone:"M12,2C15.31,2 18,4.66 18,7.95C18,12.41 12,19 12,19C12,19 6,12.41 6,7.95C6,4.66 8.69,2 12,2M12,6A2,2 0 0,0 10,8A2,2 0 0,0 12,10A2,2 0 0,0 14,8A2,2 0 0,0 12,6M20,19C20,21.21 16.42,23 12,23C7.58,23 4,21.21 4,19C4,17.71 5.22,16.56 7.11,15.83L7.75,16.74C6.67,17.19 6,17.81 6,18.5C6,19.88 8.69,21 12,21C15.31,21 18,19.88 18,18.5C18,17.81 17.33,17.19 16.25,16.74L16.89,15.83C18.78,16.56 20,17.71 20,19Z",list:"M7,5H21V7H7V5M7,13V11H21V13H7M4,4.5A1.5,1.5 0 0,1 5.5,6A1.5,1.5 0 0,1 4,7.5A1.5,1.5 0 0,1 2.5,6A1.5,1.5 0 0,1 4,4.5M4,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,13.5A1.5,1.5 0 0,1 2.5,12A1.5,1.5 0 0,1 4,10.5M7,19V17H21V19H7M4,16.5A1.5,1.5 0 0,1 5.5,18A1.5,1.5 0 0,1 4,19.5A1.5,1.5 0 0,1 2.5,18A1.5,1.5 0 0,1 4,16.5Z"},C=function(e){function t(){return(0,l.A)(this,t),(0,h.A)(this,t,arguments)}return(0,u.A)(t,e),(0,d.A)(t,[{key:"render",value:function(){var e=this;if(this.icon)return(0,p.qy)(n||(n=(0,c.A)(['<ha-icon .icon="','"></ha-icon>'])),this.icon);if(!this.trigger)return p.s6;if(!this.hass)return this._renderFallback();var t=(0,_.ab)(this.hass,this.trigger).then(function(t){return t?(0,p.qy)(o||(o=(0,c.A)(['<ha-icon .icon="','"></ha-icon>'])),t):e._renderFallback()});return(0,p.qy)(r||(r=(0,c.A)(["",""])),(0,f.T)(t))}},{key:"_renderFallback",value:function(){var e=(0,m.m)(this.trigger);return(0,p.qy)(s||(s=(0,c.A)([' <ha-svg-icon .path="','"></ha-svg-icon> '])),A[this.trigger]||_.l[e])}}])}(p.WF);(0,v.Cg)([(0,g.MZ)({attribute:!1})],C.prototype,"hass",void 0),(0,v.Cg)([(0,g.MZ)()],C.prototype,"trigger",void 0),(0,v.Cg)([(0,g.MZ)()],C.prototype,"icon",void 0),C=(0,v.Cg)([(0,g.EM)("ha-trigger-icon")],C),a()}catch(w){a(w)}})},45331:function(e,t,i){i.a(e,async function(e,t){try{var a,n,o,r,s,c,l=i(94741),d=i(72153),h=i(61397),u=i(50264),v=i(44734),p=i(43080),g=i(75864),f=i(69683),m=i(6454),_=i(25460),y=(i(28706),i(62826)),b=i(93900),A=i(96196),C=i(77845),w=i(32288),k=i(1087),L=i(59992),H=i(14503),V=(i(76538),i(50888),e([b,L]));[b,L]=V.then?(await V)():V;var x=function(e){function t(){var e;(0,v.A)(this,t);for(var i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return(e=(0,f.A)(this,t,[].concat(a))).open=!1,e.type="standard",e.width="medium",e.preventScrimClose=!1,e.headerSubtitlePosition="below",e.flexContent=!1,e._open=!1,e._bodyScrolled=!1,e._handleShow=(0,u.A)((0,h.A)().m(function t(){return(0,h.A)().w(function(t){for(;;)switch(t.n){case 0:return e._open=!0,(0,k.r)((0,g.A)(e),"opened"),t.n=1,e.updateComplete;case 1:requestAnimationFrame(function(){var t;null===(t=e.querySelector("[autofocus]"))||void 0===t||t.focus()});case 2:return t.a(2)}},t)})),e._handleAfterShow=function(){(0,k.r)((0,g.A)(e),"after-show")},e._handleAfterHide=function(){e._open=!1,(0,k.r)((0,g.A)(e),"closed")},e}return(0,m.A)(t,e),(0,p.A)(t,[{key:"scrollableElement",get:function(){return this.bodyContainer}},{key:"updated",value:function(e){(0,_.A)(t,"updated",this,3)([e]),e.has("open")&&(this._open=this.open)}},{key:"render",value:function(){var e,t;return(0,A.qy)(a||(a=(0,d.A)([' <wa-dialog .open="','" .lightDismiss="','" without-header aria-labelledby="','" aria-describedby="','" @wa-show="','" @wa-after-show="','" @wa-after-hide="','"> <slot name="header"> <ha-dialog-header .subtitlePosition="','" .showBorder="','"> <slot name="headerNavigationIcon" slot="navigationIcon"> <ha-icon-button data-dialog="close" .label="','" .path="','"></ha-icon-button> </slot> '," ",' <slot name="headerActionItems" slot="actionItems"></slot> </ha-dialog-header> </slot> <div class="content-wrapper"> <div class="body ha-scrollbar" @scroll="','"> <slot></slot> </div> ',' </div> <slot name="footer" slot="footer"></slot> </wa-dialog> '])),this._open,!this.preventScrimClose,(0,w.J)(this.ariaLabelledBy||(void 0!==this.headerTitle?"ha-wa-dialog-title":void 0)),(0,w.J)(this.ariaDescribedBy),this._handleShow,this._handleAfterShow,this._handleAfterHide,this.headerSubtitlePosition,this._bodyScrolled,null!==(e=null===(t=this.hass)||void 0===t?void 0:t.localize("ui.common.close"))&&void 0!==e?e:"Close","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",void 0!==this.headerTitle?(0,A.qy)(n||(n=(0,d.A)(['<span slot="title" class="title" id="ha-wa-dialog-title"> '," </span>"])),this.headerTitle):(0,A.qy)(o||(o=(0,d.A)(['<slot name="headerTitle" slot="title"></slot>']))),void 0!==this.headerSubtitle?(0,A.qy)(r||(r=(0,d.A)(['<span slot="subtitle">',"</span>"])),this.headerSubtitle):(0,A.qy)(s||(s=(0,d.A)(['<slot name="headerSubtitle" slot="subtitle"></slot>']))),this._handleBodyScroll,this.renderScrollableFades())}},{key:"disconnectedCallback",value:function(){(0,_.A)(t,"disconnectedCallback",this,3)([]),this._open=!1}},{key:"_handleBodyScroll",value:function(e){this._bodyScrolled=e.target.scrollTop>0}}],[{key:"styles",get:function(){return[].concat((0,l.A)((0,_.A)(t,"styles",this)),[H.dp,(0,A.AH)(c||(c=(0,d.A)(['\n        wa-dialog {\n          --full-width: var(\n            --ha-dialog-width-full,\n            min(95vw, var(--safe-width))\n          );\n          --width: min(var(--ha-dialog-width-md, 580px), var(--full-width));\n          --spacing: var(--dialog-content-padding, var(--ha-space-6));\n          --show-duration: var(--ha-dialog-show-duration, 200ms);\n          --hide-duration: var(--ha-dialog-hide-duration, 200ms);\n          --ha-dialog-surface-background: var(\n            --card-background-color,\n            var(--ha-color-surface-default)\n          );\n          --wa-color-surface-raised: var(\n            --ha-dialog-surface-background,\n            var(--card-background-color, var(--ha-color-surface-default))\n          );\n          --wa-panel-border-radius: var(\n            --ha-dialog-border-radius,\n            var(--ha-border-radius-3xl)\n          );\n          max-width: var(--ha-dialog-max-width, var(--safe-width));\n        }\n        @media (prefers-reduced-motion: reduce) {\n          wa-dialog {\n            --show-duration: 0ms;\n            --hide-duration: 0ms;\n          }\n        }\n\n        :host([width="small"]) wa-dialog {\n          --width: min(var(--ha-dialog-width-sm, 320px), var(--full-width));\n        }\n\n        :host([width="large"]) wa-dialog {\n          --width: min(var(--ha-dialog-width-lg, 1024px), var(--full-width));\n        }\n\n        :host([width="full"]) wa-dialog {\n          --width: var(--full-width);\n        }\n\n        wa-dialog::part(dialog) {\n          min-width: var(--width, var(--full-width));\n          max-width: var(--width, var(--full-width));\n          max-height: var(\n            --ha-dialog-max-height,\n            calc(var(--safe-height) - var(--ha-space-20))\n          );\n          min-height: var(--ha-dialog-min-height);\n          margin-top: var(--dialog-surface-margin-top, auto);\n          /* Used to offset the dialog from the safe areas when space is limited */\n          transform: translate(\n            calc(\n              var(--safe-area-offset-left, 0px) - var(\n                  --safe-area-offset-right,\n                  0px\n                )\n            ),\n            calc(\n              var(--safe-area-offset-top, 0px) - var(\n                  --safe-area-offset-bottom,\n                  0px\n                )\n            )\n          );\n          display: flex;\n          flex-direction: column;\n          overflow: hidden;\n        }\n\n        @media all and (max-width: 450px), all and (max-height: 500px) {\n          :host([type="standard"]) {\n            --ha-dialog-border-radius: 0;\n\n            wa-dialog {\n              /* Make the container fill the whole screen width and not the safe width */\n              --full-width: var(--ha-dialog-width-full, 100vw);\n              --width: var(--full-width);\n            }\n\n            wa-dialog::part(dialog) {\n              /* Make the dialog fill the whole screen height and not the safe height */\n              min-height: var(--ha-dialog-min-height, 100vh);\n              min-height: var(--ha-dialog-min-height, 100dvh);\n              max-height: var(--ha-dialog-max-height, 100vh);\n              max-height: var(--ha-dialog-max-height, 100dvh);\n              margin-top: 0;\n              margin-bottom: 0;\n              /* Use safe area as padding instead of the container size */\n              padding-top: var(--safe-area-inset-top);\n              padding-bottom: var(--safe-area-inset-bottom);\n              padding-left: var(--safe-area-inset-left);\n              padding-right: var(--safe-area-inset-right);\n              /* Reset the transform to center the dialog */\n              transform: none;\n            }\n          }\n        }\n\n        .header-title-container {\n          display: flex;\n          align-items: center;\n        }\n\n        .header-title {\n          margin: 0;\n          margin-bottom: 0;\n          color: var(--ha-dialog-header-title-color, var(--primary-text-color));\n          font-size: var(\n            --ha-dialog-header-title-font-size,\n            var(--ha-font-size-2xl)\n          );\n          line-height: var(\n            --ha-dialog-header-title-line-height,\n            var(--ha-line-height-condensed)\n          );\n          font-weight: var(\n            --ha-dialog-header-title-font-weight,\n            var(--ha-font-weight-normal)\n          );\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          margin-right: var(--ha-space-3);\n        }\n\n        wa-dialog::part(body) {\n          padding: 0;\n          display: flex;\n          flex-direction: column;\n          max-width: 100%;\n          overflow: hidden;\n        }\n\n        .content-wrapper {\n          position: relative;\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          min-height: 0;\n        }\n\n        .body {\n          position: var(--dialog-content-position, relative);\n          padding: var(\n            --dialog-content-padding,\n            0 var(--ha-space-6) var(--ha-space-6) var(--ha-space-6)\n          );\n          overflow: auto;\n          flex-grow: 1;\n        }\n        :host([flexcontent]) .body {\n          max-width: 100%;\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n        }\n\n        wa-dialog::part(footer) {\n          padding: 0;\n        }\n\n        ::slotted([slot="footer"]) {\n          display: flex;\n          padding: var(--ha-space-3) var(--ha-space-4) var(--ha-space-4)\n            var(--ha-space-4);\n          gap: var(--ha-space-3);\n          justify-content: flex-end;\n          align-items: center;\n          width: 100%;\n        }\n      '])))])}}])}((0,L.V)(A.WF));(0,y.Cg)([(0,C.MZ)({attribute:!1})],x.prototype,"hass",void 0),(0,y.Cg)([(0,C.MZ)({attribute:"aria-labelledby"})],x.prototype,"ariaLabelledBy",void 0),(0,y.Cg)([(0,C.MZ)({attribute:"aria-describedby"})],x.prototype,"ariaDescribedBy",void 0),(0,y.Cg)([(0,C.MZ)({type:Boolean,reflect:!0})],x.prototype,"open",void 0),(0,y.Cg)([(0,C.MZ)({reflect:!0})],x.prototype,"type",void 0),(0,y.Cg)([(0,C.MZ)({type:String,reflect:!0,attribute:"width"})],x.prototype,"width",void 0),(0,y.Cg)([(0,C.MZ)({type:Boolean,reflect:!0,attribute:"prevent-scrim-close"})],x.prototype,"preventScrimClose",void 0),(0,y.Cg)([(0,C.MZ)({attribute:"header-title"})],x.prototype,"headerTitle",void 0),(0,y.Cg)([(0,C.MZ)({attribute:"header-subtitle"})],x.prototype,"headerSubtitle",void 0),(0,y.Cg)([(0,C.MZ)({type:String,attribute:"header-subtitle-position"})],x.prototype,"headerSubtitlePosition",void 0),(0,y.Cg)([(0,C.MZ)({type:Boolean,reflect:!0,attribute:"flexcontent"})],x.prototype,"flexContent",void 0),(0,y.Cg)([(0,C.wk)()],x.prototype,"_open",void 0),(0,y.Cg)([(0,C.P)(".body")],x.prototype,"bodyContainer",void 0),(0,y.Cg)([(0,C.wk)()],x.prototype,"_bodyScrolled",void 0),(0,y.Cg)([(0,C.Ls)({passive:!0})],x.prototype,"_handleBodyScroll",null),x=(0,y.Cg)([(0,C.EM)("ha-wa-dialog")],x),t()}catch(M){t(M)}})},30780:function(e,t,i){i.d(t,{EN:function(){return c},I8:function(){return h},L_:function(){return d},MC:function(){return l},O$:function(){return n},bM:function(){return s},ix:function(){return o},rP:function(){return r}});i(23792),i(26099),i(31415),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698),i(47764),i(62953);var a="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z",n={condition:"M4 2A2 2 0 0 0 2 4V12H4V8H6V12H8V4A2 2 0 0 0 6 2H4M4 4H6V6H4M22 15.5V14A2 2 0 0 0 20 12H16V22H20A2 2 0 0 0 22 20V18.5A1.54 1.54 0 0 0 20.5 17A1.54 1.54 0 0 0 22 15.5M20 20H18V18H20V20M20 16H18V14H20M5.79 21.61L4.21 20.39L18.21 2.39L19.79 3.61Z",delay:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M19.03,7.39L20.45,5.97C20,5.46 19.55,5 19.04,4.56L17.62,6C16.07,4.74 14.12,4 12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22C17,22 21,17.97 21,13C21,10.88 20.26,8.93 19.03,7.39M11,14H13V8H11M15,1H9V3H15V1Z",event:"M10,9A1,1 0 0,1 11,8A1,1 0 0,1 12,9V13.47L13.21,13.6L18.15,15.79C18.68,16.03 19,16.56 19,17.14V21.5C18.97,22.32 18.32,22.97 17.5,23H11C10.62,23 10.26,22.85 10,22.57L5.1,18.37L5.84,17.6C6.03,17.39 6.3,17.28 6.58,17.28H6.8L10,19V9M11,5A4,4 0 0,1 15,9C15,10.5 14.2,11.77 13,12.46V11.24C13.61,10.69 14,9.89 14,9A3,3 0 0,0 11,6A3,3 0 0,0 8,9C8,9.89 8.39,10.69 9,11.24V12.46C7.8,11.77 7,10.5 7,9A4,4 0 0,1 11,5M11,3A6,6 0 0,1 17,9C17,10.7 16.29,12.23 15.16,13.33L14.16,12.88C15.28,11.96 16,10.56 16,9A5,5 0 0,0 11,4A5,5 0 0,0 6,9C6,11.05 7.23,12.81 9,13.58V14.66C6.67,13.83 5,11.61 5,9A6,6 0 0,1 11,3Z",play_media:"M8,5.14V19.14L19,12.14L8,5.14Z",service:"M12,5A2,2 0 0,1 14,7C14,7.24 13.96,7.47 13.88,7.69C17.95,8.5 21,11.91 21,16H3C3,11.91 6.05,8.5 10.12,7.69C10.04,7.47 10,7.24 10,7A2,2 0 0,1 12,5M22,19H2V17H22V19Z",wait_template:"M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z",wait_for_trigger:"M12,9A2,2 0 0,1 10,7C10,5.89 10.9,5 12,5C13.11,5 14,5.89 14,7A2,2 0 0,1 12,9M12,14A2,2 0 0,1 10,12C10,10.89 10.9,10 12,10C13.11,10 14,10.89 14,12A2,2 0 0,1 12,14M12,19A2,2 0 0,1 10,17C10,15.89 10.9,15 12,15C13.11,15 14,15.89 14,17A2,2 0 0,1 12,19M20,10H17V8.86C18.72,8.41 20,6.86 20,5H17V4A1,1 0 0,0 16,3H8A1,1 0 0,0 7,4V5H4C4,6.86 5.28,8.41 7,8.86V10H4C4,11.86 5.28,13.41 7,13.86V15H4C4,16.86 5.28,18.41 7,18.86V20A1,1 0 0,0 8,21H16A1,1 0 0,0 17,20V18.86C18.72,18.41 20,16.86 20,15H17V13.86C18.72,13.41 20,11.86 20,10Z",repeat:a,repeat_count:a,repeat_while:a,repeat_until:a,repeat_for_each:a,choose:"M11,5H8L12,1L16,5H13V9.43C12.25,9.89 11.58,10.46 11,11.12V5M22,11L18,7V10C14.39,9.85 11.31,12.57 11,16.17C9.44,16.72 8.62,18.44 9.17,20C9.72,21.56 11.44,22.38 13,21.83C14.56,21.27 15.38,19.56 14.83,18C14.53,17.14 13.85,16.47 13,16.17C13.47,12.17 17.47,11.97 17.95,11.97V14.97L22,11M10.63,11.59C9.3,10.57 7.67,10 6,10V7L2,11L6,15V12C7.34,12.03 8.63,12.5 9.64,13.4C9.89,12.76 10.22,12.15 10.63,11.59Z",if:"M14,4L16.29,6.29L13.41,9.17L14.83,10.59L17.71,7.71L20,10V4M10,4H4V10L6.29,7.71L11,12.41V20H13V11.59L7.71,6.29",device_id:"M3 6H21V4H3C1.9 4 1 4.9 1 6V18C1 19.1 1.9 20 3 20H7V18H3V6M13 12H9V13.78C8.39 14.33 8 15.11 8 16C8 16.89 8.39 17.67 9 18.22V20H13V18.22C13.61 17.67 14 16.88 14 16S13.61 14.33 13 13.78V12M11 17.5C10.17 17.5 9.5 16.83 9.5 16S10.17 14.5 11 14.5 12.5 15.17 12.5 16 11.83 17.5 11 17.5M22 8H16C15.5 8 15 8.5 15 9V19C15 19.5 15.5 20 16 20H22C22.5 20 23 19.5 23 19V9C23 8.5 22.5 8 22 8M21 18H17V10H21V18Z",stop:"M13 24C9.74 24 6.81 22 5.6 19L2.57 11.37C2.26 10.58 3 9.79 3.81 10.05L4.6 10.31C5.16 10.5 5.62 10.92 5.84 11.47L7.25 15H8V3.25C8 2.56 8.56 2 9.25 2S10.5 2.56 10.5 3.25V12H11.5V1.25C11.5 .56 12.06 0 12.75 0S14 .56 14 1.25V12H15V2.75C15 2.06 15.56 1.5 16.25 1.5C16.94 1.5 17.5 2.06 17.5 2.75V12H18.5V5.75C18.5 5.06 19.06 4.5 19.75 4.5S21 5.06 21 5.75V16C21 20.42 17.42 24 13 24Z",sequence:"M7,13V11H21V13H7M7,19V17H21V19H7M7,7V5H21V7H7M3,8V5H2V4H4V8H3M2,17V16H5V20H2V19H4V18.5H3V17.5H4V17H2M4.25,10A0.75,0.75 0 0,1 5,10.75C5,10.95 4.92,11.14 4.79,11.27L3.12,13H5V14H2V13.08L4,11H2V10H4.25Z",parallel:"M16,4.5V7H5V9H16V11.5L19.5,8M16,12.5V15H5V17H16V19.5L19.5,16",variables:"M21 2H3C1.9 2 1 2.9 1 4V20C1 21.1 1.9 22 3 22H21C22.1 22 23 21.1 23 20V4C23 2.9 22.1 2 21 2M21 20H3V6H21V20M16.6 8C18.1 9.3 19 11.1 19 13C19 14.9 18.1 16.7 16.6 18L15 17.4C16.3 16.4 17 14.7 17 13S16.3 9.6 15 8.6L16.6 8M7.4 8L9 8.6C7.7 9.6 7 11.3 7 13S7.7 16.4 9 17.4L7.4 18C5.9 16.7 5 14.9 5 13S5.9 9.3 7.4 8M12.1 12L13.5 10H15L12.8 13L14.1 16H12.8L12 14L10.6 16H9L11.3 12.9L10 10H11.3L12.1 12Z",set_conversation_response:"M12,8H4A2,2 0 0,0 2,10V14A2,2 0 0,0 4,16H5V20A1,1 0 0,0 6,21H8A1,1 0 0,0 9,20V16H12L17,20V4L12,8M21.5,12C21.5,13.71 20.54,15.26 19,16V8C20.53,8.75 21.5,10.3 21.5,12Z"},o=new Set(["variables"]),r=[{groups:{device_id:{},dynamicGroups:{}}},{titleKey:"ui.panel.config.automation.editor.actions.groups.helpers.label",groups:{helpers:{}}},{titleKey:"ui.panel.config.automation.editor.actions.groups.other.label",groups:{event:{},service:{},set_conversation_response:{},other:{}}}],s={condition:{},delay:{},wait_template:{},wait_for_trigger:{},repeat_count:{},repeat_while:{},repeat_until:{},repeat_for_each:{},choose:{},if:{},stop:{},sequence:{},parallel:{},variables:{}},c={repeat_count:{repeat:{count:2,sequence:[]}},repeat_while:{repeat:{while:[],sequence:[]}},repeat_until:{repeat:{until:[],sequence:[]}},repeat_for_each:{repeat:{for_each:{},sequence:[]}}},l=["ha-automation-action-choose","ha-automation-action-condition","ha-automation-action-if","ha-automation-action-parallel","ha-automation-action-repeat","ha-automation-action-sequence"],d=["choose","if","parallel","sequence","repeat_while","repeat_until"],h=["repeat_count","repeat_for_each","wait_for_trigger"]},43870:function(e,t,i){i.d(t,{L3:function(){return n},QI:function(){return c},bQ:function(){return s},gs:function(){return o},uG:function(){return r}});var a=i(31432),n=(i(44114),i(69085),function(e,t){return e.callWS(Object.assign({type:"config/area_registry/create"},t))}),o=function(e,t,i){return e.callWS(Object.assign({type:"config/area_registry/update",area_id:t},i))},r=function(e,t){return e.callWS({type:"config/area_registry/delete",area_id:t})},s=function(e){var t,i={},n=(0,a.A)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.area_id&&(o.area_id in i||(i[o.area_id]=[]),i[o.area_id].push(o))}}catch(r){n.e(r)}finally{n.f()}return i},c=function(e){var t,i={},n=(0,a.A)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.area_id&&(o.area_id in i||(i[o.area_id]=[]),i[o.area_id].push(o))}}catch(r){n.e(r)}finally{n.f()}return i}},32250:function(e,t,i){i.d(t,{KD:function(){return n},_o:function(){return o}});var a=i(31432),n=(i(44114),i(69085),function(e,t){return e.callWS(Object.assign({type:"config/floor_registry/create"},t))}),o=function(e){var t,i={},n=(0,a.A)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.floor_id&&(o.floor_id in i||(i[o.floor_id]=[]),i[o.floor_id].push(o))}}catch(r){n.e(r)}finally{n.f()}return i}},46056:function(e,t,i){i.d(t,{b:function(){return c}});var a=i(44734),n=i(43080),o=i(69683),r=i(6454),s=i(25460),c=(i(28706),i(26099),i(38781),i(18111),i(13579),function(e){var t=function(e){function t(){var e;(0,a.A)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=(0,o.A)(this,t,[].concat(n)))._keydownEvent=function(t){var i=e.supportedShortcuts(),a=t.shiftKey?t.key.toUpperCase():t.key;if((t.ctrlKey||t.metaKey)&&!t.altKey&&a in i){var n;if(!function(e){var t;if(e.some(function(e){return"tagName"in e&&("HA-MENU"===e.tagName||"HA-CODE-EDITOR"===e.tagName)}))return!1;var i=e[0];if("TEXTAREA"===i.tagName)return!1;if("HA-SELECT"===(null===(t=i.parentElement)||void 0===t?void 0:t.tagName))return!1;if("INPUT"!==i.tagName)return!0;switch(i.type){case"button":case"checkbox":case"hidden":case"radio":case"range":return!0;default:return!1}}(t.composedPath()))return;if(null!==(n=window.getSelection())&&void 0!==n&&n.toString())return;return t.preventDefault(),void i[a]()}var o=e.supportedSingleKeyShortcuts();a in o&&(t.preventDefault(),o[a]())},e._listenersAdded=!1,e}return(0,r.A)(t,e),(0,n.A)(t,[{key:"connectedCallback",value:function(){(0,s.A)(t,"connectedCallback",this,3)([]),this.addKeyboardShortcuts()}},{key:"disconnectedCallback",value:function(){this.removeKeyboardShortcuts(),(0,s.A)(t,"disconnectedCallback",this,3)([])}},{key:"addKeyboardShortcuts",value:function(){this._listenersAdded||(this._listenersAdded=!0,window.addEventListener("keydown",this._keydownEvent))}},{key:"removeKeyboardShortcuts",value:function(){this._listenersAdded=!1,window.removeEventListener("keydown",this._keydownEvent)}},{key:"supportedShortcuts",value:function(){return{}}},{key:"supportedSingleKeyShortcuts",value:function(){return{}}}])}(e);return t})},65467:function(e,t,i){i.a(e,async function(e,a){try{i.r(t);var n,o,r,s,c,l,d,h,u,v,p,g,f,m,_,y,b,A,C,w,k,L,H,V,x,M,S,I,O,j,z,G=i(31432),T=i(61397),q=i(50264),E=i(72153),D=i(94741),Z=i(78261),F=i(26520),B=i(44734),P=i(43080),W=i(75864),N=i(69683),K=i(6454),U=i(25460),R=(i(52675),i(89463),i(28706),i(2008),i(50113),i(46449),i(74423),i(25276),i(23792),i(62062),i(44114),i(72712),i(26910),i(93514),i(13609),i(18111),i(22489),i(20116),i(7588),i(61701),i(18237),i(13579),i(69085),i(5506),i(53921),i(79432),i(26099),i(16034),i(27495),i(31415),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698),i(47764),i(25440),i(90744),i(11392),i(46058),i(23500),i(62953),i(62826)),$=i(16527),J=i(96196),Q=i(77845),X=i(94333),Y=i(4937),ee=i(22786),te=i(1087),ie=i(19422),ae=i(65522),ne=i(71727),oe=i(74705),re=i(55931),se=i(52220),ce=i(15638),le=i(9899),de=i(19459),he=i(74281),ue=i(99611),ve=i(18350),pe=i(89865),ge=(i(75064),i(76623)),fe=(i(76538),i(59174)),me=(i(18198),i(50888),i(45100),i(43661),i(58491),i(17308),i(2846),i(69464),i(65329)),_e=i(34127),ye=i(14404),be=i(45331),Ae=(i(3103),i(30780)),Ce=i(43870),we=i(88249),ke=i(87225),Le=i(77423),He=i(38911),Ve=i(44927),xe=i(32250),Me=i(85694),Se=i(95350),Ie=i(93758),Oe=i(88555),je=i(3496),ze=i(46056),Ge=i(41570),Te=i(81619),qe=i(70897),Ee=i(2491),De=i(25871),Ze=i(82405),Fe=i(69070),Be=e([he,ue,ve,pe,fe,me,_e,be,qe,Ee,De,ye,ge,Me]);[he,ue,ve,pe,fe,me,_e,be,qe,Ee,De,ye,ge,Me]=Be.then?(await Be)():Be;var Pe={trigger:{collections:je.NI,icons:ye.S},condition:{collections:ke.GS,icons:ge.D},action:{collections:Ae.rP,icons:Ae.O$}},We=new Set(["date","datetime","device_tracker","text","time","tts","update","weather","image_processing"]),Ne=new Set(["notify"]),Ke=["dynamicGroups","helpers","other"],Ue=function(e){function t(){var e;(0,B.A)(this,t);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return(e=(0,N.A)(this,t,[].concat(a)))._open=!0,e._tab="targets",e._filter="",e._bottomSheetMode=!1,e._narrow=!1,e._triggerDescriptions={},e._loadItemsError=!1,e._newTriggersAndConditions=!1,e._conditionDescriptions={},e._configEntryLookup={},e._closing=!1,e._updateNarrow=function(){e._narrow=window.matchMedia("(max-width: 870px)").matches||window.matchMedia("(max-height: 500px)").matches},e._getItems=function(){var t;return e._filter||"blocks"!==e._tab?!e._filter&&"groups"===e._tab&&e._selectedGroup?[{title:e.hass.localize("ui.panel.config.automation.editor.".concat(e._params.type,"s.name")),items:e._getGroupItems(e._params.type,e._selectedGroup,null!==(t=e._selectedCollectionIndex)&&void 0!==t?t:0,e._domains,e.hass.localize,e.hass.services,e._manifests)}]:!e._filter&&"targets"===e._tab&&e._selectedTarget&&e._targetItems?e._targetItems:void 0:[{title:e.hass.localize("ui.panel.config.automation.editor.blocks"),items:e._getBlockItems(e._params.type,e.hass.localize)}]},e._getGroups=function(e,t,i){return t&&void 0!==i?Pe[e].collections[i].groups[t].members||(0,F.A)({},t,{}):Pe[e].collections.reduce(function(e,t){return Object.assign(Object.assign({},e),t.groups)},{})},e._items=(0,ee.A)(function(t,i,a,n){var o=e._getGroups(t),r=function(a){return Object.entries(a).map(function(a){var n=(0,Z.A)(a,2),o=n[0],s=n[1];return s.members?r(s.members):e._convertToItem(o,s,t,i)})},s=r(o).flat();return"trigger"===t?s.push.apply(s,(0,D.A)(e._triggers(i,e._triggerDescriptions))):"condition"===t?s.push.apply(s,(0,D.A)(e._conditions(i,e._conditionDescriptions,n))):"action"===t&&s.push.apply(s,(0,D.A)(e._services(i,a,n))),s.filter(function(e){return e.name})}),e._getCollections=(0,ee.A)(function(t,i,a,n,o,r,s,c){var l=[];return i.forEach(function(i){var d=Object.entries(i.groups),h=[];"trigger"===t&&Object.keys(i.groups).some(function(e){return Ke.includes(e)})?(h.push.apply(h,(0,D.A)(e._triggerGroups(n,r,c,a,i.groups.dynamicGroups?void 0:i.groups.helpers?"helper":"other"))),d=d.filter(function(e){var t=(0,Z.A)(e,1)[0];return!Ke.includes(t)})):"condition"===t&&Object.keys(i.groups).some(function(e){return Ke.includes(e)})?(h.push.apply(h,(0,D.A)(e._conditionGroups(n,s,c,a,i.groups.dynamicGroups?void 0:i.groups.helpers?"helper":"other"))),d=d.filter(function(e){var t=(0,Z.A)(e,1)[0];return!Ke.includes(t)})):"action"===t&&Object.keys(i.groups).some(function(e){return Ke.includes(e)})&&(h.push.apply(h,(0,D.A)(e._serviceGroups(n,o,c,a,i.groups.dynamicGroups?void 0:i.groups.helpers?"helper":"other"))),d=d.filter(function(e){var t=(0,Z.A)(e,1)[0];return!Ke.includes(t)})),h.push.apply(h,(0,D.A)(d.map(function(i){var a=(0,Z.A)(i,2),o=a[0],r=a[1];return e._convertToItem(o,r,t,n)}))),l.push({titleKey:i.titleKey,groups:h.sort(function(t,i){return"device"===t.key||"device_id"===t.key?-1:"device"===i.key||"device_id"===i.key?1:(0,se.xL)(t.name,i.name,e.hass.locale.language)})})}),l}),e._getBlockItems=(0,ee.A)(function(t,i){var a="action"===t?Ae.bM:ke.oW;return Object.entries(a).map(function(a){var n=(0,Z.A)(a,2),o=n[0],r=n[1];return e._convertToItem(o,r,t,i)}).sort(function(t,i){return(0,se.xL)(t.name,i.name,e.hass.locale.language)})}),e._getGroupItems=(0,ee.A)(function(t,i,a,n,o,r,s){if("trigger"===t&&(0,we.Q)(i))return e._triggers(o,e._triggerDescriptions,i);if("condition"===t&&(0,we.Q)(i))return e._conditions(o,e._conditionDescriptions,s,i);if("action"===t&&(0,we.Q)(i))return e._services(o,r,s,i);var c=e._getGroups(t,i,a),l=Object.entries(c).map(function(i){var a=(0,Z.A)(i,2),n=a[0],r=a[1];return e._convertToItem(n,r,t,o)});return"action"===t&&(e._selectedGroup?"helpers"===e._selectedGroup?l.unshift.apply(l,(0,D.A)(e._serviceGroups(o,r,s,n,"helper"))):"other"===e._selectedGroup&&l.unshift.apply(l,(0,D.A)(e._serviceGroups(o,r,s,n,"other"))):l.unshift.apply(l,(0,D.A)(e._serviceGroups(o,r,s,n,void 0)))),l.sort(function(t,i){return(0,se.xL)(t.name,i.name,e.hass.locale.language)})}),e._serviceGroups=function(t,i,a,o,r){if(!i||!a)return[];var s=[];return Object.keys(i).forEach(function(i){var c=a[i],l=!o||o.has(i);(void 0===r&&(Ne.has(i)||"entity"===(null==c?void 0:c.integration_type)&&l&&!We.has(i))||"helper"===r&&"helper"===(null==c?void 0:c.integration_type)||"other"===r&&!Ne.has(i)&&(We.has(i)||!l&&"entity"===(null==c?void 0:c.integration_type)||!["helper","entity"].includes((null==c?void 0:c.integration_type)||"")))&&s.push({icon:(0,J.qy)(n||(n=(0,E.A)([' <ha-domain-icon .hass="','" .domain="','" brand-fallback></ha-domain-icon> '])),e.hass,i),key:"".concat(we.VH).concat(i),name:(0,Se.p$)(t,i,c),description:""})}),s.sort(function(t,i){return(0,se.xL)(t.name,i.name,e.hass.locale.language)})},e._triggerGroups=function(t,i,a,n,r){if(!i||!a)return[];var s=[],c=new Set;return Object.keys(i).forEach(function(i){var l=(0,je.zz)(i);if(!c.has(l)){c.add(l);var d=a[l],h=!n||n.has(l);(void 0===r&&(Ne.has(l)||"entity"===(null==d?void 0:d.integration_type)&&h&&!We.has(l))||"helper"===r&&"helper"===(null==d?void 0:d.integration_type)||"other"===r&&!Ne.has(l)&&(We.has(l)||!h&&"entity"===(null==d?void 0:d.integration_type)||!["helper","entity"].includes((null==d?void 0:d.integration_type)||"")))&&s.push({icon:(0,J.qy)(o||(o=(0,E.A)([' <ha-domain-icon .hass="','" .domain="','" brand-fallback></ha-domain-icon> '])),e.hass,l),key:"".concat(we.VH).concat(l),name:(0,Se.p$)(t,l,d),description:""})}}),s.sort(function(t,i){return(0,se.xL)(t.name,i.name,e.hass.locale.language)})},e._triggers=(0,ee.A)(function(t,i,a){return i?e._getTriggerListItems(t,Object.keys(i).filter(function(e){var t=(0,je.zz)(e);return!a||a==="".concat(we.VH).concat(t)})):[]}),e._conditionGroups=function(t,i,a,n,o){if(!i||!a)return[];var s=[],c=new Set;return Object.keys(i).forEach(function(i){var l=(0,ke.ob)(i);if(!c.has(l)){c.add(l);var d=a[l],h=!n||n.has(l);(void 0===o&&(Ne.has(l)||"entity"===(null==d?void 0:d.integration_type)&&h&&!We.has(l))||"helper"===o&&"helper"===(null==d?void 0:d.integration_type)||"other"===o&&!Ne.has(l)&&(We.has(l)||!h&&"entity"===(null==d?void 0:d.integration_type)||!["helper","entity"].includes((null==d?void 0:d.integration_type)||"")))&&s.push({icon:(0,J.qy)(r||(r=(0,E.A)([' <ha-domain-icon .hass="','" .domain="','" brand-fallback></ha-domain-icon> '])),e.hass,l),key:"".concat(we.VH).concat(l),name:(0,Se.p$)(t,l,d),description:""})}}),s.sort(function(t,i){return(0,se.xL)(t.name,i.name,e.hass.locale.language)})},e._conditions=(0,ee.A)(function(t,i,a,n){if(!i)return[];for(var o=[],r=0,s=Object.keys(i);r<s.length;r++){var c=s[r],l=(0,ke.ob)(c);n&&n!=="".concat(we.VH).concat(l)||o.push(e._getConditionListItem(t,l,c))}return o}),e._services=(0,ee.A)(function(t,i,a,n){if(!i)return[];var o,r=[];(0,we.Q)(n)&&(o=(0,we.Dt)(n));var c=function(a){for(var n=0,c=Object.keys(i[a]);n<c.length;n++){var l,d,h=c[n];r.push({icon:(0,J.qy)(s||(s=(0,E.A)([' <ha-service-icon .hass="','" .service="','"></ha-service-icon> '])),e.hass,"".concat(a,".").concat(h)),key:"".concat(we.VH).concat(a,".").concat(h),name:"".concat(o?"":"".concat((0,Se.p$)(t,a),": ")).concat(e.hass.localize("component.".concat(a,".services.").concat(h,".name"),e.hass.services[a][h].description_placeholders)||(null===(l=i[a][h])||void 0===l?void 0:l.name)||h),description:e.hass.localize("component.".concat(a,".services.").concat(h,".description"),e.hass.services[a][h].description_placeholders)||(null===(d=i[a][h])||void 0===d?void 0:d.description)||""})}};return o?(c(o),r.sort(function(t,i){return(0,se.xL)(t.name,i.name,e.hass.locale.language)})):n&&!["helpers","other"].includes(n)?[]:(Object.keys(i).sort().forEach(function(e){var t=null==a?void 0:a[e];"helpers"===n&&"helper"!==(null==t?void 0:t.integration_type)||"other"===n&&(We.has(e)||["helper","entity"].includes((null==t?void 0:t.integration_type)||""))||c(e)}),r)}),e._getLabel=(0,ee.A)(function(t){var i;return null===(i=e._labelRegistry)||void 0===i?void 0:i.find(function(e){return e.label_id===t})}),e._getFloorAreaLookupMemoized=(0,ee.A)(function(e){return(0,xe._o)(Object.values(e))}),e._getAreaDeviceLookupMemoized=(0,ee.A)(function(e){return(0,Ce.QI)(Object.values(e))}),e._getAreaEntityLookupMemoized=(0,ee.A)(function(e){return(0,Ce.bQ)(Object.values(e))}),e._getDeviceEntityLookupMemoized=(0,ee.A)(function(e){return(0,Ve.I3)(Object.values(e))}),e._extractTypeAndIdFromTarget=(0,ee.A)(function(e){var t=(0,Z.A)(Object.entries(e)[0],2),i=t[0],a=t[1];return[i.replace("_id",""),a]}),e._convertToItem=function(e,t,i,a){return{key:e,name:a("ui.panel.config.automation.editor.".concat(i,"s.").concat(t.members?"groups":"type",".").concat(e,".label")),description:a("ui.panel.config.automation.editor.".concat(i,"s.").concat(t.members?"groups":"type",".").concat(e,".description").concat(t.members?"":".picker")),iconPath:t.icon||Pe[i].icons[e]}},e._handleTargetSelected=function(t){e._targetItems=void 0,e._loadItemsError=!1,e._selectedTarget=t.detail.value,ie.G.history.pushState({dialogData:{target:e._selectedTarget}},""),requestAnimationFrame(function(){var t,i;e._narrow?null===(t=e._contentElement)||void 0===t||t.scrollTo(0,0):null===(i=e._itemsListElement)||void 0===i||i.scrollTo(0,0)}),e._getItemsByTarget()},e._debounceFilterChanged=(0,le.s)(function(t){return e._filterChanged(t)},200),e._filterChanged=function(t){e._filter=t.detail.value},e._addClipboard=function(){var t;null!==(t=e._params)&&void 0!==t&&t.clipboardItem&&(e._params.add(Ze.u),(0,Te.P)((0,W.A)(e),{message:e.hass.localize("ui.panel.config.automation.editor.item_pasted",{item:e.hass.localize("ui.panel.config.automation.editor.".concat(e._params.type,"s.type.").concat(e._params.clipboardItem,".label"))})}),e.closeDialog())},e._getSelectedTargetLabel=(0,ee.A)(function(t){var i=e._extractTypeAndIdFromTarget(t),a=(0,Z.A)(i,2),n=a[0],o=a[1];if(void 0===o&&"floor"===n)return e.hass.localize("ui.panel.config.automation.editor.other_areas");if(void 0===o&&"area"===n)return e.hass.localize("ui.panel.config.automation.editor.unassigned_devices");if(void 0===o&&"service"===n)return e.hass.localize("ui.panel.config.automation.editor.services");if(void 0===o&&"device"===n)return e.hass.localize("ui.panel.config.automation.editor.unassigned_entities");if(void 0===o&&"helper"===n)return e.hass.localize("ui.panel.config.automation.editor.helpers");if(void 0===o&&(n.startsWith("entity_")||n.startsWith("helper_"))){var r,s=n.substring(7);return(0,Se.p$)(e.hass.localize,s,null===(r=e._manifests)||void 0===r?void 0:r[s])}return o?(0,Fe.N)(e.hass,n,o,e._getLabel):void 0}),e._getAddFromTargetHidden=(0,ee.A)(function(t,i){if(t&&i){var a,n,o,r,s=e._extractTypeAndIdFromTarget(i),c=(0,Z.A)(s,2),l=c[0],d=c[1];if(d&&("floor"===l&&!((null===(a=e._getFloorAreaLookupMemoized(e.hass.areas)[d])||void 0===a?void 0:a.length)>0)||"area"===l&&!((null===(n=e._getAreaDeviceLookupMemoized(e.hass.devices)[d])||void 0===n?void 0:n.length)>0)&&!((null===(o=e._getAreaEntityLookupMemoized(e.hass.entities)[d])||void 0===o?void 0:o.length)>0)||"device"===l&&!((null===(r=e._getDeviceEntityLookupMemoized(e.hass.entities)[d])||void 0===r?void 0:r.length)>0)||"entity"===l||"label"===l))return"hidden"}return""}),e}return(0,K.A)(t,e),(0,P.A)(t,[{key:"willUpdate",value:function(e){var t;e.has("hass")&&(null===(t=e.get("hass"))||void 0===t?void 0:t.states)!==this.hass.states&&this._calculateUsedDomains(),e.has("_newTriggersAndConditions")&&this._subscribeDescriptions()}},{key:"_subscribeDescriptions",value:function(){var e,t,i=this;this._unsubscribe(),"trigger"===(null===(e=this._params)||void 0===e?void 0:e.type)?(this._triggerDescriptions={},this._unsub=(0,je.Wv)(this.hass,function(e){i._triggerDescriptions=Object.assign(Object.assign({},i._triggerDescriptions),e)})):"condition"===(null===(t=this._params)||void 0===t?void 0:t.type)&&(this._conditionDescriptions={},this._unsub=(0,ke.bn)(this.hass,function(e){i._conditionDescriptions=Object.assign(Object.assign({},i._conditionDescriptions),e)}))}},{key:"showDialog",value:function(e){var t,i,a,n=this;this._params=e,this.addKeyboardShortcuts(),this._loadConfigEntries(),this._unsubscribe(),this._fetchManifests(),this._calculateUsedDomains(),this._unsubscribeLabFeatures=(0,Ie.CO)(this.hass.connection,"automation","new_triggers_conditions",function(e){n._newTriggersAndConditions=e.enabled,n._tab=n._newTriggersAndConditions?"targets":"groups"}),ie.G.history.pushState({dialogData:{}},""),"action"===(null===(t=this._params)||void 0===t?void 0:t.type)?(this.hass.loadBackendTranslation("services"),(0,Me.Yd)(this.hass)):"trigger"===(null===(i=this._params)||void 0===i?void 0:i.type)?(this.hass.loadBackendTranslation("triggers"),(0,Me.Dl)(this.hass),this._subscribeDescriptions()):"condition"===(null===(a=this._params)||void 0===a?void 0:a.type)&&(this.hass.loadBackendTranslation("conditions"),(0,Me.mX)(this.hass),this._subscribeDescriptions()),window.addEventListener("resize",this._updateNarrow),this._updateNarrow(),this._bottomSheetMode=this._narrow}},{key:"closeDialog",value:function(e){var t;if(this._open&&e&&(this._selectedTarget||this._selectedGroup)){var i,a;if(null!==(i=e.dialogData)&&void 0!==i&&i.target)return this._selectedTarget=e.dialogData.target,this._getItemsByTarget(),this._tab="targets",!1;if(null!==(a=e.dialogData)&&void 0!==a&&a.group)return this._selectedCollectionIndex=e.dialogData.collectionIndex,this._selectedGroup=e.dialogData.group,this._tab="groups",!1;if(this._narrow)return this._selectedTarget=void 0,this._selectedGroup=void 0,!1}return this._closing=!0,null!==(t=ie.G.history.state)&&void 0!==t&&t.dialogData?(this._open=!1,ie.G.history.back(),!1):(this.removeKeyboardShortcuts(),this._unsubscribe(),this._params&&(0,te.r)(this,"dialog-closed",{dialog:this.localName}),this._open=!0,this._closing=!1,this._params=void 0,this._selectedCollectionIndex=void 0,this._selectedGroup=void 0,this._selectedTarget=void 0,this._tab=this._newTriggersAndConditions?"targets":"groups",this._filter="",this._manifests=void 0,this._domains=void 0,this._bottomSheetMode=!1,this._narrow=!1,this._targetItems=void 0,this._loadItemsError=!1,!0)}},{key:"_calculateUsedDomains",value:function(){var e=new Set(Object.keys(this.hass.states).map(ne.m));(0,de.b)(e,this._domains)||(this._domains=e)}},{key:"_loadConfigEntries",value:(R=(0,q.A)((0,T.A)().m(function e(){var t;return(0,T.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,Le.VN)(this.hass);case 1:t=e.v,this._configEntryLookup=Object.fromEntries(t.map(function(e){return[e.entry_id,e]}));case 2:return e.a(2)}},e,this)})),function(){return R.apply(this,arguments)})},{key:"_fetchManifests",value:(a=(0,q.A)((0,T.A)().m(function e(){var t,i,a,n,o;return(0,T.A)().w(function(e){for(;;)switch(e.n){case 0:return t={},e.n=1,(0,Se.fK)(this.hass);case 1:i=e.v,a=(0,G.A)(i);try{for(a.s();!(n=a.n()).done;)o=n.value,t[o.domain]=o}catch(r){a.e(r)}finally{a.f()}this._manifests=t;case 2:return e.a(2)}},e,this)})),function(){return a.apply(this,arguments)})},{key:"disconnectedCallback",value:function(){(0,U.A)(t,"disconnectedCallback",this,3)([]),window.removeEventListener("resize",this._updateNarrow),this._unsubscribe()}},{key:"supportedShortcuts",value:function(){var e=this;return{v:function(){return e._addClipboard()}}}},{key:"_unsubscribe",value:function(){this._unsub&&(this._unsub.then(function(e){return e()}),this._unsub=void 0),this._unsubscribeLabFeatures&&(this._unsubscribeLabFeatures.then(function(e){return e()}),this._unsubscribeLabFeatures=void 0)}},{key:"render",value:function(){return this._params?this._bottomSheetMode?(0,J.qy)(c||(c=(0,E.A)([' <ha-bottom-sheet .open="','" @closed="','" flexcontent> '," </ha-bottom-sheet> "])),this._open,this._handleClosed,this._renderContent()):(0,J.qy)(l||(l=(0,E.A)([' <ha-wa-dialog .hass="','" width="large" .open="','" @closed="','" flexcontent> '," </ha-wa-dialog> "])),this.hass,this._open,this._handleClosed,this._renderContent()):J.s6}},{key:"_renderContent",value:function(){var e,t=this,i=this._params.type,a=[{label:this.hass.localize("ui.panel.config.automation.editor.".concat(i,"s.name")),value:"groups"}];this._newTriggersAndConditions&&a.unshift({label:this.hass.localize("ui.panel.config.automation.editor.targets"),value:"targets"}),"trigger"!==(null===(e=this._params)||void 0===e?void 0:e.type)&&a.push({label:this.hass.localize("ui.panel.config.automation.editor.blocks"),value:"blocks"});var n=this._filter||"blocks"===this._tab||"targets"===this._tab||this._narrow&&this._selectedGroup,o=n?[]:this._getCollections(i,Pe[i].collections,this._domains,this.hass.localize,this.hass.services,this._triggerDescriptions,this._conditionDescriptions,this._manifests);return(0,J.qy)(d||(d=(0,E.A)([' <div slot="header"> '," "," ",' </div> <div class="','"> '," "," </div> "])),this._renderHeader(),this._narrow&&(this._selectedGroup||this._selectedTarget)?J.s6:(0,J.qy)(h||(h=(0,E.A)([' <search-input ?autofocus="','" .hass="','" .filter="','" @value-changed="','" .label="','"></search-input> '])),!this._narrow,this.hass,this._filter,this._debounceFilterChanged,this.hass.localize("ui.common.search")),this._filter||!(a.length>1)||this._narrow&&(this._selectedGroup||this._selectedTarget)?J.s6:(0,J.qy)(u||(u=(0,E.A)(['<ha-button-toggle-group variant="neutral" active-variant="brand" .buttons="','" .active="','" size="small" full-width @value-changed="','"></ha-button-toggle-group>'])),a,this._tab,this._switchTab),(0,X.H)({content:!0,column:this._filter||this._narrow&&this._selectedTarget&&Object.values(this._selectedTarget)[0]&&!this._getAddFromTargetHidden(this._narrow,this._selectedTarget)}),this._filter?(0,J.qy)(v||(v=(0,E.A)(['<ha-automation-add-search .hass="','" .filter="','" .configEntryLookup="','" .manifests="','" .narrow="','" .addElementType="','" .items="','" .convertToItem="','" .newTriggersAndConditions="','" @search-element-picked="','"> </ha-automation-add-search>'])),this.hass,this._filter,this._configEntryLookup,this._manifests,this._narrow,this._params.type,this._items(i,this.hass.localize,this.hass.services,this._manifests),this._convertToItem,this._newTriggersAndConditions,this._searchItemSelected):"targets"===this._tab?(0,J.qy)(p||(p=(0,E.A)(['<ha-automation-add-from-target .hass="','" .value="','" @value-changed="','" .narrow="','" class="','" .manifests="','"></ha-automation-add-from-target>'])),this.hass,this._selectedTarget,this._handleTargetSelected,this._narrow,this._getAddFromTargetHidden(this._narrow,this._selectedTarget),this._manifests):(0,J.qy)(g||(g=(0,E.A)([' <ha-md-list class="','"> '," "," </ha-md-list> "])),(0,X.H)({groups:!0,hidden:n}),this._params.clipboardItem?(0,J.qy)(f||(f=(0,E.A)(['<ha-md-list-item interactive type="button" class="paste" @click="','"> <div class="shortcut-label"> <div class="label"> <div> ',' </div> <div class="supporting-text"> '," </div> </div> ",' </div> <ha-svg-icon slot="start" .path="','"></ha-svg-icon><ha-svg-icon class="plus" slot="end" .path="','"></ha-svg-icon> </ha-md-list-item> <ha-md-divider role="separator" tabindex="-1"></ha-md-divider>'])),this._paste,this.hass.localize("ui.panel.config.automation.editor.".concat(i,"s.paste")),this.hass.localize("ui.panel.config.automation.editor.".concat(i,"s.type.").concat(this._params.clipboardItem,".label")),this._narrow?J.s6:(0,J.qy)(m||(m=(0,E.A)(['<span class="shortcut"> <span>',"</span> <span>+</span> <span>V</span> </span>"])),Ge.c?(0,J.qy)(_||(_=(0,E.A)(['<ha-svg-icon slot="start" .path="','"></ha-svg-icon>'])),"M6,2A4,4 0 0,1 10,6V8H14V6A4,4 0 0,1 18,2A4,4 0 0,1 22,6A4,4 0 0,1 18,10H16V14H18A4,4 0 0,1 22,18A4,4 0 0,1 18,22A4,4 0 0,1 14,18V16H10V18A4,4 0 0,1 6,22A4,4 0 0,1 2,18A4,4 0 0,1 6,14H8V10H6A4,4 0 0,1 2,6A4,4 0 0,1 6,2M16,18A2,2 0 0,0 18,20A2,2 0 0,0 20,18A2,2 0 0,0 18,16H16V18M14,10H10V14H14V10M6,16A2,2 0 0,0 4,18A2,2 0 0,0 6,20A2,2 0 0,0 8,18V16H6M8,6A2,2 0 0,0 6,4A2,2 0 0,0 4,6A2,2 0 0,0 6,8H8V6M18,8A2,2 0 0,0 20,6A2,2 0 0,0 18,4A2,2 0 0,0 16,6V8H18Z"):this.hass.localize("ui.panel.config.automation.editor.ctrl")),"M19,20H5V4H7V7H17V4H19M12,2A1,1 0 0,1 13,3A1,1 0 0,1 12,4A1,1 0 0,1 11,3A1,1 0 0,1 12,2M19,2H14.82C14.4,0.84 13.3,0 12,0C10.7,0 9.6,0.84 9.18,2H5A2,2 0 0,0 3,4V20A2,2 0 0,0 5,22H19A2,2 0 0,0 21,20V4A2,2 0 0,0 19,2Z","M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"):J.s6,o.map(function(e,i){return(0,J.qy)(y||(y=(0,E.A)([" "," "," "])),e.titleKey&&e.groups.length?(0,J.qy)(b||(b=(0,E.A)(["<ha-section-title> "," </ha-section-title>"])),t.hass.localize(e.titleKey)):J.s6,(0,Y.u)(e.groups,function(e){return e.key},function(e){return(0,J.qy)(A||(A=(0,E.A)([' <ha-md-list-item interactive type="button" .value="','" .index="','" @click="','" class="','"> <div slot="headline">',"</div> "," "," </ha-md-list-item> "])),e.key,i,t._groupSelected,e.key===t._selectedGroup?"selected":"",e.name,e.icon?(0,J.qy)(C||(C=(0,E.A)(['<span slot="start">',"</span>"])),e.icon):e.iconPath?(0,J.qy)(w||(w=(0,E.A)(['<ha-svg-icon slot="start" .path="','"></ha-svg-icon>'])),e.iconPath):J.s6,t._narrow?(0,J.qy)(k||(k=(0,E.A)(['<ha-icon-next slot="end"></ha-icon-next>']))):J.s6)}))})),this._filter?J.s6:(0,J.qy)(L||(L=(0,E.A)([' <ha-automation-add-items .hass="','" .items="','" .scrollable="','" .error="','" .selectLabel="','" .emptyLabel="','" .tooltipDescription="','" .target="','" .getLabel="','" .configEntryLookup="','" class="','" @value-changed="','"> </ha-automation-add-items> '])),this.hass,this._getItems(),!this._narrow,"targets"===this._tab&&this._loadItemsError?this.hass.localize("ui.panel.config.automation.editor.load_target_items_failed"):void 0,this.hass.localize("ui.panel.config.automation.editor.".concat("groups"===this._tab?"".concat(i,"s.select"):"select_target")),this.hass.localize("ui.panel.config.automation.editor.".concat(i,"s.no_items_for_target")),"targets"===this._tab,"targets"===this._tab&&this._selectedTarget&&[].concat((0,D.A)(this._extractTypeAndIdFromTarget(this._selectedTarget)),[this._getSelectedTargetLabel(this._selectedTarget)])||void 0,this._getLabel,this._configEntryLookup,!this._narrow||this._selectedGroup||this._selectedTarget&&(!this._selectedTarget||Object.values(this._selectedTarget)[0])||"blocks"===this._tab?"":"hidden",this._selected))}},{key:"_renderHeader",value:function(){return(0,J.qy)(H||(H=(0,E.A)([' <ha-dialog-header subtitle-position="above"> <span slot="title">',"</span> "," "," </ha-dialog-header> "])),this._getDialogTitle(),this._renderDialogSubtitle(),this._narrow&&(this._selectedGroup||this._selectedTarget)?(0,J.qy)(V||(V=(0,E.A)(['<ha-icon-button-prev slot="navigationIcon" @click="','"></ha-icon-button-prev>'])),this._back):(0,J.qy)(x||(x=(0,E.A)(['<ha-icon-button .path="','" @click="','" slot="navigationIcon"></ha-icon-button>'])),"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",this._close))}},{key:"_renderDialogSubtitle",value:function(){if(!this._narrow)return J.s6;if(this._selectedGroup)return(0,J.qy)(M||(M=(0,E.A)(['<span slot="subtitle">',"</span>"])),this.hass.localize("ui.panel.config.automation.editor.".concat(this._params.type,"s.add")));if(this._selectedTarget){var e,t=this._extractTypeAndIdFromTarget(this._selectedTarget),i=(0,Z.A)(t,2),a=i[0],n=i[1];if(n){if("area"===a){var o,r=null===(o=this.hass.areas[n])||void 0===o?void 0:o.floor_id;e=r?(0,re.X)(this.hass.floors[r])||r:this.hass.localize("ui.panel.config.automation.editor.other_areas")}else if("device"===a){var s,c=null===(s=this.hass.devices[n])||void 0===s?void 0:s.area_id;if(c)e=(0,ae.A)(this.hass.areas[c])||c;else{var l=this.hass.devices[n];e=this.hass.localize("ui.panel.config.automation.editor.".concat("service"===(null==l?void 0:l.entry_type)?"services":"unassigned_devices"))}}else if("entity"===a&&this.hass.states[n]){var d=this.hass.entities[n];if(!d||d.device_id||d.area_id){var h=this.hass.states[n],u=(0,oe.Cf)(h,[{type:"entity"},{type:"device"},{type:"area"}],this.hass.entities,this.hass.devices,this.hass.areas,this.hass.floors),v=(0,Z.A)(u,3),p=v[0],g=v[1];e=[v[2],p?g:void 0].filter(Boolean).join((0,ce.qC)(this.hass)?"  ":"  ")}else{var f,m=n.split(".",2)[0];e=(0,Se.p$)(this.hass.localize,m,null===(f=this._manifests)||void 0===f?void 0:f[m])}}if(e)return(0,J.qy)(S||(S=(0,E.A)(['<span slot="subtitle">',"</span>"])),e)}}return J.s6}},{key:"_getDomainType",value:function(e){var t,i;return Ne.has(e)||"entity"===(null===(t=this._manifests)||void 0===t?void 0:t[e].integration_type)&&!We.has(e)?"dynamicGroups":"helper"===(null===(i=this._manifests)||void 0===i?void 0:i[e].integration_type)?"helpers":"other"}},{key:"_sortDomainsByCollection",value:function(e,t){var i=this,a=[];return Pe[e].collections.forEach(function(e){a.push.apply(a,(0,D.A)(Object.keys(e.groups)))}),t.sort(function(e,t){var n=e[0],o=t[0];if(a.includes(n)&&a.includes(o))return a.indexOf(n)-a.indexOf(o);var r=n,s=o;return a.includes(n)||(r=i._getDomainType(n)),a.includes(o)||(s=i._getDomainType(o)),r===s?(0,se.xL)(e[1].title,t[1].title,i.hass.locale.language):a.indexOf(r)-a.indexOf(s)}).map(function(e){return e[1]})}},{key:"_getDomainGroupedTriggerListItems",value:function(e,t){var i=this,a={};return t.forEach(function(t){var n,o=(0,je.zz)(t);a[o]||(a[o]={title:(0,Se.p$)(e,o,null===(n=i._manifests)||void 0===n?void 0:n[o]),items:[]});a[o].items.push(i._getTriggerListItem(e,o,t)),a[o].items.sort(function(e,t){return(0,se.xL)(e.name,t.name,i.hass.locale.language)})}),this._sortDomainsByCollection(this._params.type,Object.entries(a))}},{key:"_getTriggerListItems",value:function(e,t){var i=this;return t.map(function(t){var a=(0,je.zz)(t);return i._getTriggerListItem(e,a,t)}).sort(function(e,t){return(0,se.xL)(e.name,t.name,i.hass.locale.language)})}},{key:"_getTriggerListItem",value:function(e,t,i){var a=(0,je.hN)(i);return{icon:(0,J.qy)(I||(I=(0,E.A)([' <ha-trigger-icon .hass="','" .trigger="','"></ha-trigger-icon> '])),this.hass,i),key:"".concat(we.VH).concat(i),name:e("component.".concat(t,".triggers.").concat(a,".name"))||i,description:e("component.".concat(t,".triggers.").concat(a,".description"))||i}}},{key:"_getConditionListItem",value:function(e,t,i){var a=(0,ke.YQ)(i);return{icon:(0,J.qy)(O||(O=(0,E.A)([' <ha-condition-icon .hass="','" .condition="','"></ha-condition-icon> '])),this.hass,i),key:"".concat(we.VH).concat(i),name:e("component.".concat(t,".conditions.").concat(a,".name"))||i,description:e("component.".concat(t,".conditions.").concat(a,".description"))||i}}},{key:"_getDomainGroupedActionListItems",value:function(e,t){var i=this,a={};return t.forEach(function(t){var n,o,r,s=t.split(".",2),c=(0,Z.A)(s,2),l=c[0],d=c[1];a[l]||(a[l]={title:(0,Se.p$)(e,l,null===(r=i._manifests)||void 0===r?void 0:r[l]),items:[]});a[l].items.push({icon:(0,J.qy)(j||(j=(0,E.A)([' <ha-service-icon .hass="','" .service="','"></ha-service-icon> '])),i.hass,"".concat(l,".").concat(d)),key:"".concat(we.VH).concat(l,".").concat(d),name:"".concat(l?"":"".concat((0,Se.p$)(e,l),": ")).concat(i.hass.localize("component.".concat(l,".services.").concat(d,".name"))||(null===(n=i.hass.services[l][d])||void 0===n?void 0:n.name)||d),description:i.hass.localize("component.".concat(l,".services.").concat(d,".description"))||(null===(o=i.hass.services[l][d])||void 0===o?void 0:o.description)||""}),a[l].items.sort(function(e,t){return(0,se.xL)(e.name,t.name,i.hass.locale.language)})}),this._sortDomainsByCollection(this._params.type,Object.entries(a))}},{key:"_getDomainGroupedConditionListItems",value:function(e,t){var i=this,a={};return t.forEach(function(t){var n,o=(0,ke.ob)(t);a[o]||(a[o]={title:(0,Se.p$)(e,o,null===(n=i._manifests)||void 0===n?void 0:n[o]),items:[]});a[o].items.push(i._getConditionListItem(e,o,t)),a[o].items.sort(function(e,t){return(0,se.xL)(e.name,t.name,i.hass.locale.language)})}),this._sortDomainsByCollection(this._params.type,Object.entries(a))}},{key:"_close",value:function(){this._open=!1}},{key:"_back",value:function(){ie.G.history.back()}},{key:"_groupSelected",value:function(e){var t=this,i=e.currentTarget;if(this._selectedGroup===i.value)return this._selectedGroup=void 0,void(this._selectedCollectionIndex=void 0);this._selectedGroup=i.value,this._selectedCollectionIndex=e.currentTarget.index,ie.G.history.pushState({dialogData:{group:this._selectedGroup,collectionIndex:this._selectedCollectionIndex}},""),requestAnimationFrame(function(){var e;null===(e=t._itemsListElement)||void 0===e||e.scrollTo(0,0)})}},{key:"_paste",value:function(){this._params.add(Ze.u),this.closeDialog()}},{key:"_selected",value:function(e){var t;"targets"===this._tab&&this._selectedTarget&&Object.values(this._selectedTarget)[0]&&(t=this._selectedTarget),this._params.add(e.detail.value,t),this.closeDialog()}},{key:"_getItemsByTarget",value:(i=(0,q.A)((0,T.A)().m(function e(){var t,i,a,n,o;return(0,T.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this._selectedTarget){e.n=1;break}return e.a(2);case 1:if(e.p=1,"trigger"!==this._params.type){e.n=3;break}return e.n=2,(0,Oe.oV)(this.hass.callWS,this._selectedTarget);case 2:return t=e.v,this._targetItems=this._getDomainGroupedTriggerListItems(this.hass.localize,t),e.a(2);case 3:if("condition"!==this._params.type){e.n=5;break}return e.n=4,(0,Oe.vN)(this.hass.callWS,this._selectedTarget);case 4:return i=e.v,this._targetItems=this._getDomainGroupedConditionListItems(this.hass.localize,i),e.a(2);case 5:if("action"!==this._params.type){e.n=7;break}return e.n=6,(0,Oe.j_)(this.hass.callWS,this._selectedTarget);case 6:a=e.v,n=a.filter(function(e){return!e.startsWith("homeassistant.")}),this._targetItems=this._getDomainGroupedActionListItems(this.hass.localize,n);case 7:e.n=9;break;case 8:e.p=8,o=e.v,this._loadItemsError=!0,console.error("Error fetching ".concat(this._params.type,"s for target"),o);case 9:return e.a(2)}},e,this,[[1,8]])})),function(){return i.apply(this,arguments)})},{key:"_switchTab",value:function(e){this._tab=e.detail.value}},{key:"_searchItemSelected",value:function(e){var t=e.detail;if(t.type&&!["floor","area"].includes(t.type))return this._params.add(t.id),void this.closeDialog();var i=(0,Oe.OJ)(t);this._filter="",this._selectedTarget=(0,F.A)({},"".concat(i,"_id"),t.id.split(Oe.G_,2)[1]),this._tab="targets"}},{key:"_handleClosed",value:function(){this._closing||this.closeDialog()}},{key:"_getDialogTitle",value:function(){var e;if(this._narrow&&this._selectedGroup)return(0,we.Q)(this._selectedGroup)?(0,Se.p$)(this.hass.localize,(0,we.Dt)(this._selectedGroup),null===(e=this._manifests)||void 0===e?void 0:e[(0,we.Dt)(this._selectedGroup)]):this.hass.localize("ui.panel.config.automation.editor.".concat(this._params.type,"s.groups.").concat(this._selectedGroup,".label"))||this.hass.localize("ui.panel.config.automation.editor.".concat(this._params.type,"s.type.").concat(this._selectedGroup,".label"));if(this._narrow&&this._selectedTarget){var t=this._getSelectedTargetLabel(this._selectedTarget);if(t)return t}return this.hass.localize("ui.panel.config.automation.editor.".concat(this._params.type,"s.add"))}}],[{key:"styles",get:function(){return[(0,J.AH)(z||(z=(0,E.A)(["ha-bottom-sheet{--ha-bottom-sheet-height:90vh;--ha-bottom-sheet-height:calc(100dvh - var(--ha-space-12));--ha-bottom-sheet-max-height:var(--ha-bottom-sheet-height);--ha-bottom-sheet-max-width:888px;--ha-bottom-sheet-padding:0;--ha-bottom-sheet-surface-background:var(--card-background-color)}ha-wa-dialog{--dialog-content-padding:0;--ha-dialog-min-height:min(\n            800px,\n            calc(\n              100vh - max(\n                  var(--safe-area-inset-bottom),\n                  var(--ha-space-4)\n                ) - max(var(--safe-area-inset-top), var(--ha-space-4))\n            )\n          );--ha-dialog-min-height:min(\n            800px,\n            calc(\n              100dvh - max(\n                  var(--safe-area-inset-bottom),\n                  var(--ha-space-4)\n                ) - max(var(--safe-area-inset-top), var(--ha-space-4))\n            )\n          );--ha-dialog-max-height:var(--ha-dialog-min-height)}search-input{display:block;margin:0 var(--ha-space-4)}ha-button-toggle-group{--ha-button-toggle-group-padding:var(--ha-space-3) var(--ha-space-4) 0}.content{flex:1;min-height:0;height:100%;display:flex}.content.column{flex-direction:column}ha-md-list{padding:0}.groups,ha-automation-add-from-target{border-radius:var(--ha-border-radius-xl);border:1px solid var(--ha-color-border-neutral-quiet);margin:var(--ha-space-3)}.groups,ha-automation-add-from-target{overflow:auto;flex:4;margin-inline-end:0}ha-automation-add-from-target.hidden{display:none}.groups{--md-list-item-leading-space:var(--ha-space-3);--md-list-item-trailing-space:var(--md-list-item-leading-space);--md-list-item-bottom-space:var(--ha-space-1);--md-list-item-top-space:var(--md-list-item-bottom-space);--md-list-item-supporting-text-font:var(--ha-font-family-body);--md-list-item-one-line-container-height:var(--ha-space-10)}ha-bottom-sheet .groups,ha-bottom-sheet ha-automation-add-from-target{margin:var(--ha-space-3)}.groups .selected{background-color:var(--ha-color-fill-primary-normal-active);--md-list-item-label-text-color:var(--ha-color-on-primary-normal);--icon-primary-color:var(--ha-color-on-primary-normal)}.groups .selected ha-svg-icon{color:var(--ha-color-on-primary-normal)}ha-section-title{top:0;position:sticky;z-index:1}ha-automation-add-items{flex:6}.content.column ha-automation-add-from-target,.content.column ha-automation-add-items{flex:none}.content.column ha-automation-add-items{min-height:160px}.content.column ha-automation-add-from-target{overflow:clip}ha-wa-dialog ha-automation-add-items{margin-top:var(--ha-space-3)}ha-bottom-sheet .groups{padding-bottom:max(var(--safe-area-inset-bottom),var(--ha-space-4))}.groups.hidden,ha-automation-add-items.hidden{display:none}.groups{padding-bottom:max(var(--safe-area-inset-bottom),var(--ha-space-3))}ha-icon-next{width:var(--ha-space-6)}ha-md-list-item.paste{border-bottom:1px solid var(--ha-color-border-neutral-quiet)}ha-svg-icon.plus{color:var(--primary-color)}.shortcut-label{display:flex;gap:var(--ha-space-3);justify-content:space-between}.shortcut-label .supporting-text{color:var(--secondary-text-color);font-size:var(--ha-font-size-s)}.shortcut-label .shortcut{--mdc-icon-size:var(--ha-space-3);display:inline-flex;flex-direction:row;align-items:center;gap:2px}.shortcut-label .shortcut span{font-size:var(--ha-font-size-s);font-family:var(--ha-font-family-code);color:var(--ha-color-text-secondary)}.section-title-wrapper{height:0;position:relative}.section-title-wrapper ha-section-title{position:absolute;top:0;width:calc(100% - var(--ha-space-4));z-index:1}ha-automation-add-search{flex:1}"])))]}}]);var i,a,R}((0,ze.b)(J.WF));(0,R.Cg)([(0,Q.MZ)({attribute:!1})],Ue.prototype,"hass",void 0),(0,R.Cg)([(0,Q.wk)()],Ue.prototype,"_open",void 0),(0,R.Cg)([(0,Q.wk)()],Ue.prototype,"_params",void 0),(0,R.Cg)([(0,Q.wk)()],Ue.prototype,"_selectedCollectionIndex",void 0),(0,R.Cg)([(0,Q.wk)()],Ue.prototype,"_selectedGroup",void 0),(0,R.Cg)([(0,Q.wk)()],Ue.prototype,"_selectedTarget",void 0),(0,R.Cg)([(0,Q.wk)()],Ue.prototype,"_tab",void 0),(0,R.Cg)([(0,Q.wk)()],Ue.prototype,"_filter",void 0),(0,R.Cg)([(0,Q.wk)()],Ue.prototype,"_manifests",void 0),(0,R.Cg)([(0,Q.wk)()],Ue.prototype,"_domains",void 0),(0,R.Cg)([(0,Q.wk)()],Ue.prototype,"_bottomSheetMode",void 0),(0,R.Cg)([(0,Q.wk)()],Ue.prototype,"_narrow",void 0),(0,R.Cg)([(0,Q.wk)()],Ue.prototype,"_triggerDescriptions",void 0),(0,R.Cg)([(0,Q.wk)()],Ue.prototype,"_targetItems",void 0),(0,R.Cg)([(0,Q.wk)()],Ue.prototype,"_loadItemsError",void 0),(0,R.Cg)([(0,Q.wk)()],Ue.prototype,"_newTriggersAndConditions",void 0),(0,R.Cg)([(0,Q.wk)()],Ue.prototype,"_conditionDescriptions",void 0),(0,R.Cg)([(0,Q.wk)(),(0,$.Fg)({context:He.HD,subscribe:!0})],Ue.prototype,"_labelRegistry",void 0),(0,R.Cg)([(0,Q.P)("ha-automation-add-items")],Ue.prototype,"_itemsListElement",void 0),(0,R.Cg)([(0,Q.P)(".content")],Ue.prototype,"_contentElement",void 0),Ue=(0,R.Cg)([(0,Q.EM)("add-automation-element-dialog")],Ue),a()}catch(Re){a(Re)}})},70897:function(e,t,i){i.a(e,async function(e,t){try{var a,n,o,r,s,c,l,d,h,u,v,p,g,f,m,_,y,b,A,C,w,k,L,H,V,x,M,S,I,O,j,z=i(26520),G=i(61397),T=i(50264),q=i(72153),E=i(78261),D=i(44734),Z=i(43080),F=i(69683),B=i(6454),P=i(25460),W=(i(28706),i(2008),i(23792),i(62062),i(44114),i(26910),i(18111),i(22489),i(7588),i(61701),i(69085),i(5506),i(53921),i(79432),i(26099),i(16034),i(27495),i(25440),i(90744),i(11392),i(23500),i(62826)),N=i(99222),K=i(73984),U=i(16527),R=i(96196),$=i(77845),J=i(32288),Q=i(22786),X=i(1087),Y=i(65522),ee=i(79),te=i(74705),ie=i(52220),ae=(i(18198),i(43661),i(17308),i(2846),i(69464),i(93367)),ne=(i(67094),i(76952)),oe=i(43870),re=i(77423),se=i(38911),ce=i(44927),le=i(95350),de=i(5904),he=i(88555),ue=i(44144),ve=e([N,K,ae]);[N,K,ae]=ve.then?(await ve)():ve;var pe="M20 2H4C2.9 2 2 2.9 2 4V20C2 21.11 2.9 22 4 22H20C21.11 22 22 21.11 22 20V4C22 2.9 21.11 2 20 2M4 6L6 4H10.9L4 10.9V6M4 13.7L13.7 4H18.6L4 18.6V13.7M20 18L18 20H13.1L20 13.1V18M20 10.3L10.3 20H5.4L20 5.4V10.3Z",ge=function(e){function t(){var e;(0,D.A)(this,t);for(var i=arguments.length,w=new Array(i),k=0;k<i;k++)w[k]=arguments[k];return(e=(0,F.A)(this,t,[].concat(w))).narrow=!1,e._floorAreas=[],e._entries={},e._fullHeight=!1,e._configEntryLookup={},e._renderNarrow=(0,Q.A)(function(t,i){var n=(0,E.A)(Object.entries(i)[0],2),o=n[0],r=n[1],s=o.replace("_id","");if(!s||"label"===s)return R.s6;if("floor"===s)return e._renderAreas(t["floor".concat(he.G_).concat(null!=r?r:"")].areas);if("area"===s&&r){var c,l=t["floor".concat(he.G_).concat((null===(c=e.areas[r])||void 0===c?void 0:c.floor_id)||"")].areas["area".concat(he.G_).concat(r)],d=l.devices,h=l.entities,u=Object.keys(d).length;return(0,R.qy)(a||(a=(0,q.A)([" "," "," "])),u?e._renderDevices(d):R.s6,h.length?e._renderEntities(h):R.s6)}if(!r&&"area"===s||"service"===s){var v=t["".concat(s).concat(he.G_)].devices;return e._renderDevices(v)}if(r&&"device"===s){var p,g=null===(p=e.devices[r])||void 0===p?void 0:p.area_id;if(g){var f,m=(null===(f=e.areas[g])||void 0===f?void 0:f.floor_id)||"",_=t["floor".concat(he.G_).concat(m)].areas["area".concat(he.G_).concat(g)].devices[r].entities;return _.length?e._renderEntities(_):R.s6}var y="service"===e.devices[r].entry_type,b=t["".concat(y?"service":"area").concat(he.G_)].devices[r].entities;return b.length?e._renderEntities(b):R.s6}if("device"===s||"helper"===s){var A=t["".concat(s).concat(he.G_)].devices;return e._renderDomains(A,"device"===s?"entity_":"helper_")}if(!r&&(s.startsWith("entity")||s.startsWith("helper"))){var C=t["".concat(s.startsWith("entity")?"device":"helper").concat(he.G_)].devices["".concat(s).concat(he.G_)].entities;return e._renderEntities(C)}return R.s6}),e._renderFloors=(0,Q.A)(function(t,i,a){var l=!e._floorAreas.length||!e._floorAreas[0].id&&!e._floorAreas[0].areas.length,d=l?void 0:e._floorAreas.map(function(t,n){return 0!==n||t.id?e._renderItem(t.id?t.primary:e.localize("ui.panel.config.automation.editor.other_areas"),t.id||"floor".concat(he.G_),!t.id,!!t.id&&e._getSelectedTargetId(a)===t.id,!i[t.id||"floor".concat(he.G_)].open&&!!Object.keys(i[t.id||"floor".concat(he.G_)].areas).length,i[t.id||"floor".concat(he.G_)].open,e._renderFloorIcon(t),i[t.id||"floor".concat(he.G_)].open?e._renderAreas(i[t.id||"floor".concat(he.G_)].areas):void 0):e._renderAreas(i[t.id||"floor".concat(he.G_)].areas)});return(0,R.qy)(n||(n=(0,q.A)(["<ha-section-title>","</ha-section-title> ",""])),e.localize("ui.panel.config.automation.editor.home"),l?(0,R.qy)(o||(o=(0,q.A)(['<ha-md-list> <ha-md-list-item type="text"> <div slot="headline"> '," </div> </ha-md-list-item> </ha-md-list>"])),e.localize("ui.components.area-picker.no_areas")):(0,R.qy)(r||(r=(0,q.A)(["",""])),t?(0,R.qy)(s||(s=(0,q.A)(["<ha-md-list>","</ha-md-list>"])),d):(0,R.qy)(c||(c=(0,q.A)(['<wa-tree @wa-selection-change="','">',"</wa-tree>"])),e._handleSelectionChange,d)))}),e._renderLabels=(0,Q.A)(function(t,i){var a=e._getLabelsMemoized(e.states,e.areas,e.devices,e.entities,e._labelRegistry,void 0,void 0,void 0,void 0,void 0,void 0,"label".concat(he.G_));return a.length?(0,R.qy)(l||(l=(0,q.A)(["<ha-section-title>","</ha-section-title> <ha-md-list> "," </ha-md-list>"])),e.localize("ui.components.label-picker.labels"),a.map(function(a){return(0,R.qy)(d||(d=(0,q.A)(['<ha-md-list-item interactive type="button" .target="','" @click="','" class="','">',' <div slot="headline">',"</div> "," </ha-md-list-item>"])),a.id,e._selectItem,e._getSelectedTargetId(i)===a.id?"selected":"",a.icon?(0,R.qy)(h||(h=(0,q.A)(['<ha-icon slot="start" .icon="','"></ha-icon>'])),a.icon):a.icon_path?(0,R.qy)(u||(u=(0,q.A)(['<ha-svg-icon slot="start" .path="','"></ha-svg-icon>'])),a.icon_path):R.s6,a.primary,t?(0,R.qy)(v||(v=(0,q.A)(['<ha-icon-next slot="end"></ha-icon-next> ']))):R.s6)})):R.s6}),e._renderUnassigned=(0,Q.A)(function(t,i,a){var n,o,r,s,c=Object.keys((null===(n=i["area".concat(he.G_)])||void 0===n?void 0:n.devices)||{}).length,l=Object.keys((null===(o=i["service".concat(he.G_)])||void 0===o?void 0:o.devices)||{}).length,d=Object.keys((null===(r=i["device".concat(he.G_)])||void 0===r?void 0:r.devices)||{}).length,h=Object.keys((null===(s=i["helper".concat(he.G_)])||void 0===s?void 0:s.devices)||{}).length;if(!(c||l||d||h))return R.s6;var u=[];if(d){var v=i["device".concat(he.G_)].open;u.push(e._renderItem(e.localize("ui.components.target-picker.type.entities"),"device".concat(he.G_),!0,!1,!v,v,void 0,i["device".concat(he.G_)].open?e._renderDomains(i["device".concat(he.G_)].devices,"entity_"):void 0))}if(h){var m=i["helper".concat(he.G_)].open;u.push(e._renderItem(e.localize("ui.panel.config.automation.editor.helpers"),"helper".concat(he.G_),!0,!1,!m,m,void 0,i["helper".concat(he.G_)].open?e._renderDomains(i["helper".concat(he.G_)].devices,"helper_"):void 0))}if(c){var _=i["area".concat(he.G_)].open;u.push(e._renderItem(e.localize("ui.components.target-picker.type.devices"),"area".concat(he.G_),!0,!1,!_,_,void 0,i["area".concat(he.G_)].open?e._renderDevices(i["area".concat(he.G_)].devices):void 0))}if(l){var y=i["service".concat(he.G_)].open;u.push(e._renderItem(e.localize("ui.panel.config.automation.editor.services"),"service".concat(he.G_),!0,!1,!y,y,void 0,i["service".concat(he.G_)].open?e._renderDevices(i["service".concat(he.G_)].devices):void 0))}return(0,R.qy)(p||(p=(0,q.A)(["<ha-section-title>","</ha-section-title>"," "])),e.localize("ui.panel.config.automation.editor.unassigned"),t?(0,R.qy)(g||(g=(0,q.A)(["<ha-md-list>","</ha-md-list>"])),u):(0,R.qy)(f||(f=(0,q.A)(['<wa-tree @wa-selection-change="','"> '," </wa-tree>"])),e._handleSelectionChange,u))}),e._renderFloorIcon=function(e){return function(t){return e.id&&e.floor?(0,R.qy)(m||(m=(0,q.A)(['<ha-floor-icon slot="','" .floor="','"></ha-floor-icon>'])),(0,J.J)(t),e.floor):(0,R.qy)(_||(_=(0,q.A)(['<ha-svg-icon slot="','" .path="','"></ha-svg-icon>'])),(0,J.J)(t),pe)}},e._renderAreaIcon=function(e){return function(t){return e?(0,R.qy)(y||(y=(0,q.A)(['<ha-icon slot="','" .icon="','"></ha-icon>'])),(0,J.J)(t),e):(0,R.qy)(b||(b=(0,q.A)(['<ha-svg-icon slot="','" .path="','"></ha-svg-icon>'])),(0,J.J)(t),pe)}},e._renderDomainIcon=function(t){return function(i){var a;return(0,R.qy)(A||(A=(0,q.A)([' <img slot="','" alt="" crossorigin="anonymous" referrerpolicy="no-referrer" src="','"> '])),(0,J.J)(i),(0,ue.MR)({domain:t,type:"icon",darkOptimized:null===(a=e.hass.themes)||void 0===a?void 0:a.darkMode}))}},e._renderEntityIcon=function(t){return function(i){return(0,R.qy)(C||(C=(0,q.A)(['<ha-state-icon .hass="','" slot="','" .stateObj="','"></ha-state-icon>'])),e.hass,(0,J.J)(i),t)}},e._getAreaDeviceLookupMemoized=(0,Q.A)(function(e){return(0,oe.QI)(Object.values(e))}),e._getAreaEntityLookupMemoized=(0,Q.A)(function(e){return(0,oe.bQ)(Object.values(e))}),e._getDeviceEntityLookupMemoized=(0,Q.A)(function(e){return(0,ce.I3)(Object.values(e))}),e._getSelectedTargetId=(0,Q.A)(function(e){return e&&Object.keys(e).length?"".concat(Object.keys(e)[0].replace("_id","")).concat(he.G_).concat(Object.values(e)[0]):void 0}),e._getLabelsMemoized=(0,Q.A)(de.I),e._formatId=(0,Q.A)(function(e){return[e.type,e.id].join(he.G_)}),e}return(0,B.A)(t,e),(0,Z.A)(t,[{key:"willUpdate",value:function(e){(0,P.A)(t,"willUpdate",this,3)([e]),this.hasUpdated||this._initialDataLoad(),(e.has("value")||e.has("narrow"))&&(this._fullHeight=!this.narrow||!this.value||!Object.values(this.value)[0],this.style.setProperty("--max-height",this._fullHeight?"none":"50%"))}},{key:"updated",value:function(e){(e.has("value")||e.has("narrow")||void 0===this._showShowMoreButton)&&this._setShowTargetShowMoreButton()}},{key:"_initialDataLoad",value:(N=(0,T.A)((0,G.A)().m(function e(){return(0,G.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this._loadConfigEntries();case 1:this._getTreeData();case 2:return e.a(2)}},e,this)})),function(){return N.apply(this,arguments)})},{key:"_setShowTargetShowMoreButton",value:(W=(0,T.A)((0,G.A)().m(function e(){return(0,G.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.updateComplete;case 1:this._showShowMoreButton=this.narrow&&this.value&&!!Object.values(this.value)[0]&&this.scrollHeight>this.clientHeight;case 2:return e.a(2)}},e,this)})),function(){return W.apply(this,arguments)})},{key:"render",value:function(){return this.manifests&&this._configEntryLookup?(0,R.qy)(w||(w=(0,q.A)([" "," "," "])),this.narrow&&this.value?this._renderNarrow(this._entries,this.value):(0,R.qy)(k||(k=(0,q.A)([" "," "," "," "])),this._renderFloors(this.narrow,this._entries,this.value),this._renderUnassigned(this.narrow,this._entries,this.value),this._renderLabels(this.narrow,this.value)),this.narrow&&this._showShowMoreButton&&!this._fullHeight?(0,R.qy)(L||(L=(0,q.A)([' <div class="targets-show-more"> <ha-button appearance="filled" @click="','"> '," </ha-button> </div> "])),this._expandHeight,this.localize("ui.panel.config.automation.editor.show_more")):R.s6):R.s6}},{key:"_renderAreas",value:function(e){var t=this,i=Object.keys(e).filter(function(e){var i=e.split(he.G_,2),a=(0,E.A)(i,2)[1];return t.areas[a]}).map(function(e){var i=e.split(he.G_,2),a=(0,E.A)(i,2)[1],n=t.areas[a];return[e,(0,Y.A)(n)||n.area_id,n.floor_id||void 0,n.icon]}).map(function(e){var i=(0,E.A)(e,4),a=i[0],n=i[1],o=i[2],r=i[3],s=t._entries["floor".concat(he.G_).concat(o||"")].areas[a],c=s.open,l=s.devices,d=s.entities,h=Object.keys(l).length,u=h+d.length;return t._renderItem(n,a,!1,t._getSelectedTargetId(t.value)===a,!c&&!!u,c,t._renderAreaIcon(r),c?(0,R.qy)(H||(H=(0,q.A)([" "," "," "])),h?t._renderDevices(l):R.s6,d.length?t._renderEntities(d):R.s6):void 0)});return this.narrow?(0,R.qy)(V||(V=(0,q.A)(["<ha-section-title>","</ha-section-title> <ha-md-list>","</ha-md-list>"])),this.localize("ui.components.target-picker.type.areas"),i):i}},{key:"_renderDevices",value:function(e){var t=this,i=Object.keys(e).filter(function(e){return t.devices[e]}).map(function(e){var i,a=t.devices[e],n=a.primary_config_entry?null===(i=t._configEntryLookup)||void 0===i?void 0:i[a.primary_config_entry]:void 0,o=null==n?void 0:n.domain;return[e,(0,ee.xn)(a)||e,o]}).sort(function(e,i){var a=(0,E.A)(e,2)[1],n=void 0===a?"zzz":a,o=(0,E.A)(i,2)[1],r=void 0===o?"zzz":o;return(0,ie.xL)(n,r,t.hass.locale.language)}).map(function(i){var a=(0,E.A)(i,3),n=a[0],o=a[1],r=a[2],s=e[n],c=s.open,l=s.entities;return t._renderItem(o||n,"device".concat(he.G_).concat(n),!1,t._getSelectedTargetId(t.value)==="device".concat(he.G_).concat(n),!c&&!!l.length,c,r?t._renderDomainIcon(r):void 0,c?t._renderEntities(l):void 0)});return this.narrow?(0,R.qy)(x||(x=(0,q.A)(["<ha-section-title>","</ha-section-title> <ha-md-list>","</ha-md-list>"])),this.localize("ui.components.target-picker.type.devices"),i):i}},{key:"_renderDomains",value:function(e,t){var i=this,a=Object.keys(e).map(function(e){var a=e.substring(t.length,e.length-he.G_.length);return[e,(0,le.p$)(i.localize,a,i.manifests[a]),a]}).sort(function(e,t){var a=(0,E.A)(e,2)[1],n=void 0===a?"zzz":a,o=(0,E.A)(t,2)[1],r=void 0===o?"zzz":o;return(0,ie.xL)(n,r,i.hass.locale.language)}).map(function(t){var a=(0,E.A)(t,3),n=a[0],o=a[1],r=a[2],s=e[n],c=s.open,l=s.entities;return i._renderItem(o,n,!0,!1,!c&&!!l.length,c,i._renderDomainIcon(r),c?i._renderEntities(l):void 0)});return this.narrow?(0,R.qy)(M||(M=(0,q.A)(["<ha-section-title>","</ha-section-title> <ha-md-list> "," </ha-md-list>"])),this.localize("ui.components.target-picker.type.devices"),a):a}},{key:"_renderEntities",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t.length)return R.s6;var i=t.filter(function(t){return e.states[t]}).map(function(t){var i,a=e.states[t],n=(0,te.Cf)(a,[{type:"entity"},{type:"device"},{type:"area"}],e.entities,e.devices,e.areas,e.floors),o=(0,E.A)(n,2),r=o[0],s=o[1],c=r||s||t;return null!==(i=e.entities[t])&&void 0!==i&&i.hidden&&(c+=" (".concat(e.localize("ui.panel.config.automation.editor.entity_hidden"),")")),[t,c,a]}).sort(function(t,i){var a=(0,E.A)(t,2)[1],n=(0,E.A)(i,2)[1];return(0,ie.xL)(a,n,e.hass.locale.language)}).map(function(t){var i=(0,E.A)(t,3),a=i[0],n=i[1],o=i[2];return e._renderItem(n,"entity".concat(he.G_).concat(a),!1,e._getSelectedTargetId(e.value)==="entity".concat(he.G_).concat(a),!1,!1,e._renderEntityIcon(o))});return this.narrow?(0,R.qy)(S||(S=(0,q.A)(["<ha-section-title>","</ha-section-title> <ha-md-list>","</ha-md-list>"])),this.localize("ui.components.target-picker.type.entities"),i):i}},{key:"_renderItem",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0;return this.narrow?(0,R.qy)(I||(I=(0,q.A)(['<ha-md-list-item interactive type="button" .target="','" @click="','" .title="','"> ',' <div slot="headline">','</div> <ha-icon-next slot="end"></ha-icon-next> </ha-md-list-item>'])),t,this._selectItem,e,null==r?void 0:r("start"),e):(0,R.qy)(O||(O=(0,q.A)([' <wa-tree-item .preventSelection="','" .target="','" .selected="','" .lazy="','" @wa-lazy-load="','" @wa-collapse="','" .expanded="','" .title="','"> '," "," "," </wa-tree-item> "])),i,t,a,n,this._expandItem,this._collapseItem,o,e,null==r?void 0:r(),e,s||R.s6)}},{key:"_getTreeData",value:function(){var e=this;this._floorAreas=(0,ne.g3)(this.states,this.floors,this.areas,this.devices,this.entities,this._formatId,void 0,void 0,void 0,void 0,void 0,void 0,void 0),this._floorAreas.forEach(function(t){e._entries[t.id||"floor".concat(he.G_)]={open:!1,areas:{}},t.areas.forEach(function(i){e._entries[t.id||"floor".concat(he.G_)].areas[i.id]=e._loadArea(i)})}),this._loadUnassignedDevices(),this._loadUnassignedEntities(),this._entries=Object.assign({},this._entries),this.value&&this._valueChanged(this._getSelectedTargetId(this.value),!this.narrow)}},{key:"_loadUnassignedDevices",value:function(){var e=this,t=Object.values(this.devices).filter(function(e){return!e.area_id}),i={},a={};t.forEach(function(t){var n,o=t.id,r=t.entry_type,s=e.devices[o];if(s&&!s.disabled_by){var c={open:!1,entities:(null===(n=e._getDeviceEntityLookupMemoized(e.entities)[o])||void 0===n?void 0:n.map(function(e){return e.entity_id}))||[]};"service"!==r?i[o]=c:a[o]=c}}),Object.keys(i).length&&(this._entries=Object.assign(Object.assign({},this._entries),{},(0,z.A)({},"area".concat(he.G_),{open:!1,devices:i}))),Object.keys(a).length&&(this._entries=Object.assign(Object.assign({},this._entries),{},(0,z.A)({},"service".concat(he.G_),{open:!1,devices:a})))}},{key:"_loadUnassignedEntities",value:function(){var e=this;Object.values(this.entities).filter(function(e){return!e.area_id&&!e.device_id}).forEach(function(t){var i=t.entity_id,a=i.split(".",2)[0],n=e.manifests?e.manifests[a]:void 0;if("helper"===(null==n?void 0:n.integration_type))return e._entries["helper".concat(he.G_)]||(e._entries["helper".concat(he.G_)]={open:!1,devices:{}}),e._entries["helper".concat(he.G_)].devices["helper_".concat(a).concat(he.G_)]||(e._entries["helper".concat(he.G_)].devices["helper_".concat(a).concat(he.G_)]={open:!1,entities:[]}),void e._entries["helper".concat(he.G_)].devices["helper_".concat(a).concat(he.G_)].entities.push(i);e._entries["device".concat(he.G_)]||(e._entries["device".concat(he.G_)]={open:!1,devices:{}}),e._entries["device".concat(he.G_)].devices["entity_".concat(a).concat(he.G_)]||(e._entries["device".concat(he.G_)].devices["entity_".concat(a).concat(he.G_)]={open:!1,entities:[]}),e._entries["device".concat(he.G_)].devices["entity_".concat(a).concat(he.G_)].entities.push(i)})}},{key:"_loadArea",value:function(e){var t=this,i=e.id.split(he.G_,2),a=(0,E.A)(i,2)[1],n=this._getAreaDeviceLookupMemoized(this.devices)[a]||[],o=this._getAreaEntityLookupMemoized(this.entities)[a]||[],r={};n.forEach(function(e){var i,a=e.id,n=t.devices[a];n&&!n.disabled_by&&(r[a]={open:!1,entities:(null===(i=t._getDeviceEntityLookupMemoized(t.entities)[a])||void 0===i?void 0:i.map(function(e){return e.entity_id}))||[]})});var s=[];return o.forEach(function(e){e.device_id&&r[e.device_id]||s.push(e.entity_id)}),{open:!1,devices:r,entities:s}}},{key:"_expandTreeToItem",value:function(e,t){if("floor"!==e&&"label"!==e)if("entity"!==e)if("device"!==e){if("area"===e){var i,a="floor".concat(he.G_).concat((null===(i=this.areas[t])||void 0===i?void 0:i.floor_id)||"");this._entries=Object.assign(Object.assign({},this._entries),{},(0,z.A)({},a,Object.assign(Object.assign({},this._entries[a]),{},{open:!0})))}}else{var n,o,r=null===(n=this.devices[t])||void 0===n?void 0:n.area_id;if(!r){var s=this.devices[t],c="".concat("service"===s.entry_type?"service":"area").concat(he.G_);return void(this._entries=Object.assign(Object.assign({},this._entries),{},(0,z.A)({},c,Object.assign(Object.assign({},this._entries[c]),{},{open:!0}))))}var l="floor".concat(he.G_).concat((null===(o=this.areas[r])||void 0===o?void 0:o.floor_id)||""),d="area".concat(he.G_).concat(r);this._entries=Object.assign(Object.assign({},this._entries),{},(0,z.A)({},l,Object.assign(Object.assign({},this._entries[l]),{},{open:!0,areas:Object.assign(Object.assign({},this._entries[l].areas),{},(0,z.A)({},d,Object.assign(Object.assign({},this._entries[l].areas[d]),{},{open:!0})))})))}else{var h,u,v=null===(h=this.entities[t])||void 0===h?void 0:h.device_id,p=v?this.devices[v]:void 0,g=v&&(null==p?void 0:p.area_id)||void 0;if(!g){var f,m,_,y=this.entities[t];if(!v&&y.area_id)f="floor".concat(he.G_).concat((null===(_=this.areas[y.area_id])||void 0===_?void 0:_.floor_id)||""),m="area".concat(he.G_).concat(y.area_id);else if(v)f="".concat("service"===p.entry_type?"service":"area").concat(he.G_),m=v;else{var b,A=t.split(".",1)[0],C="helper"===(null===(b=this.manifests[A])||void 0===b?void 0:b.integration_type);f=C?"helper".concat(he.G_):"device".concat(he.G_),m="".concat(C?"helper_":"entity_").concat(A).concat(he.G_)}return void(this._entries=Object.assign(Object.assign({},this._entries),{},(0,z.A)({},f,Object.assign(Object.assign({},this._entries[f]),{},{open:!0,devices:Object.assign(Object.assign({},this._entries[f].devices),{},(0,z.A)({},m,Object.assign(Object.assign({},this._entries[f].devices[m]),{},{open:!0})))}))))}var w="floor".concat(he.G_).concat((null===(u=this.areas[g])||void 0===u?void 0:u.floor_id)||""),k="area".concat(he.G_).concat(g);this._entries=Object.assign(Object.assign({},this._entries),{},(0,z.A)({},w,Object.assign(Object.assign({},this._entries[w]),{},{open:!0,areas:Object.assign(Object.assign({},this._entries[w].areas),{},(0,z.A)({},k,Object.assign(Object.assign({},this._entries[w].areas[k]),{},{open:!0,devices:Object.assign(Object.assign({},this._entries[w].areas[k].devices),{},(0,z.A)({},v,Object.assign(Object.assign({},this._entries[w].areas[k].devices[v]),{},{open:!0})))})))})))}}},{key:"_handleSelectionChange",value:function(e){var t=e.detail.selection[0];null!=t&&t.target&&this._valueChanged(t.target)}},{key:"_selectItem",value:function(e){var t=e.currentTarget.target;t&&this._valueChanged(t)}},{key:"_valueChanged",value:(j=(0,T.A)((0,G.A)().m(function e(t){var i,a,n,o,r,s,c,l=arguments;return(0,G.A)().w(function(e){for(;;)switch(e.n){case 0:if(i=l.length>1&&void 0!==l[1]&&l[1],a=t.split(he.G_,2),n=(0,E.A)(a,2),o=n[0],r=n[1],(0,X.r)(this,"value-changed",{value:(0,z.A)({},"".concat(o,"_id"),r||void 0)}),!i||!r){e.n=2;break}return this._expandTreeToItem(o,r),e.n=1,this.updateComplete;case 1:"label"===o?null===(s=this.shadowRoot.querySelector("ha-md-list-item.selected"))||void 0===s||s.scrollIntoView({block:"center"}):null===(c=this.shadowRoot.querySelector("wa-tree-item[selected]"))||void 0===c||c.scrollIntoView({block:"center"});case 2:return e.a(2)}},e,this)})),function(e){return j.apply(this,arguments)})},{key:"_toggleItem",value:function(e,t){var i=e.split(he.G_,2),a=(0,E.A)(i,2),n=a[0],o=a[1];if("floor"!==n)if("area"===n&&o){var r,s="floor".concat(he.G_).concat((null===(r=this.areas[o])||void 0===r?void 0:r.floor_id)||"");this._entries=Object.assign(Object.assign({},this._entries),{},(0,z.A)({},s,Object.assign(Object.assign({},this._entries[s]),{},{areas:Object.assign(Object.assign({},this._entries[s].areas),{},(0,z.A)({},e,Object.assign(Object.assign({},this._entries[s].areas[e]),{},{open:t})))})))}else if("area"!==n)if("service"!==n)if("device"===n&&o){var c,l,d=null===(c=this.devices[o])||void 0===c?void 0:c.area_id;if(d){var h,u,v,p="area".concat(he.G_).concat(null!==(h=null===(u=this.devices[o])||void 0===u?void 0:u.area_id)&&void 0!==h?h:""),g="floor".concat(he.G_).concat(d&&(null===(v=this.areas[d])||void 0===v?void 0:v.floor_id)||"");return void(this._entries=Object.assign(Object.assign({},this._entries),{},(0,z.A)({},g,Object.assign(Object.assign({},this._entries[g]),{},{areas:Object.assign(Object.assign({},this._entries[g].areas),{},(0,z.A)({},p,Object.assign(Object.assign({},this._entries[g].areas[p]),{},{devices:Object.assign(Object.assign({},this._entries[g].areas[p].devices),{},(0,z.A)({},o,Object.assign(Object.assign({},this._entries[g].areas[p].devices[o]),{},{open:t})))})))}))))}var f="service"===(null===(l=this.devices[o])||void 0===l?void 0:l.entry_type)?"service":"area",m="".concat(f).concat(he.G_);this._entries=Object.assign(Object.assign({},this._entries),{},(0,z.A)({},m,Object.assign(Object.assign({},this._entries[m]),{},{devices:Object.assign(Object.assign({},this._entries[m].devices),{},(0,z.A)({},o,Object.assign(Object.assign({},this._entries[m].devices[o]),{},{open:t})))})))}else"device"!==n&&"helper"!==n?n.startsWith("entity_")?this._entries=Object.assign(Object.assign({},this._entries),{},(0,z.A)({},"device".concat(he.G_),Object.assign(Object.assign({},this._entries["device".concat(he.G_)]),{},{devices:Object.assign(Object.assign({},this._entries["device".concat(he.G_)].devices),{},(0,z.A)({},e,Object.assign(Object.assign({},this._entries["device".concat(he.G_)].devices[e]),{},{open:t})))}))):n.startsWith("helper_")&&(this._entries=Object.assign(Object.assign({},this._entries),{},(0,z.A)({},"helper".concat(he.G_),Object.assign(Object.assign({},this._entries["helper".concat(he.G_)]),{},{devices:Object.assign(Object.assign({},this._entries["helper".concat(he.G_)].devices),{},(0,z.A)({},e,Object.assign(Object.assign({},this._entries["helper".concat(he.G_)].devices[e]),{},{open:t})))})))):this._entries=Object.assign(Object.assign({},this._entries),{},(0,z.A)({},e,Object.assign(Object.assign({},this._entries[e]),{},{open:t})));else this._entries=Object.assign(Object.assign({},this._entries),{},(0,z.A)({},e,Object.assign(Object.assign({},this._entries[e]),{},{open:t})));else this._entries=Object.assign(Object.assign({},this._entries),{},(0,z.A)({},e,Object.assign(Object.assign({},this._entries[e]),{},{open:t})));else this._entries=Object.assign(Object.assign({},this._entries),{},(0,z.A)({},e,Object.assign(Object.assign({},this._entries[e]),{},{open:t})))}},{key:"_expandItem",value:function(e){var t=e.target.target;this._toggleItem(t,!0)}},{key:"_collapseItem",value:function(e){var t=e.target.target;this._toggleItem(t,!1)}},{key:"_loadConfigEntries",value:(i=(0,T.A)((0,G.A)().m(function e(){var t;return(0,G.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,re.VN)(this.hass);case 1:t=e.v,this._configEntryLookup=Object.fromEntries(t.map(function(e){return[e.entry_id,e]}));case 2:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"_expandHeight",value:function(){this._fullHeight=!0,this.style.setProperty("--max-height","none")}}]);var i,j,W,N}(R.WF);ge.styles=(0,R.AH)(j||(j=(0,q.A)([":host{--wa-color-neutral-fill-quiet:var(--ha-color-fill-primary-normal-active);position:relative}ha-section-title{top:0;position:sticky;z-index:1}wa-tree-item::part(item){height:var(--ha-space-10);padding:var(--ha-space-1) var(--ha-space-3);cursor:pointer;border-inline-start:0}wa-tree-item::part(label){gap:var(--ha-space-3);font-family:var(--ha-font-family-heading);font-weight:var(--ha-font-weight-medium);overflow:hidden}ha-md-list-item{--md-list-item-label-text-weight:var(--ha-font-weight-medium);--md-list-item-label-text-font:var(--ha-font-family-heading)}.item-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}ha-floor-icon,ha-icon,ha-state-icon,ha-svg-icon{padding:var(--ha-space-1);color:var(--ha-color-on-neutral-quiet)}wa-tree-item::part(item):hover{background-color:var(--ha-color-fill-neutral-quiet-hover)}img{width:24px;height:24px;padding:var(--ha-space-1)}img.domain-icon{filter:grayscale(100%)}state-badge{width:24px;height:24px}wa-tree-item[selected]::part(item):hover{background-color:var(--ha-color-fill-primary-normal-hover)}wa-tree-item::part(base).tree-item-selected .item{background-color:#ff0}ha-md-list{padding:0;--md-list-item-leading-space:var(--ha-space-3);--md-list-item-trailing-space:var(--md-list-item-leading-space);--md-list-item-bottom-space:var(--ha-space-1);--md-list-item-top-space:var(--md-list-item-bottom-space);--md-list-item-supporting-text-font:var(--ha-font-size-s);--md-list-item-one-line-container-height:var(--ha-space-10)}ha-md-list-item.selected{background-color:var(--ha-color-fill-primary-normal-active);--md-list-item-label-text-color:var(--ha-color-on-primary-normal);--icon-primary-color:var(--ha-color-on-primary-normal)}ha-md-list-item.selected ha-icon,ha-md-list-item.selected ha-svg-icon,wa-tree-item[selected],wa-tree-item[selected]>ha-floor-icon,wa-tree-item[selected]>ha-icon,wa-tree-item[selected]>ha-state-icon,wa-tree-item[selected]>ha-svg-icon{color:var(--ha-color-on-primary-normal)}.targets-show-more{display:flex;justify-content:center;position:absolute;bottom:0;width:100%;padding-bottom:var(--ha-space-2);box-shadow:inset var(--ha-shadow-offset-x-lg) calc(var(--ha-shadow-offset-y-lg) * -1) var(--ha-shadow-blur-lg) var(--ha-shadow-spread-lg) var(--ha-color-shadow-light)}@media (prefers-color-scheme:dark){.targets-show-more{box-shadow:inset var(--ha-shadow-offset-x-lg) calc(var(--ha-shadow-offset-y-lg) * -1) var(--ha-shadow-blur-lg) var(--ha-shadow-spread-lg) var(--ha-color-shadow-dark)}}@media all and (max-width:870px),all and (max-height:500px){:host{max-height:var(--max-height,50%);overflow:hidden}}"]))),(0,W.Cg)([(0,$.MZ)({attribute:!1})],ge.prototype,"hass",void 0),(0,W.Cg)([(0,$.MZ)({attribute:!1})],ge.prototype,"value",void 0),(0,W.Cg)([(0,$.MZ)({type:Boolean})],ge.prototype,"narrow",void 0),(0,W.Cg)([(0,$.MZ)({attribute:!1})],ge.prototype,"manifests",void 0),(0,W.Cg)([(0,$.wk)(),(0,U.Fg)({context:se.$F,subscribe:!0})],ge.prototype,"localize",void 0),(0,W.Cg)([(0,$.wk)(),(0,U.Fg)({context:se.iN,subscribe:!0})],ge.prototype,"states",void 0),(0,W.Cg)([(0,$.wk)(),(0,U.Fg)({context:se.rf,subscribe:!0})],ge.prototype,"floors",void 0),(0,W.Cg)([(0,$.wk)(),(0,U.Fg)({context:se.wn,subscribe:!0})],ge.prototype,"areas",void 0),(0,W.Cg)([(0,$.wk)(),(0,U.Fg)({context:se.xJ,subscribe:!0})],ge.prototype,"devices",void 0),(0,W.Cg)([(0,$.wk)(),(0,U.Fg)({context:se.X1,subscribe:!0})],ge.prototype,"entities",void 0),(0,W.Cg)([(0,$.wk)(),(0,U.Fg)({context:se.HD,subscribe:!0})],ge.prototype,"_labelRegistry",void 0),(0,W.Cg)([(0,$.wk)()],ge.prototype,"_floorAreas",void 0),(0,W.Cg)([(0,$.wk)()],ge.prototype,"_entries",void 0),(0,W.Cg)([(0,$.wk)()],ge.prototype,"_showShowMoreButton",void 0),(0,W.Cg)([(0,$.wk)()],ge.prototype,"_fullHeight",void 0),ge=(0,W.Cg)([(0,$.EM)("ha-automation-add-from-target")],ge),t()}catch(fe){t(fe)}})},2491:function(e,t,i){i.a(e,async function(e,t){try{var a,n,o,r,s,c,l,d,h,u,v,p,g=i(72153),f=i(44734),m=i(43080),_=i(69683),y=i(6454),b=(i(52675),i(89463),i(28706),i(62826)),A=i(96196),C=i(77845),w=i(94333),k=i(4937),L=i(22786),H=i(1087),V=i(57237),x=(i(17308),i(2846),i(67094),i(34127)),M=i(14440),S=e([x,M]);[x,M]=S.then?(await S)():S;var I=function(e){function t(){var e;(0,f.A)(this,t);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=(0,_.A)(this,t,[].concat(n))).configEntryLookup={},e.tooltipDescription=!1,e.scrollable=!1,e._itemsScrolled=!1,e._renderTarget=(0,L.A)(function(t){return t?(0,A.qy)(a||(a=(0,g.A)(['<div class="selected-target"> ',' <div class="label">',"</div> </div>"])),(0,M.B)(e.hass,t[0],t[1],e.configEntryLookup,e.getLabel),t[2]):A.s6}),e}return(0,y.A)(t,e),(0,m.A)(t,[{key:"render",value:function(){var e=this;return(0,A.qy)(n||(n=(0,g.A)(['<div class="','" @scroll="','"> '," </div>"])),(0,w.H)({items:!0,blank:this.error||!this.items||!this.items.length,error:this.error,scrolled:this._itemsScrolled}),this._onItemsScroll,this.items||this.error?this.error?(0,A.qy)(o||(o=(0,g.A)([""," <div>","</div>"])),this.error,this._renderTarget(this.target)):this.items&&!this.items.length?(0,A.qy)(r||(r=(0,g.A)([""," ",""])),this.emptyLabel,this.target?(0,A.qy)(s||(s=(0,g.A)(["<div>","</div>"])),this._renderTarget(this.target)):A.s6):(0,k.u)(this.items,function(e,t){return"item-group-".concat(t)},function(t){return e._renderItemList(t.title,t.items)}):this.selectLabel)}},{key:"_renderItemList",value:function(e,t){var i=this;return t&&t.length?(0,A.qy)(c||(c=(0,g.A)([' <div class="items-title">',"</div> <ha-md-list> "," </ha-md-list> "])),e,(0,k.u)(t,function(e){return e.key},function(e){return(0,A.qy)(l||(l=(0,g.A)([' <ha-md-list-item interactive type="button" .value="','" @click="','"> <div slot="headline" class="','"> ',""," </div> "," "," ",' <ha-svg-icon slot="end" class="plus" .path="','"></ha-svg-icon> </ha-md-list-item> '])),e.key,i._selected,i.target?"item-headline":"",e.name,i._renderTarget(i.target),!i.tooltipDescription&&e.description?(0,A.qy)(d||(d=(0,g.A)(['<div slot="supporting-text">',"</div>"])),e.description):A.s6,e.icon?(0,A.qy)(h||(h=(0,g.A)(['<span slot="start">',"</span>"])),e.icon):e.iconPath?(0,A.qy)(u||(u=(0,g.A)(['<ha-svg-icon slot="start" .path="','"></ha-svg-icon>'])),e.iconPath):A.s6,i.tooltipDescription&&e.description?(0,A.qy)(v||(v=(0,g.A)(['<ha-svg-icon tabindex="0" id="','" slot="end" .path="','" @click="','"></ha-svg-icon> <ha-tooltip .for="','" @wa-show="','" @wa-hide="','" @wa-after-hide="','" @wa-after-show="','">',"</ha-tooltip> "])),"description-tooltip-".concat(e.key),"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",V.d,"description-tooltip-".concat(e.key),V.d,V.d,V.d,V.d,e.description):A.s6,"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z")})):A.s6}},{key:"_selected",value:function(e){var t=e.currentTarget;(0,H.r)(this,"value-changed",{value:t.value})}},{key:"_onItemsScroll",value:function(e){var t,i=null!==(t=e.target.scrollTop)&&void 0!==t?t:0;this._itemsScrolled=i>0}},{key:"scrollTo",value:function(e,t){var i,a;"number"==typeof e?null===(i=this._itemsDiv)||void 0===i||i.scrollTo(e,t):null===(a=this._itemsDiv)||void 0===a||a.scrollTo(e)}}])}(A.WF);I.styles=(0,A.AH)(p||(p=(0,g.A)([":host{display:flex}:host([scrollable]) .items{overflow:auto}.items{display:flex;flex-direction:column;flex:1}.items.blank{border-radius:var(--ha-border-radius-xl);background-color:var(--ha-color-surface-default);align-items:center;color:var(--ha-color-text-secondary);padding:0;margin:0 var(--ha-space-4) max(var(--safe-area-inset-bottom),var(--ha-space-3));line-height:var(--ha-line-height-expanded);justify-content:center}.items.error{background-color:var(--ha-color-fill-danger-quiet-resting);color:var(--ha-color-on-danger-normal)}.items ha-md-list{--md-list-item-two-line-container-height:var(--ha-space-12);--md-list-item-leading-space:var(--ha-space-3);--md-list-item-trailing-space:var(--md-list-item-leading-space);--md-list-item-bottom-space:var(--ha-space-2);--md-list-item-top-space:var(--md-list-item-bottom-space);--md-list-item-supporting-text-font:var(--ha-font-family-body);--ha-md-list-item-gap:var(--ha-space-3);gap:var(--ha-space-2);padding:0 var(--ha-space-4)}.items ha-md-list ha-md-list-item{border-radius:var(--ha-border-radius-lg);border:1px solid var(--ha-color-border-neutral-quiet)}.items ha-md-list{padding-bottom:max(var(--safe-area-inset-bottom),var(--ha-space-3))}.items .item-headline{display:flex;align-items:center;gap:var(--ha-space-2);min-height:var(--ha-space-9);flex-wrap:wrap}.items-title{position:sticky;display:flex;align-items:center;font-weight:var(--ha-font-weight-medium);padding-top:var(--ha-space-2);padding-bottom:var(--ha-space-2);padding-inline-start:var(--ha-space-8);padding-inline-end:var(--ha-space-3);top:0;z-index:1;background-color:var(--card-background-color)}ha-bottom-sheet .items-title{padding-top:var(--ha-space-3)}.scrolled .items-title:first-of-type{box-shadow:var(--bar-box-shadow);border-bottom:1px solid var(--ha-color-border-neutral-quiet)}ha-svg-icon.plus{color:var(--primary-color)}.selected-target{display:inline-flex;gap:var(--ha-space-1);justify-content:center;align-items:center;border-radius:var(--ha-border-radius-md);background:var(--ha-color-fill-neutral-normal-resting);padding:0 var(--ha-space-2) 0 var(--ha-space-1);color:var(--ha-color-on-neutral-normal);overflow:hidden}.selected-target .label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.selected-target ha-domain-icon,.selected-target ha-icon,.selected-target ha-svg-icon{display:flex;padding:var(--ha-space-1) 0}.selected-target ha-floor-icon{display:flex;height:32px;width:32px;align-items:center}.selected-target ha-domain-icon{filter:grayscale(100%)}"]))),(0,b.Cg)([(0,C.MZ)({attribute:!1})],I.prototype,"hass",void 0),(0,b.Cg)([(0,C.MZ)({attribute:!1})],I.prototype,"items",void 0),(0,b.Cg)([(0,C.MZ)()],I.prototype,"error",void 0),(0,b.Cg)([(0,C.MZ)({attribute:"select-label"})],I.prototype,"selectLabel",void 0),(0,b.Cg)([(0,C.MZ)({attribute:"empty-label"})],I.prototype,"emptyLabel",void 0),(0,b.Cg)([(0,C.MZ)({attribute:!1})],I.prototype,"target",void 0),(0,b.Cg)([(0,C.MZ)({attribute:!1})],I.prototype,"getLabel",void 0),(0,b.Cg)([(0,C.MZ)({attribute:!1})],I.prototype,"configEntryLookup",void 0),(0,b.Cg)([(0,C.MZ)({type:Boolean,attribute:"tooltip-description"})],I.prototype,"tooltipDescription",void 0),(0,b.Cg)([(0,C.MZ)({type:Boolean,reflect:!0})],I.prototype,"scrollable",void 0),(0,b.Cg)([(0,C.wk)()],I.prototype,"_itemsScrolled",void 0),(0,b.Cg)([(0,C.P)(".items")],I.prototype,"_itemsDiv",void 0),(0,b.Cg)([(0,C.Ls)({passive:!0})],I.prototype,"_onItemsScroll",null),I=(0,b.Cg)([(0,C.EM)("ha-automation-add-items")],I),t()}catch(O){t(O)}})},25871:function(e,t,i){i.a(e,async function(e,t){try{var a,n,o,r,s,c,l,d,h,u,v,p,g,f,m,_,y,b,A,C,w,k,L,H=i(94741),V=i(72153),x=i(44734),M=i(43080),S=i(69683),I=i(6454),O=i(25460),j=(i(52675),i(89463),i(28706),i(2008),i(74423),i(62062),i(44114),i(18111),i(22489),i(61701),i(69085),i(79432),i(26099),i(62826)),z=i(16527),G=(i(32308),i(78648)),T=i(96196),q=i(77845),E=i(29485),D=i(22786),Z=i(57947),F=i(1087),B=i(15638),P=(i(5745),i(32023),i(74281)),W=i(89865),N=(i(75064),i(59174)),K=(i(18198),i(43661),i(69464),i(73150),i(30780)),U=i(76952),R=i(87225),$=i(38911),J=i(31422),Q=i(53756),X=i(5904),Y=i(88555),ee=i(59653),te=i(85614),ie=e([P,W,N]);[P,W,N]=ie.then?(await ie)():ie;var ae=["separator","entity","device","area","separator","label"],ne=[{name:"primary",weight:10},{name:"secondary",weight:7}],oe=function(e){function t(){var e;(0,x.A)(this,t);for(var i=arguments.length,m=new Array(i),_=0;_<i;_++)m[_]=arguments[_];return(e=(0,S.A)(this,t,[].concat(m))).configEntryLookup={},e.narrow=!1,e.newTriggersAndConditions=!1,e._searchListScrolled=!1,e._getDevicesMemoized=(0,D.A)(J.o),e._getLabelsMemoized=(0,D.A)(X.I),e._getEntitiesMemoized=(0,D.A)(Q.w),e._getAreasAndFloorsMemoized=(0,D.A)(U.bi),e._selectedSearchItemIndex=-1,e._renderSearchResultRow=function(t,i){var m;if(!t)return T.s6;if("string"==typeof t)return(0,T.qy)(a||(a=(0,V.A)(["<ha-section-title>","</ha-section-title>"])),t);var _,y=["trigger","condition","action","block"].includes(t.type)?"item":(0,Y.OJ)(t),b=!1,A=!1,C=!1;"area"!==y&&"floor"!==y||(A=(0,B.qC)(e.hass),b="area"===y&&!(null===(_=t.area)||void 0===_||!_.floor_id));return"entity"===y&&(C=!!e._showEntityId),(0,T.qy)(n||(n=(0,V.A)([' <ha-combo-box-item id="','" tabindex="-1" .type="','" class="','" style="','" .value="','" @click="','"> '," ",' <span slot="headline">',"</span> "," "," "," "," </ha-combo-box-item> "])),"search-list-item-".concat(i),"empty"===y?"text":"button","empty"===y?"empty":"","area"===t.type&&b?"--md-list-item-leading-space: var(--ha-space-12);":"",t,e._selectSearchResult,"area"===t.type&&b?(0,T.qy)(o||(o=(0,V.A)([' <ha-tree-indicator style="','" .end="','" slot="start"></ha-tree-indicator> '])),(0,E.W)({width:"var(--ha-space-12)",position:"absolute",top:"0",left:A?void 0:"var(--ha-space-1)",right:A?"var(--ha-space-1)":void 0,transform:A?"scaleX(-1)":""}),t.last):T.s6,t.renderedIcon?(0,T.qy)(r||(r=(0,V.A)(['<div slot="start"> '," </div>"])),t.renderedIcon):t.icon?(0,T.qy)(s||(s=(0,V.A)(['<ha-icon slot="start" .icon="','"></ha-icon>'])),t.icon):t.icon_path||"area"===y?(0,T.qy)(c||(c=(0,V.A)(['<ha-svg-icon slot="start" .path="','"></ha-svg-icon>'])),t.icon_path||"M20 2H4C2.9 2 2 2.9 2 4V20C2 21.11 2.9 22 4 22H20C21.11 22 22 21.11 22 20V4C22 2.9 21.11 2 20 2M4 6L6 4H10.9L4 10.9V6M4 13.7L13.7 4H18.6L4 18.6V13.7M20 18L18 20H13.1L20 13.1V18M20 10.3L10.3 20H5.4L20 5.4V10.3Z"):"entity"===y&&t.stateObj?(0,T.qy)(l||(l=(0,V.A)([' <state-badge slot="start" .stateObj="','" .hass="','"></state-badge> '])),t.stateObj,e.hass):"device"===y&&t.domain?(0,T.qy)(d||(d=(0,V.A)([' <ha-domain-icon slot="start" .hass="','" .domain="','" brand-fallback></ha-domain-icon> '])),e.hass,t.domain):"floor"===y?(0,T.qy)(h||(h=(0,V.A)(['<ha-floor-icon slot="start" .floor="','"></ha-floor-icon>'])),t.floor):T.s6,t.primary,t.secondary?(0,T.qy)(u||(u=(0,V.A)(['<span slot="supporting-text">',"</span>"])),t.secondary):T.s6,t.stateObj&&C?(0,T.qy)(v||(v=(0,V.A)([' <span slot="supporting-text" class="code"> '," </span> "])),null===(m=t.stateObj)||void 0===m?void 0:m.entity_id):T.s6,!t.domain_name||"entity"===y&&C?T.s6:(0,T.qy)(p||(p=(0,V.A)([' <div slot="trailing-supporting-text" class="domain"> '," </div> "])),t.domain_name),"item"===y?(0,T.qy)(g||(g=(0,V.A)(['<ha-svg-icon class="plus" slot="end" .path="','"></ha-svg-icon>'])),"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"):e.narrow?(0,T.qy)(f||(f=(0,V.A)(['<ha-icon-next slot="end"></ha-icon-next>']))):T.s6)},e._keyFunction=function(e){return"string"==typeof e?e:e.id},e._createFuseIndex=function(e,t){return G.A.createIndex(t,e)},e._fuseIndexes={area:(0,D.A)(function(t){return e._createFuseIndex(t,U.Z2)}),entity:(0,D.A)(function(t){return e._createFuseIndex(t,Q.t)}),device:(0,D.A)(function(t){return e._createFuseIndex(t,J._)}),label:(0,D.A)(function(t){return e._createFuseIndex(t,X.u)}),item:(0,D.A)(function(t){return e._createFuseIndex(t,ne)}),block:(0,D.A)(function(t){return e._createFuseIndex(t,ne)})},e._getFilteredItems=(0,D.A)(function(t,i,a,n,o,r,s){var c=[];if(!s||"item"===s){var l=e._convertItemsToComboBoxItems(o,t);a&&(l=e._filterGroup("item",l,a,ne)),!s&&l.length&&c.push(i("ui.panel.config.automation.editor.".concat(t,"s.name"))),c.push.apply(c,(0,H.A)(l))}if("trigger"!==t&&(!s||"block"===s)){var d="action"===t?K.bM:"condition"===t?R.oW:{},h=e._convertItemsToComboBoxItems(Object.keys(d).map(function(a){return e.convertToItem(a,{},t,i)}),"block");a&&(h=e._filterGroup("block",h,a,ne)),!s&&h.length&&c.push(i("ui.panel.config.automation.editor.blocks")),c.push.apply(c,(0,H.A)(h))}if(r){if(!s||"entity"===s){var u=e._getEntitiesMemoized(e.hass,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"entity".concat(Y.G_));a&&(u=e._filterGroup("entity",u,a,Q.t)),!s&&u.length&&c.push(i("ui.components.target-picker.type.entities")),c.push.apply(c,(0,H.A)(u))}if(!s||"device"===s){var v=e._getDevicesMemoized(e.hass,n,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"device".concat(Y.G_));a&&(v=e._filterGroup("device",v,a,J._)),!s&&v.length&&c.push(i("ui.components.target-picker.type.devices")),c.push.apply(c,(0,H.A)(v))}if(!s||"area"===s){var p=e._getAreasAndFloorsMemoized(e.hass.states,e.hass.floors,e.hass.areas,e.hass.devices,e.hass.entities,(0,D.A)(function(e){return[e.type,e.id].join(Y.G_)}),void 0,void 0,void 0,void 0,void 0,void 0,void 0);a&&(p=e._filterGroup("area",p,a,U.Z2,!1)),!s&&p.length&&c.push(i("ui.components.target-picker.type.areas")),c.push.apply(c,(0,H.A)(p.map(function(e,t){var i=p[t+1];return!i||"area"===e.type&&"floor"===i.type?Object.assign(Object.assign({},e),{},{last:!0}):e})))}if(!s||"label"===s){var g=e._getLabelsMemoized(e.hass.states,e.hass.areas,e.hass.devices,e.hass.entities,e._labelRegistry,void 0,void 0,void 0,void 0,void 0,void 0,"label".concat(Y.G_));a&&(g=e._filterGroup("label",g,a,X.u)),!s&&g.length&&c.push(i("ui.components.target-picker.type.labels")),c.push.apply(c,(0,H.A)(g))}}return c}),e._convertItemsToComboBoxItems=function(e,t){return e.map(function(e){var i=e.key,a=e.name,n=e.description;return{id:i,primary:a,secondary:n,icon_path:e.iconPath,renderedIcon:e.icon,type:t,search_labels:{key:i,name:a,description:n}}})},e._focusSearchList=function(){-1===e._selectedSearchItemIndex&&e._selectNextSearchItem()},e._selectSearchResult=function(t){t.stopPropagation();var i=t.currentTarget.value;i&&e._selectSearchItem(i)},e._selectNextSearchItem=function(t){if(null==t||t.stopPropagation(),null==t||t.preventDefault(),e._virtualizerElement){var i=e._virtualizerElement.items,a=i.length-1;if(-1!==a){var n=a===e._selectedSearchItemIndex?e._selectedSearchItemIndex:e._selectedSearchItemIndex+1;if(i[n]){if("string"==typeof i[n]){if(n===a)return;e._selectedSearchItemIndex=n+1}else e._selectedSearchItemIndex=n;e._scrollToSelectedSearchItem()}}else e._resetSelectedSearchItem()}},e._scrollToSelectedSearchItem=function(){var t,i;null===(t=e._virtualizerElement)||void 0===t||null===(t=t.querySelector(".selected"))||void 0===t||t.classList.remove("selected"),null===(i=e._virtualizerElement)||void 0===i||i.scrollToIndex(e._selectedSearchItemIndex,"end"),requestAnimationFrame(function(){var t;null===(t=e._virtualizerElement)||void 0===t||null===(t=t.querySelector("#search-list-item-".concat(e._selectedSearchItemIndex)))||void 0===t||t.classList.add("selected")})},e._selectPreviousSearchItem=function(t){if(t.stopPropagation(),t.preventDefault(),e._virtualizerElement&&e._selectedSearchItemIndex>0){var i=e._selectedSearchItemIndex-1,a=e._virtualizerElement.items;if(!a[i])return;if("string"==typeof a[i]){if(0===i)return;e._selectedSearchItemIndex=i-1}else e._selectedSearchItemIndex=i;e._scrollToSelectedSearchItem()}},e._selectFirstSearchItem=function(t){if(t.stopPropagation(),e._virtualizerElement&&e._virtualizerElement.items.length){"string"==typeof e._virtualizerElement.items[0]?e._selectedSearchItemIndex=1:e._selectedSearchItemIndex=0,e._scrollToSelectedSearchItem()}},e._selectLastSearchItem=function(t){if(t.stopPropagation(),e._virtualizerElement&&e._virtualizerElement.items.length){var i=e._virtualizerElement.items.length-1;"string"==typeof e._virtualizerElement.items[i]?e._selectedSearchItemIndex=i-1:e._selectedSearchItemIndex=i,e._scrollToSelectedSearchItem()}},e._pickSelectedSearchItem=function(t){var i,a;t.stopPropagation();var n=null===(i=e._virtualizerElement)||void 0===i?void 0:i.items.filter(function(e){return"string"!=typeof e});if(n&&1===n.length){var o=n[0];e._selectSearchItem(o)}else if(-1!==e._selectedSearchItemIndex){t.preventDefault();var r=null===(a=e._virtualizerElement)||void 0===a?void 0:a.items[e._selectedSearchItemIndex];r&&e._selectSearchItem(r)}},e}return(0,I.A)(t,e),(0,M.A)(t,[{key:"_showEntityId",get:function(){var e;return null===(e=this.hass.userData)||void 0===e?void 0:e.showEntityIdPicker}},{key:"willUpdate",value:function(e){if(this.hasUpdated||(0,te.i)(),!this.hasUpdated||e.has("filter")){if(this._removeKeyboardShortcuts)return void(this.filter||(this._removeKeyboardShortcuts(),this._removeKeyboardShortcuts=void 0));this._removeKeyboardShortcuts=(0,Z.Tc)(window,{ArrowUp:this._selectPreviousSearchItem,ArrowDown:this._selectNextSearchItem,Home:this._selectFirstSearchItem,End:this._selectLastSearchItem,Enter:this._pickSelectedSearchItem})}}},{key:"disconnectedCallback",value:function(){var e;(0,O.A)(t,"disconnectedCallback",this,3)([]),null===(e=this._removeKeyboardShortcuts)||void 0===e||e.call(this)}},{key:"render",value:function(){var e,t=this._getFilteredItems(this.addElementType,this.hass.localize,this.filter,this.configEntryLookup,this.items,this.newTriggersAndConditions,this._selectedSearchSection);return t.length||(e=this._selectedSearchSection?"item"===this._selectedSearchSection?"ui.panel.config.automation.editor.".concat(this.addElementType,"s.empty_search.item"):"ui.panel.config.automation.editor.empty_section_search.".concat(this._selectedSearchSection):"ui.panel.config.automation.editor.".concat(this.addElementType,"s.empty_search.global")),(0,T.qy)(m||(m=(0,V.A)([" "," "," "])),this._renderSections(),e?(0,T.qy)(_||(_=(0,V.A)(['<div class="empty-search"> '," </div>"])),this.hass.localize(e,{term:(0,T.qy)(y||(y=(0,V.A)(["<b>","</b>"])),this.filter)})):(0,T.qy)(b||(b=(0,V.A)([' <div class="search-results"> <div class="section-title-wrapper"> ',' </div> <lit-virtualizer .keyFunction="','" tabindex="0" scroller .items="','" .renderItem="','" style="min-height:36px" class="','" @scroll="','" @focus="','" @visibilityChanged="','"> </lit-virtualizer> </div> '])),!this._selectedSearchSection&&this._searchSectionTitle?(0,T.qy)(A||(A=(0,V.A)(["<ha-section-title> "," </ha-section-title>"])),this._searchSectionTitle):T.s6,this._keyFunction,t,this._renderSearchResultRow,this._searchListScrolled?"scrolled":"",this._onScrollSearchList,this._focusSearchList,this._visibilityChanged))}},{key:"_renderSections",value:function(){var e=this;if("trigger"===this.addElementType&&!this.newTriggersAndConditions)return T.s6;var t=["item"];return"trigger"!==this.addElementType&&t.push("block"),this.newTriggersAndConditions&&t.push.apply(t,ae),(0,T.qy)(C||(C=(0,V.A)([' <ha-chip-set class="sections"> '," </ha-chip-set> "])),t.map(function(t){return"separator"===t?(0,T.qy)(w||(w=(0,V.A)(['<div class="separator"></div>']))):(0,T.qy)(k||(k=(0,V.A)(['<ha-filter-chip @click="','" .section-id="','" .selected="','" .label="','"> </ha-filter-chip>'])),e._toggleSection,t,e._selectedSearchSection===t,e._getSearchSectionLabel(t))}))}},{key:"_onScrollSearchList",value:function(e){var t,i=null!==(t=e.target.scrollTop)&&void 0!==t?t:0;this._searchListScrolled=i>0}},{key:"_visibilityChanged",value:function(e){if(this._virtualizerElement){var t,i=this._virtualizerElement.items[e.first],a=this._virtualizerElement.items[e.first+1];if(void 0===i||void 0===a||"string"==typeof i||"string"==typeof a||0===e.first||0===e.first&&e.last===this._virtualizerElement.items.length-1)return void(this._searchSectionTitle=void 0);t=i.type&&!["area","floor"].includes(i.type)?i.type:(0,Y.OJ)(i),this._searchSectionTitle=this._getSearchSectionLabel(t)}}},{key:"_filterGroup",value:function(e,t,i,a){var n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this._fuseIndexes[e](t);return n?(0,ee.x)(t,i,a,function(e){return e.id},o):(0,ee.C)(t,i,a,o,{ignoreLocation:!0})}},{key:"_toggleSection",value:function(e){e.stopPropagation(),this._searchSectionTitle=void 0;var t=e.target["section-id"];t&&(this._selectedSearchSection===t?this._selectedSearchSection=void 0:this._selectedSearchSection=t,this._virtualizerElement&&this._virtualizerElement.scrollToIndex(0))}},{key:"_getSearchSectionLabel",value:function(e){return"block"===e?this.hass.localize("ui.panel.config.automation.editor.blocks"):"item"===e||["trigger","condition","action"].includes(e)?this.hass.localize("ui.panel.config.automation.editor.".concat(this.addElementType,"s.name")):this.hass.localize("ui.components.target-picker.type.".concat("entity"===e?"entities":"".concat(e,"s")))}},{key:"_resetSelectedSearchItem",value:function(){var e;null===(e=this._virtualizerElement)||void 0===e||null===(e=e.querySelector(".selected"))||void 0===e||e.classList.remove("selected"),this._selectedSearchItemIndex=-1}},{key:"_selectSearchItem",value:function(e){(0,F.r)(this,"search-element-picked",e)}}])}(T.WF);oe.styles=(0,T.AH)(L||(L=(0,V.A)([":host{display:flex;flex-direction:column}.empty-search{display:flex;flex-direction:column;flex:1;padding:var(--ha-space-3);border-radius:var(--ha-border-radius-xl);background-color:var(--ha-color-surface-default);align-items:center;color:var(--ha-color-text-secondary);margin:var(--ha-space-3) var(--ha-space-4) max(var(--safe-area-inset-bottom),var(--ha-space-3));line-height:var(--ha-line-height-expanded);padding-top:var(--ha-space-6);justify-content:start}.sections{display:flex;flex-wrap:nowrap;gap:var(--ha-space-2);padding:var(--ha-space-3);margin-bottom:calc(var(--ha-space-3) * -1);overflow:auto;overflow-x:auto;overflow-y:hidden}.sections ha-filter-chip{flex-shrink:0;--md-filter-chip-selected-container-color:var(--ha-color-fill-primary-normal-hover);color:var(--primary-color)}.sections .separator{height:var(--ha-space-8);width:0;border:1px solid var(--ha-color-border-neutral-quiet)}.search-results{border-radius:var(--ha-border-radius-xl);border:1px solid var(--ha-color-border-neutral-quiet);margin:var(--ha-space-3);overflow:hidden;flex:1;display:flex;flex-direction:column}lit-virtualizer ha-section-title{width:100%}lit-virtualizer{flex:1}lit-virtualizer:focus-visible{outline:0}ha-combo-box-item{width:100%}ha-combo-box-item.selected{background-color:var(--ha-color-fill-neutral-quiet-hover)}@media (prefers-color-scheme:dark){ha-combo-box-item.selected{background-color:var(--ha-color-fill-neutral-normal-hover)}}ha-svg-icon.plus{color:var(--primary-color)}"]))),(0,j.Cg)([(0,q.MZ)({attribute:!1})],oe.prototype,"hass",void 0),(0,j.Cg)([(0,q.MZ)()],oe.prototype,"filter",void 0),(0,j.Cg)([(0,q.MZ)({attribute:!1})],oe.prototype,"configEntryLookup",void 0),(0,j.Cg)([(0,q.MZ)({attribute:!1})],oe.prototype,"manifests",void 0),(0,j.Cg)([(0,q.MZ)({attribute:!1})],oe.prototype,"items",void 0),(0,j.Cg)([(0,q.MZ)({type:Boolean})],oe.prototype,"narrow",void 0),(0,j.Cg)([(0,q.MZ)({type:Boolean,attribute:"new-triggers-and-conditions"})],oe.prototype,"newTriggersAndConditions",void 0),(0,j.Cg)([(0,q.MZ)({attribute:!1})],oe.prototype,"convertToItem",void 0),(0,j.Cg)([(0,q.MZ)({attribute:"add-element-type"})],oe.prototype,"addElementType",void 0),(0,j.Cg)([(0,q.wk)()],oe.prototype,"_searchSectionTitle",void 0),(0,j.Cg)([(0,q.wk)()],oe.prototype,"_selectedSearchSection",void 0),(0,j.Cg)([(0,q.wk)()],oe.prototype,"_searchListScrolled",void 0),(0,j.Cg)([(0,q.wk)(),(0,z.Fg)({context:$.HD,subscribe:!0})],oe.prototype,"_labelRegistry",void 0),(0,j.Cg)([(0,q.P)("lit-virtualizer")],oe.prototype,"_virtualizerElement",void 0),(0,j.Cg)([(0,q.Ls)({passive:!0})],oe.prototype,"_onScrollSearchList",null),(0,j.Cg)([(0,q.Ls)({passive:!0})],oe.prototype,"_visibilityChanged",null),oe=(0,j.Cg)([(0,q.EM)("ha-automation-add-search")],oe),t()}catch(re){t(re)}})}}]);
//# sourceMappingURL=1864.abb1022ab3bab908.js.map