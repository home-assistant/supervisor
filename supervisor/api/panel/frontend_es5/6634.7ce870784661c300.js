"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["6634"],{68138:function(i,e,s){s.r(e);var a=s(73577),t=(s(71695),s(9359),s(70104),s(40251),s(47021),s(87319),s(57243)),o=s(50778),d=s(27486),l=s(36522),c=(s(82104),s(92824),s(73729),s(56785)),r=s(67044),n=s(76131),h=s(28008);let v,m,g,u,k,p,_=i=>i;const y=(0,d.Z)((i=>{const e=""!==i.host.disk_life_time?30:10,s=1e3*i.host.disk_used/60/e,a=4*i.host.startup_time/60;return 10*Math.ceil((s+a)/10)}));(0,a.Z)([(0,o.Mo)("dialog-hassio-datadisk")],(function(i,e){return{F:class extends e{constructor(...e){super(...e),i(this)}},d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"dialogParams",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"selectedDevice",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"devices",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"moving",value(){return!1}},{kind:"method",key:"showDialog",value:function(i){this.dialogParams=i,(0,r.ou)(this.hass).then((i=>{this.devices=i.devices}))}},{kind:"method",key:"closeDialog",value:function(){this.dialogParams=void 0,this.selectedDevice=void 0,this.devices=void 0,this.moving=!1,(0,l.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){var i;return this.dialogParams?(0,t.dy)(v||(v=_` <ha-dialog open scrimClickAction escapeKeyAction .heading="${0}" @closed="${0}" ?hideActions="${0}"> ${0} </ha-dialog> `),this.moving?this.dialogParams.supervisor.localize("dialog.datadisk_move.moving"):this.dialogParams.supervisor.localize("dialog.datadisk_move.title"),this.closeDialog,this.moving,this.moving?(0,t.dy)(m||(m=_` <ha-circular-progress aria-label="Moving" size="large" indeterminate> </ha-circular-progress> <p class="progress-text"> ${0} </p>`),this.dialogParams.supervisor.localize("dialog.datadisk_move.moving_desc")):(0,t.dy)(g||(g=_` ${0} <mwc-button slot="secondaryAction" @click="${0}" dialogInitialFocus> ${0} </mwc-button> <mwc-button .disabled="${0}" slot="primaryAction" @click="${0}"> ${0} </mwc-button>`),null!==(i=this.devices)&&void 0!==i&&i.length?(0,t.dy)(u||(u=_` ${0} <br><br> <ha-select .label="${0}" @selected="${0}" dialogInitialFocus> ${0} </ha-select> `),this.dialogParams.supervisor.localize("dialog.datadisk_move.description",{current_path:this.dialogParams.supervisor.os.data_disk,time:y(this.dialogParams.supervisor)}),this.dialogParams.supervisor.localize("dialog.datadisk_move.select_device"),this._selectDevice,this.devices.map((i=>(0,t.dy)(k||(k=_`<mwc-list-item .value="${0}">${0}</mwc-list-item>`),i,i)))):void 0===this.devices?this.dialogParams.supervisor.localize("dialog.datadisk_move.loading_devices"):this.dialogParams.supervisor.localize("dialog.datadisk_move.no_devices"),this.closeDialog,this.dialogParams.supervisor.localize("dialog.datadisk_move.cancel"),!this.selectedDevice,this._moveDatadisk,this.dialogParams.supervisor.localize("dialog.datadisk_move.move"))):t.Ld}},{kind:"method",key:"_selectDevice",value:function(i){this.selectedDevice=i.target.value}},{kind:"method",key:"_moveDatadisk",value:async function(){this.moving=!0;try{await(0,r.Sx)(this.hass,this.selectedDevice)}catch(i){this.hass.connection.connected&&!(0,c.yz)(i)&&((0,n.Ys)(this,{title:this.dialogParams.supervisor.localize("system.host.failed_to_move"),text:(0,c.js)(i)}),this.closeDialog())}}},{kind:"get",static:!0,key:"styles",value:function(){return[h.Qx,h.yu,(0,t.iv)(p||(p=_`ha-select{width:100%}ha-circular-progress{display:block;margin:32px;text-align:center}.progress-text{text-align:center}`))]}}]}}),t.oi)}}]);
//# sourceMappingURL=6634.7ce870784661c300.js.map