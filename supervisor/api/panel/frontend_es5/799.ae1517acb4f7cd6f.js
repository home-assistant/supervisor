"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["799"],{93737:function(t,a,n){n.a(t,async function(t,i){try{n.r(a);var r,o,e,u=n(72153),s=n(61397),c=n(50264),l=n(44734),h=n(43080),p=n(69683),d=n(6454),f=(n(28706),n(62826)),m=n(96196),g=n(77845),v=n(22786),_=n(1087),y=(n(72554),n(18350)),k=(n(52763),n(47351)),A=n(96273),b=n(14503),w=t([y]);y=(w.then?(await w)():w)[0];var C=(0,v.A)(function(){return[{name:"default_backup_mount",required:!0,selector:{backup_location:{}}}]}),M=function(t){function a(){var t;(0,l.A)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=(0,p.A)(this,a,[].concat(i)))._computeLabelCallback=function(a){return t._dialogParams.supervisor.localize("dialog.backup_location.options.".concat(a.name,".name"))||a.name},t._computeHelperCallback=function(a){return t._dialogParams.supervisor.localize("dialog.backup_location.options.".concat(a.name,".description"))},t}return(0,d.A)(a,t),(0,h.A)(a,[{key:"showDialog",value:(i=(0,c.A)((0,s.A)().m(function t(a){return(0,s.A)().w(function(t){for(;;)switch(t.n){case 0:this._dialogParams=a;case 1:return t.a(2)}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"closeDialog",value:function(){this._data=void 0,this._error=void 0,this._waiting=void 0,this._dialogParams=void 0,(0,_.r)(this,"dialog-closed",{dialog:this.localName})}},{key:"render",value:function(){return this._dialogParams?(0,m.qy)(r||(r=(0,u.A)([' <ha-dialog open scrimClickAction escapeKeyAction .heading="','" @closed="','"> ',' <ha-form .hass="','" .data="','" .schema="','" .computeLabel="','" .computeHelper="','" @value-changed="','" dialogInitialFocus></ha-form> <ha-button appearance="plain" slot="secondaryAction" @click="','" dialogInitialFocus> ',' </ha-button> <ha-button .disabled="','" slot="primaryAction" @click="','"> '," </ha-button> </ha-dialog> "])),this._dialogParams.supervisor.localize("dialog.backup_location.title"),this.closeDialog,this._error?(0,m.qy)(o||(o=(0,u.A)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):m.s6,this.hass,this._data,C(),this._computeLabelCallback,this._computeHelperCallback,this._valueChanged,this.closeDialog,this._dialogParams.supervisor.localize("common.cancel"),this._waiting||!this._data,this._changeMount,this._dialogParams.supervisor.localize("common.save")):m.s6}},{key:"_valueChanged",value:function(t){var a=t.detail.value.default_backup_mount;this._data={default_backup_mount:"/backup"===a?null:a}}},{key:"_changeMount",value:(n=(0,c.A)((0,s.A)().m(function t(){var a;return(0,s.A)().w(function(t){for(;;)switch(t.p=t.n){case 0:if(this._data){t.n=1;break}return t.a(2);case 1:return this._error=void 0,this._waiting=!0,t.p=2,t.n=3,(0,A.Su)(this.hass,this._data);case 3:t.n=5;break;case 4:return t.p=4,a=t.v,this._error=(0,k.VR)(a),this._waiting=!1,t.a(2);case 5:this.closeDialog();case 6:return t.a(2)}},t,this,[[2,4]])})),function(){return n.apply(this,arguments)})}],[{key:"styles",get:function(){return[b.RF,b.nA,(0,m.AH)(e||(e=(0,u.A)([".delete-btn{--mdc-theme-primary:var(--error-color)}"])))]}}]);var n,i}(m.WF);(0,f.Cg)([(0,g.MZ)({attribute:!1})],M.prototype,"hass",void 0),(0,f.Cg)([(0,g.wk)()],M.prototype,"_dialogParams",void 0),(0,f.Cg)([(0,g.wk)()],M.prototype,"_data",void 0),(0,f.Cg)([(0,g.wk)()],M.prototype,"_waiting",void 0),(0,f.Cg)([(0,g.wk)()],M.prototype,"_error",void 0),M=(0,f.Cg)([(0,g.EM)("dialog-hassio-backup-location")],M),i()}catch(P){i(P)}})},96273:function(t,a,n){n.d(a,{Su:function(){return s},Wu:function(){return o},bK:function(){return u},h1:function(){return e}});var i=n(61397),r=n(50264),o=function(t){return t.BIND="bind",t.CIFS="cifs",t.NFS="nfs",t}({}),e=function(t){return t.BACKUP="backup",t.MEDIA="media",t.SHARE="share",t}({}),u=function(){var t=(0,r.A)((0,i.A)().m(function t(a){return(0,i.A)().w(function(t){for(;;)if(0===t.n)return t.a(2,a.callWS({type:"supervisor/api",endpoint:"/mounts",method:"get",timeout:null}))},t)}));return function(a){return t.apply(this,arguments)}}(),s=function(){var t=(0,r.A)((0,i.A)().m(function t(a,n){return(0,i.A)().w(function(t){for(;;)if(0===t.n)return t.a(2,a.callWS({type:"supervisor/api",endpoint:"/mounts/options",method:"post",timeout:null,data:n}))},t)}));return function(a,n){return t.apply(this,arguments)}}()},48646:function(t,a,n){var i=n(69565),r=n(28551),o=n(1767),e=n(50851);t.exports=function(t,a){a&&"string"==typeof t||r(t);var n=e(t);return o(r(void 0!==n?i(n,t):t))}},78350:function(t,a,n){var i=n(46518),r=n(70259),o=n(79306),e=n(48981),u=n(26198),s=n(1469);i({target:"Array",proto:!0},{flatMap:function(t){var a,n=e(this),i=u(n);return o(t),(a=s(n,0)).length=r(a,n,n,i,0,1,t,arguments.length>1?arguments[1]:void 0),a}})},30237:function(t,a,n){n(6469)("flatMap")},30531:function(t,a,n){var i=n(46518),r=n(69565),o=n(79306),e=n(28551),u=n(1767),s=n(48646),c=n(19462),l=n(9539),h=n(96395),p=n(30684),d=n(84549),f=!h&&!p("flatMap",function(){}),m=!h&&!f&&d("flatMap",TypeError),g=h||f||m,v=c(function(){for(var t,a,n=this.iterator,i=this.mapper;;){if(a=this.inner)try{if(!(t=e(r(a.next,a.iterator))).done)return t.value;this.inner=null}catch(o){l(n,"throw",o)}if(t=e(r(this.next,n)),this.done=!!t.done)return;try{this.inner=s(i(t.value,this.counter++),!1)}catch(o){l(n,"throw",o)}}});i({target:"Iterator",proto:!0,real:!0,forced:g},{flatMap:function(t){e(this);try{o(t)}catch(a){l(this,"throw",a)}return m?r(m,this,t):new v(u(this),{mapper:t,inner:null})}})}}]);
//# sourceMappingURL=799.ae1517acb4f7cd6f.js.map