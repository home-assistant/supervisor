"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["8783"],{2711:function(e,a,i){i.a(e,(async function(e,s){try{i.r(a);var t,r,o,n,l=i(63038),h=i(9833),d=i(94524),c=i(27862),u=i(52565),p=i(92776),_=i(5776),v=i(21475),m=(i(38419),i(63619),i(81804),i(31622),i(2060),i(57243)),f=i(50778),k=i(36522),g=(i(99426),i(91665),i(73729)),y=i(2928),b=(i(30509),i(88801)),w=(i(83166),i(73422)),C=i(28008),Z=e([y,b,w]);[y,b,w]=Z.then?(await Z)():Z;var z={round:!1,type:"image/jpeg",quality:.75,aspectRatio:1.78},x=(0,v.Z)(null,(function(e,a){var i,s,v=function(a){function i(){var a;(0,u.Z)(this,i);for(var s=arguments.length,t=new Array(s),r=0;r<s;r++)t[r]=arguments[r];return a=(0,p.Z)(this,i,[].concat(t)),e(a),a}return(0,_.Z)(i,a),(0,c.Z)(i)}(a);return{F:v,d:[{kind:"field",decorators:[(0,f.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.SB)()],key:"_name",value:void 0},{kind:"field",decorators:[(0,f.SB)()],key:"_aliases",value:void 0},{kind:"field",decorators:[(0,f.SB)()],key:"_labels",value:void 0},{kind:"field",decorators:[(0,f.SB)()],key:"_picture",value:void 0},{kind:"field",decorators:[(0,f.SB)()],key:"_icon",value:void 0},{kind:"field",decorators:[(0,f.SB)()],key:"_floor",value:void 0},{kind:"field",decorators:[(0,f.SB)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,f.SB)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,f.SB)()],key:"_submitting",value:void 0},{kind:"method",key:"showDialog",value:(s=(0,d.Z)((0,h.Z)().mark((function e(a){var i,s,t;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._params=a,this._error=void 0,this._name=this._params.entry?this._params.entry.name:this._params.suggestedName||"",this._aliases=this._params.entry?this._params.entry.aliases:[],this._labels=this._params.entry?this._params.entry.labels:[],this._picture=(null===(i=this._params.entry)||void 0===i?void 0:i.picture)||null,this._icon=(null===(s=this._params.entry)||void 0===s?void 0:s.icon)||null,this._floor=(null===(t=this._params.entry)||void 0===t?void 0:t.floor_id)||null,e.next=10,this.updateComplete;case 10:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{kind:"method",key:"closeDialog",value:function(){this._error="",this._params=void 0,(0,k.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){if(!this._params)return m.Ld;var e=this._params.entry,a=!this._isNameValid();return(0,m.dy)(t||(t=(0,l.Z)([' <ha-dialog open @closed="','" .heading="','"> <div> ',' <div class="form"> ',' <ha-textfield .value="','" @input="','" .label="','" .validationMessage="','" required dialogInitialFocus></ha-textfield> <ha-icon-picker .hass="','" .value="','" @value-changed="','" .label="','"></ha-icon-picker> <ha-floor-picker .hass="','" .value="','" @value-changed="','" .label="','"></ha-floor-picker> <ha-labels-picker .hass="','" .value="','" @value-changed="','"></ha-labels-picker> <ha-picture-upload .hass="','" .value="','" crop .cropOptions="','" @change="','"></ha-picture-upload> <h3 class="header"> ',' </h3> <p class="description"> ',' </p> <ha-aliases-editor .hass="','" .aliases="','" @value-changed="','"></ha-aliases-editor> </div> </div> <mwc-button slot="secondaryAction" @click="','"> ',' </mwc-button> <mwc-button slot="primaryAction" @click="','" .disabled="','"> '," </mwc-button> </ha-dialog> "])),this.closeDialog,(0,g.i)(this.hass,e?this.hass.localize("ui.panel.config.areas.editor.update_area"):this.hass.localize("ui.panel.config.areas.editor.create_area")),this._error?(0,m.dy)(r||(r=(0,l.Z)(['<ha-alert alert-type="error">',"</ha-alert>"])),this._error):"",e?(0,m.dy)(o||(o=(0,l.Z)([' <ha-settings-row> <span slot="heading"> ',' </span> <span slot="description"> '," </span> </ha-settings-row> "])),this.hass.localize("ui.panel.config.areas.editor.area_id"),e.area_id):m.Ld,this._name,this._nameChanged,this.hass.localize("ui.panel.config.areas.editor.name"),this.hass.localize("ui.panel.config.areas.editor.name_required"),this.hass,this._icon,this._iconChanged,this.hass.localize("ui.panel.config.areas.editor.icon"),this.hass,this._floor,this._floorChanged,this.hass.localize("ui.panel.config.areas.editor.floor"),this.hass,this._labels,this._labelsChanged,this.hass,this._picture,z,this._pictureChanged,this.hass.localize("ui.panel.config.areas.editor.aliases_section"),this.hass.localize("ui.panel.config.areas.editor.aliases_description"),this.hass,this._aliases,this._aliasesChanged,this.closeDialog,this.hass.localize("ui.common.cancel"),this._updateEntry,a||this._submitting,e?this.hass.localize("ui.common.save"):this.hass.localize("ui.common.add"))}},{kind:"method",key:"_isNameValid",value:function(){return""!==this._name.trim()}},{kind:"method",key:"_nameChanged",value:function(e){this._error=void 0,this._name=e.target.value}},{kind:"method",key:"_floorChanged",value:function(e){this._error=void 0,this._floor=e.detail.value}},{kind:"method",key:"_iconChanged",value:function(e){this._error=void 0,this._icon=e.detail.value}},{kind:"method",key:"_labelsChanged",value:function(e){this._error=void 0,this._labels=e.detail.value}},{kind:"method",key:"_pictureChanged",value:function(e){this._error=void 0,this._picture=e.target.value}},{kind:"method",key:"_updateEntry",value:(i=(0,d.Z)((0,h.Z)().mark((function e(){var a,i;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!this._params.entry,this._submitting=!0,e.prev=2,i={name:this._name.trim(),picture:this._picture||(a?void 0:null),icon:this._icon||(a?void 0:null),floor_id:this._floor||(a?void 0:null),labels:this._labels||null,aliases:this._aliases},!a){e.next=9;break}return e.next=7,this._params.createEntry(i);case 7:e.next=11;break;case 9:return e.next=11,this._params.updateEntry(i);case 11:this.closeDialog(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),this._error=e.t0.message||this.hass.localize("ui.panel.config.areas.editor.unknown_error");case 17:return e.prev=17,this._submitting=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[2,14,17,20]])}))),function(){return i.apply(this,arguments)})},{kind:"method",key:"_aliasesChanged",value:function(e){this._aliases=e.detail.value}},{kind:"get",static:!0,key:"styles",value:function(){return[C.yu,(0,m.iv)(n||(n=(0,l.Z)(["ha-floor-picker,ha-icon-picker,ha-labels-picker,ha-picture-upload,ha-textfield{display:block;margin-bottom:16px}"])))]}}]}}),m.oi);customElements.define("dialog-area-registry-detail",x),s()}catch(B){s(B)}}))}}]);
//# sourceMappingURL=8783.6871a1ae1ec957c7.js.map