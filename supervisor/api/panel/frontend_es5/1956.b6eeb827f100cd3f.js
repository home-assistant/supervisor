"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["1956"],{19519:function(i,e,a){a.a(i,async function(i,s){try{a.r(e);var t,o,l,r,n,c,d=a(61397),h=a(50264),v=a(72153),g=a(44734),u=a(43080),m=a(69683),p=a(6454),k=(a(28706),a(62062),a(18111),a(61701),a(26099),a(62826)),_=a(96196),y=a(77845),f=a(22786),A=a(1087),P=(a(72554),a(18350)),b=(a(28732),a(606),a(65829)),D=a(47351),w=a(15336),z=a(65063),C=a(14503),x=i([P,b]);[P,b]=x.then?(await x)():x;var q=(0,f.A)(function(i){var e=1e3*i.host.disk_used/60/30,a=4*i.host.startup_time/60;return 10*Math.ceil((e+a)/10)}),F=function(i){function e(){var i;(0,g.A)(this,e);for(var a=arguments.length,s=new Array(a),t=0;t<a;t++)s[t]=arguments[t];return(i=(0,m.A)(this,e,[].concat(s))).moving=!1,i}return(0,p.A)(e,i),(0,u.A)(e,[{key:"showDialog",value:function(i){var e=this;this.dialogParams=i,(0,w.xY)(this.hass).then(function(i){e.devices=i.devices})}},{key:"closeDialog",value:function(){this.dialogParams=void 0,this.selectedDevice=void 0,this.devices=void 0,this.moving=!1,(0,A.r)(this,"dialog-closed",{dialog:this.localName})}},{key:"render",value:function(){var i;return this.dialogParams?(0,_.qy)(t||(t=(0,v.A)([' <ha-dialog open scrimClickAction escapeKeyAction .heading="','" @closed="','" ?hideActions="','"> '," </ha-dialog> "])),this.moving?this.dialogParams.supervisor.localize("dialog.datadisk_move.moving"):this.dialogParams.supervisor.localize("dialog.datadisk_move.title"),this.closeDialog,this.moving,this.moving?(0,_.qy)(o||(o=(0,v.A)(['<ha-spinner aria-label="Moving" size="large"></ha-spinner> <p class="progress-text"> '," </p>"])),this.dialogParams.supervisor.localize("dialog.datadisk_move.moving_desc")):(0,_.qy)(l||(l=(0,v.A)([" ",' <ha-button appearance="plain" slot="primaryAction" @click="','" dialogInitialFocus> ',' </ha-button> <ha-button .disabled="','" slot="primaryAction" @click="','"> '," </ha-button>"])),null!==(i=this.devices)&&void 0!==i&&i.length?(0,_.qy)(r||(r=(0,v.A)([" ",' <br><br> <ha-select .label="','" @selected="','" dialogInitialFocus> '," </ha-select> "])),this.dialogParams.supervisor.localize("dialog.datadisk_move.description",{current_path:this.dialogParams.supervisor.os.data_disk,time:q(this.dialogParams.supervisor)}),this.dialogParams.supervisor.localize("dialog.datadisk_move.select_device"),this._selectDevice,this.devices.map(function(i){return(0,_.qy)(n||(n=(0,v.A)(['<ha-list-item .value="','">',"</ha-list-item>"])),i,i)})):void 0===this.devices?this.dialogParams.supervisor.localize("dialog.datadisk_move.loading_devices"):this.dialogParams.supervisor.localize("dialog.datadisk_move.no_devices"),this.closeDialog,this.dialogParams.supervisor.localize("dialog.datadisk_move.cancel"),!this.selectedDevice,this._moveDatadisk,this.dialogParams.supervisor.localize("dialog.datadisk_move.move"))):_.s6}},{key:"_selectDevice",value:function(i){this.selectedDevice=i.target.value}},{key:"_moveDatadisk",value:(a=(0,h.A)((0,d.A)().m(function i(){var e;return(0,d.A)().w(function(i){for(;;)switch(i.p=i.n){case 0:return this.moving=!0,i.p=1,i.n=2,(0,w.v9)(this.hass,this.selectedDevice);case 2:i.n=4;break;case 3:i.p=3,e=i.v,this.hass.connection.connected&&!(0,D.Tv)(e)&&((0,z.K$)(this,{title:this.dialogParams.supervisor.localize("system.host.failed_to_move"),text:(0,D.VR)(e)}),this.closeDialog());case 4:return i.a(2)}},i,this,[[1,3]])})),function(){return a.apply(this,arguments)})}],[{key:"styles",get:function(){return[C.RF,C.nA,(0,_.AH)(c||(c=(0,v.A)(["ha-select{width:100%}ha-spinner{display:block;margin:32px;text-align:center}.progress-text{text-align:center}"])))]}}]);var a}(_.WF);(0,k.Cg)([(0,y.MZ)({attribute:!1})],F.prototype,"hass",void 0),(0,k.Cg)([(0,y.wk)()],F.prototype,"dialogParams",void 0),(0,k.Cg)([(0,y.wk)()],F.prototype,"selectedDevice",void 0),(0,k.Cg)([(0,y.wk)()],F.prototype,"devices",void 0),(0,k.Cg)([(0,y.wk)()],F.prototype,"moving",void 0),F=(0,k.Cg)([(0,y.EM)("dialog-hassio-datadisk")],F),s()}catch(M){s(M)}})}}]);
//# sourceMappingURL=1956.b6eeb827f100cd3f.js.map