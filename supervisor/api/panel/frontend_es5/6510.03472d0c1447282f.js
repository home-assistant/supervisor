/*! For license information please see 6510.03472d0c1447282f.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["6510"],{24620:function(e,r,a){a.a(e,async function(e,i){try{a.d(r,{Y:function(){return u}});var t=a(10629),s=(a(35748),a(89958),a(5934),a(95013),a(69868)),n=a(45024),o=a(84922),l=a(11991),d=a(75907),c=a(13802),m=a(7577),p=e([t]);t=(p.then?(await p)():p)[0];let h,_=e=>e;class u extends o.WF{connectedCallback(){super.connectedCallback(),this.rootEl&&this.attachResizeObserver()}render(){const e={"mdc-linear-progress--closed":this.closed,"mdc-linear-progress--closed-animation-off":this.closedAnimationOff,"mdc-linear-progress--indeterminate":this.indeterminate,"mdc-linear-progress--animation-ready":this.animationReady},r={"--mdc-linear-progress-primary-half":this.stylePrimaryHalf,"--mdc-linear-progress-primary-half-neg":""!==this.stylePrimaryHalf?`-${this.stylePrimaryHalf}`:"","--mdc-linear-progress-primary-full":this.stylePrimaryFull,"--mdc-linear-progress-primary-full-neg":""!==this.stylePrimaryFull?`-${this.stylePrimaryFull}`:"","--mdc-linear-progress-secondary-quarter":this.styleSecondaryQuarter,"--mdc-linear-progress-secondary-quarter-neg":""!==this.styleSecondaryQuarter?`-${this.styleSecondaryQuarter}`:"","--mdc-linear-progress-secondary-half":this.styleSecondaryHalf,"--mdc-linear-progress-secondary-half-neg":""!==this.styleSecondaryHalf?`-${this.styleSecondaryHalf}`:"","--mdc-linear-progress-secondary-full":this.styleSecondaryFull,"--mdc-linear-progress-secondary-full-neg":""!==this.styleSecondaryFull?`-${this.styleSecondaryFull}`:""},a={"flex-basis":this.indeterminate?"100%":100*this.buffer+"%"},i={transform:this.indeterminate?"scaleX(1)":`scaleX(${this.progress})`};return(0,o.qy)(h||(h=_` <div role="progressbar" class="mdc-linear-progress ${0}" style="${0}" dir="${0}" aria-label="${0}" aria-valuemin="0" aria-valuemax="1" aria-valuenow="${0}" @transitionend="${0}"> <div class="mdc-linear-progress__buffer"> <div class="mdc-linear-progress__buffer-bar" style="${0}"> </div> <div class="mdc-linear-progress__buffer-dots"></div> </div> <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar" style="${0}"> <span class="mdc-linear-progress__bar-inner"></span> </div> <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar"> <span class="mdc-linear-progress__bar-inner"></span> </div> </div>`),(0,d.H)(e),(0,m.W)(r),(0,c.J)(this.reverse?"rtl":void 0),(0,c.J)(this.ariaLabel),(0,c.J)(this.indeterminate?void 0:this.progress),this.syncClosedState,(0,m.W)(a),(0,m.W)(i))}update(e){!e.has("closed")||this.closed&&void 0!==e.get("closed")||this.syncClosedState(),super.update(e)}async firstUpdated(e){super.firstUpdated(e),this.attachResizeObserver()}syncClosedState(){this.closedAnimationOff=this.closed}updated(e){!e.has("indeterminate")&&e.has("reverse")&&this.indeterminate&&this.restartAnimation(),e.has("indeterminate")&&void 0!==e.get("indeterminate")&&this.indeterminate&&window.ResizeObserver&&this.calculateAndSetAnimationDimensions(this.rootEl.offsetWidth),super.updated(e)}disconnectedCallback(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),super.disconnectedCallback()}attachResizeObserver(){if(window.ResizeObserver)return this.resizeObserver=new window.ResizeObserver(e=>{if(this.indeterminate)for(const r of e)if(r.contentRect){const e=r.contentRect.width;this.calculateAndSetAnimationDimensions(e)}}),void this.resizeObserver.observe(this.rootEl);this.resizeObserver=null}calculateAndSetAnimationDimensions(e){const r=.8367142*e,a=2.00611057*e,i=.37651913*e,t=.84386165*e,s=1.60277782*e;this.stylePrimaryHalf=`${r}px`,this.stylePrimaryFull=`${a}px`,this.styleSecondaryQuarter=`${i}px`,this.styleSecondaryHalf=`${t}px`,this.styleSecondaryFull=`${s}px`,this.restartAnimation()}async restartAnimation(){this.animationReady=!1,await this.updateComplete,await new Promise(requestAnimationFrame),this.animationReady=!0,await this.updateComplete}open(){this.closed=!1}close(){this.closed=!0}constructor(){super(...arguments),this.indeterminate=!1,this.progress=0,this.buffer=1,this.reverse=!1,this.closed=!1,this.stylePrimaryHalf="",this.stylePrimaryFull="",this.styleSecondaryQuarter="",this.styleSecondaryHalf="",this.styleSecondaryFull="",this.animationReady=!0,this.closedAnimationOff=!1,this.resizeObserver=null}}(0,s.__decorate)([(0,l.P)(".mdc-linear-progress")],u.prototype,"rootEl",void 0),(0,s.__decorate)([(0,l.MZ)({type:Boolean,reflect:!0})],u.prototype,"indeterminate",void 0),(0,s.__decorate)([(0,l.MZ)({type:Number})],u.prototype,"progress",void 0),(0,s.__decorate)([(0,l.MZ)({type:Number})],u.prototype,"buffer",void 0),(0,s.__decorate)([(0,l.MZ)({type:Boolean,reflect:!0})],u.prototype,"reverse",void 0),(0,s.__decorate)([(0,l.MZ)({type:Boolean,reflect:!0})],u.prototype,"closed",void 0),(0,s.__decorate)([n.T,(0,l.MZ)({attribute:"aria-label"})],u.prototype,"ariaLabel",void 0),(0,s.__decorate)([(0,l.wk)()],u.prototype,"stylePrimaryHalf",void 0),(0,s.__decorate)([(0,l.wk)()],u.prototype,"stylePrimaryFull",void 0),(0,s.__decorate)([(0,l.wk)()],u.prototype,"styleSecondaryQuarter",void 0),(0,s.__decorate)([(0,l.wk)()],u.prototype,"styleSecondaryHalf",void 0),(0,s.__decorate)([(0,l.wk)()],u.prototype,"styleSecondaryFull",void 0),(0,s.__decorate)([(0,l.wk)()],u.prototype,"animationReady",void 0),(0,s.__decorate)([(0,l.wk)()],u.prototype,"closedAnimationOff",void 0),i()}catch(h){i(h)}})},32181:function(e,r,a){a.d(r,{R:function(){return t}});let i;const t=(0,a(84922).AH)(i||(i=(e=>e)`@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5,0,0.701732,0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435,0.381352,0.55,0.956352);transform:translateX(83.67142%);transform:translateX(var(--mdc-linear-progress-primary-half,83.67142%))}100%{transform:translateX(200.611057%);transform:translateX(var(--mdc-linear-progress-primary-full,200.611057%))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(.08)}36.65%{animation-timing-function:cubic-bezier(0.334731,0.12482,0.785844,1);transform:scaleX(.08)}69.15%{animation-timing-function:cubic-bezier(0.06,0.11,0.6,1);transform:scaleX(.661479)}100%{transform:scaleX(.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15,0,0.515058,0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033,0.284058,0.8,0.733712);transform:translateX(37.651913%);transform:translateX(var(--mdc-linear-progress-secondary-quarter,37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4,0.627035,0.6,0.902026);transform:translateX(84.386165%);transform:translateX(var(--mdc-linear-progress-secondary-half,84.386165%))}100%{transform:translateX(160.277782%);transform:translateX(var(--mdc-linear-progress-secondary-full,160.277782%))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028,0.057051,0.57661,0.453971);transform:scaleX(.08)}19.15%{animation-timing-function:cubic-bezier(0.152313,0.196432,0.648374,1.004315);transform:scaleX(.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759,-0.003163,0.211762,1.38179);transform:scaleX(.72796)}100%{transform:scaleX(.08)}}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(-10px)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5,0,0.701732,0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435,0.381352,0.55,0.956352);transform:translateX(-83.67142%);transform:translateX(var(--mdc-linear-progress-primary-half-neg,-83.67142%))}100%{transform:translateX(-200.611057%);transform:translateX(var(--mdc-linear-progress-primary-full-neg,-200.611057%))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15,0,0.515058,0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033,0.284058,0.8,0.733712);transform:translateX(-37.651913%);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg,-37.651913%))}48.35%{animation-timing-function:cubic-bezier(0.4,0.627035,0.6,0.902026);transform:translateX(-84.386165%);transform:translateX(var(--mdc-linear-progress-secondary-half-neg,-84.386165%))}100%{transform:translateX(-160.277782%);transform:translateX(var(--mdc-linear-progress-secondary-full-neg,-160.277782%))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid transparent;overflow:hidden;transition:opacity 250ms 0s cubic-bezier(.4, 0, .6, 1)}@media screen and (forced-colors:active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;width:100%;height:100%;animation:none;transform-origin:top left;transition:transform 250ms 0s cubic-bezier(.4, 0, .6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;width:100%;height:100%}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0s cubic-bezier(.4, 0, .6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar,[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots,[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}.mdc-linear-progress__bar-inner{border-color:#6200ee;border-color:var(--mdc-theme-primary,#6200ee)}.mdc-linear-progress__buffer-dots{background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E")}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6}.mdc-linear-progress{height:4px}.mdc-linear-progress__bar-inner{border-top-width:4px}.mdc-linear-progress__buffer-dots{background-size:10px 4px}:host{display:block}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6;background-color:var(--mdc-linear-progress-buffer-color,#e6e6e6)}.mdc-linear-progress__buffer-dots{background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E");background-image:var(--mdc-linear-progress-buffering-dots-image, url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E"))}`))},76440:function(e,r,a){a.a(e,async function(e,r){try{var i=a(69868),t=a(11991),s=a(24620),n=a(32181),o=e([s]);s=(o.then?(await o)():o)[0];let l=class extends s.Y{};l.styles=[n.R],l=(0,i.__decorate)([(0,t.EM)("mwc-linear-progress")],l),r()}catch(l){r(l)}})},77832:function(e,r,a){a.d(r,{A:function(){return i}});a(39118);const i=e=>{var r;return null===(r=e.name)||void 0===r?void 0:r.trim()}},52847:function(e,r,a){a.d(r,{L:function(){return i}});const i=(e,r)=>{const a=e.floor_id;return{area:e,floor:(a?r.floors[a]:void 0)||null}}},22780:function(e,r,a){a.a(e,async function(e,r){try{a(79827),a(35748),a(65315),a(12840),a(837),a(37089),a(59023),a(5934),a(18223),a(56660),a(95013);var i=a(69868),t=a(84922),s=a(11991),n=a(65940),o=a(44017),l=a(77832),d=a(88341),c=a(52777),m=a(52847),p=a(9171),h=a(95968),_=a(15241),u=a(38525),g=(a(99322),a(64578)),f=(a(64054),a(86160),e([g]));g=(f.then?(await f)():f)[0];let y,v,b,w,$,A,k=e=>e;const x="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",z="M20 2H4C2.9 2 2 2.9 2 4V20C2 21.11 2.9 22 4 22H20C21.11 22 22 21.11 22 20V4C22 2.9 21.11 2 20 2M4 6L6 4H10.9L4 10.9V6M4 13.7L13.7 4H18.6L4 18.6V13.7M20 18L18 20H13.1L20 13.1V18M20 10.3L10.3 20H5.4L20 5.4V10.3Z",C="___ADD_NEW___";class X extends t.WF{async open(){var e;await this.updateComplete,await(null===(e=this._picker)||void 0===e?void 0:e.open())}render(){var e;const r=null!==(e=this.placeholder)&&void 0!==e?e:this.hass.localize("ui.components.area-picker.area"),a=this._computeValueRenderer(this.hass.areas);return(0,t.qy)(y||(y=k` <ha-generic-picker .hass="${0}" .autofocus="${0}" .label="${0}" .helper="${0}" .notFoundLabel="${0}" .placeholder="${0}" .value="${0}" .getItems="${0}" .getAdditionalItems="${0}" .valueRenderer="${0}" @value-changed="${0}"> </ha-generic-picker> `),this.hass,this.autofocus,this.label,this.helper,this.hass.localize("ui.components.area-picker.no_match"),r,this.value,this._getItems,this._getAdditionalItems,a,this._valueChanged)}_valueChanged(e){e.stopPropagation();const r=e.detail.value;if(r){if(r.startsWith(C)){this.hass.loadFragmentTranslation("config");const e=r.substring(C.length);return void(0,u.J)(this,{suggestedName:e,createEntry:async e=>{try{const r=await(0,p.L3)(this.hass,e);this._setValue(r.area_id)}catch(r){(0,_.K$)(this,{title:this.hass.localize("ui.components.area-picker.failed_create_area"),text:r.message})}}})}this._setValue(r)}else this._setValue(void 0)}_setValue(e){this.value=e,(0,o.r)(this,"value-changed",{value:e}),(0,o.r)(this,"change")}constructor(...e){super(...e),this.noAdd=!1,this.disabled=!1,this.required=!1,this._computeValueRenderer=(0,n.A)(e=>e=>{const r=this.hass.areas[e];if(!r)return(0,t.qy)(v||(v=k` <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> <span slot="headline">${0}</span> `),z,r);const{floor:a}=(0,m.L)(r,this.hass),i=r?(0,l.A)(r):void 0,s=a?(0,c.X)(a):void 0,n=r.icon;return(0,t.qy)(b||(b=k` ${0} <span slot="headline">${0}</span> ${0} `),n?(0,t.qy)(w||(w=k`<ha-icon slot="start" .icon="${0}"></ha-icon>`),n):(0,t.qy)($||($=k`<ha-svg-icon slot="start" .path="${0}"></ha-svg-icon>`),z),i,s?(0,t.qy)(A||(A=k`<span slot="supporting-text">${0}</span>`),s):t.s6)}),this._getAreas=(0,n.A)((e,r,a,i,t,s,n,o,p)=>{let _,u,g={};const f=Object.values(e),y=Object.values(r),v=Object.values(a);(i||t||s||n||o)&&(g=(0,h.g2)(v),_=y,u=v.filter(e=>e.area_id),i&&(_=_.filter(e=>{const r=g[e.id];return!(!r||!r.length)&&g[e.id].some(e=>i.includes((0,d.m)(e.entity_id)))}),u=u.filter(e=>i.includes((0,d.m)(e.entity_id)))),t&&(_=_.filter(e=>{const r=g[e.id];return!r||!r.length||v.every(e=>!t.includes((0,d.m)(e.entity_id)))}),u=u.filter(e=>!t.includes((0,d.m)(e.entity_id)))),s&&(_=_.filter(e=>{const r=g[e.id];return!(!r||!r.length)&&g[e.id].some(e=>{const r=this.hass.states[e.entity_id];return!!r&&(r.attributes.device_class&&s.includes(r.attributes.device_class))})}),u=u.filter(e=>{const r=this.hass.states[e.entity_id];return r.attributes.device_class&&s.includes(r.attributes.device_class)})),n&&(_=_.filter(e=>n(e))),o&&(_=_.filter(e=>{const r=g[e.id];return!(!r||!r.length)&&g[e.id].some(e=>{const r=this.hass.states[e.entity_id];return!!r&&o(r)})}),u=u.filter(e=>{const r=this.hass.states[e.entity_id];return!!r&&o(r)})));let b,w=f;_&&(b=_.filter(e=>e.area_id).map(e=>e.area_id)),u&&(b=(null!=b?b:[]).concat(u.filter(e=>e.area_id).map(e=>e.area_id))),b&&(w=w.filter(e=>b.includes(e.area_id))),p&&(w=w.filter(e=>!p.includes(e.area_id)));return w.map(e=>{const{floor:r}=(0,m.L)(e,this.hass),a=r?(0,c.X)(r):void 0,i=(0,l.A)(e);return{id:e.area_id,primary:i||e.area_id,secondary:a,icon:e.icon||void 0,icon_path:e.icon?void 0:z,sorting_label:i,search_labels:[i,a,e.area_id,...e.aliases].filter(e=>Boolean(e))}})}),this._getItems=()=>this._getAreas(this.hass.areas,this.hass.devices,this.hass.entities,this.includeDomains,this.excludeDomains,this.includeDeviceClasses,this.deviceFilter,this.entityFilter,this.excludeAreas),this._allAreaNames=(0,n.A)(e=>Object.values(e).map(e=>{var r;return null===(r=(0,l.A)(e))||void 0===r?void 0:r.toLowerCase()}).filter(Boolean)),this._getAdditionalItems=e=>{if(this.noAdd)return[];const r=this._allAreaNames(this.hass.areas);return e&&!r.includes(e.toLowerCase())?[{id:C+e,primary:this.hass.localize("ui.components.area-picker.add_new_sugestion",{name:e}),icon_path:x}]:[{id:C,primary:this.hass.localize("ui.components.area-picker.add_new"),icon_path:x}]}}}(0,i.__decorate)([(0,s.MZ)({attribute:!1})],X.prototype,"hass",void 0),(0,i.__decorate)([(0,s.MZ)()],X.prototype,"label",void 0),(0,i.__decorate)([(0,s.MZ)()],X.prototype,"value",void 0),(0,i.__decorate)([(0,s.MZ)()],X.prototype,"helper",void 0),(0,i.__decorate)([(0,s.MZ)()],X.prototype,"placeholder",void 0),(0,i.__decorate)([(0,s.MZ)({type:Boolean,attribute:"no-add"})],X.prototype,"noAdd",void 0),(0,i.__decorate)([(0,s.MZ)({type:Array,attribute:"include-domains"})],X.prototype,"includeDomains",void 0),(0,i.__decorate)([(0,s.MZ)({type:Array,attribute:"exclude-domains"})],X.prototype,"excludeDomains",void 0),(0,i.__decorate)([(0,s.MZ)({type:Array,attribute:"include-device-classes"})],X.prototype,"includeDeviceClasses",void 0),(0,i.__decorate)([(0,s.MZ)({type:Array,attribute:"exclude-areas"})],X.prototype,"excludeAreas",void 0),(0,i.__decorate)([(0,s.MZ)({attribute:!1})],X.prototype,"deviceFilter",void 0),(0,i.__decorate)([(0,s.MZ)({attribute:!1})],X.prototype,"entityFilter",void 0),(0,i.__decorate)([(0,s.MZ)({type:Boolean})],X.prototype,"disabled",void 0),(0,i.__decorate)([(0,s.MZ)({type:Boolean})],X.prototype,"required",void 0),(0,i.__decorate)([(0,s.P)("ha-generic-picker")],X.prototype,"_picker",void 0),X=(0,i.__decorate)([(0,s.EM)("ha-area-picker")],X),r()}catch(y){r(y)}})},96796:function(e,r,a){a.a(e,async function(e,i){try{a.r(r);a(35748),a(65315),a(837),a(37089),a(5934),a(88238),a(34536),a(16257),a(20152),a(44711),a(72108),a(77030),a(39118),a(95013);var t=a(69868),s=a(84922),n=a(11991),o=a(33055),l=a(65940),d=a(44017),c=(a(75831),a(53657),a(94124),a(17372)),m=a(25586),p=a(68940),h=a(54528),_=(a(56608),a(86160),a(80287),a(22780)),u=a(50809),g=a(38525),f=a(9171),y=e([c,m,h,_]);[c,m,h,_]=y.then?(await y)():y;let v,b,w,$,A,k,x,z,C,X=e=>e;const M="M20 2H4C2.9 2 2 2.9 2 4V20C2 21.11 2.9 22 4 22H20C21.11 22 22 21.11 22 20V4C22 2.9 21.11 2 20 2M4 6L6 4H10.9L4 10.9V6M4 13.7L13.7 4H18.6L4 18.6V13.7M20 18L18 20H13.1L20 13.1V18M20 10.3L10.3 20H5.4L20 5.4V10.3Z";class H extends s.WF{showDialog(e){var r,a,i,t;this._params=e,this._error=void 0,this._name=this._params.entry?this._params.entry.name:this._params.suggestedName||"",this._aliases=(null===(r=this._params.entry)||void 0===r?void 0:r.aliases)||[],this._icon=(null===(a=this._params.entry)||void 0===a?void 0:a.icon)||null,this._level=null!==(i=null===(t=this._params.entry)||void 0===t?void 0:t.level)&&void 0!==i?i:null,this._addedAreas.clear(),this._removedAreas.clear()}closeDialog(){this._error="",this._params=void 0,this._addedAreas.clear(),this._removedAreas.clear(),(0,d.r)(this,"dialog-closed",{dialog:this.localName})}render(){var e;const r=this._floorAreas(null===(e=this._params)||void 0===e?void 0:e.entry,this.hass.areas,this._addedAreas,this._removedAreas);if(!this._params)return s.s6;const a=this._params.entry,i=!this._isNameValid();return(0,s.qy)(v||(v=X` <ha-dialog open @closed="${0}" .heading="${0}"> <div> ${0} <div class="form"> ${0} <ha-textfield .value="${0}" @input="${0}" .label="${0}" .validationMessage="${0}" required dialogInitialFocus></ha-textfield> <ha-textfield .value="${0}" @input="${0}" .label="${0}" type="number"></ha-textfield> <ha-icon-picker .hass="${0}" .value="${0}" @value-changed="${0}" .label="${0}"> ${0} </ha-icon-picker> <h3 class="header"> ${0} </h3> <p class="description"> ${0} </p> ${0} <ha-area-picker no-add .hass="${0}" @value-changed="${0}" .excludeAreas="${0}" .label="${0}"></ha-area-picker> <h3 class="header"> ${0} </h3> <p class="description"> ${0} </p> <ha-aliases-editor .hass="${0}" .aliases="${0}" @value-changed="${0}"></ha-aliases-editor> </div> </div> <ha-button appearance="plain" slot="secondaryAction" @click="${0}"> ${0} </ha-button> <ha-button slot="primaryAction" @click="${0}" .disabled="${0}"> ${0} </ha-button> </ha-dialog> `),this.closeDialog,(0,p.l)(this.hass,a?this.hass.localize("ui.panel.config.floors.editor.update_floor"):this.hass.localize("ui.panel.config.floors.editor.create_floor")),this._error?(0,s.qy)(b||(b=X`<ha-alert alert-type="error">${0}</ha-alert>`),this._error):"",a?(0,s.qy)(w||(w=X` <ha-settings-row> <span slot="heading"> ${0} </span> <span slot="description">${0}</span> </ha-settings-row> `),this.hass.localize("ui.panel.config.floors.editor.floor_id"),a.floor_id):s.s6,this._name,this._nameChanged,this.hass.localize("ui.panel.config.floors.editor.name"),this.hass.localize("ui.panel.config.floors.editor.name_required"),this._level,this._levelChanged,this.hass.localize("ui.panel.config.floors.editor.level"),this.hass,this._icon,this._iconChanged,this.hass.localize("ui.panel.config.areas.editor.icon"),this._icon?s.s6:(0,s.qy)($||($=X` <ha-floor-icon slot="fallback" .floor="${0}"></ha-floor-icon> `),{level:this._level}),this.hass.localize("ui.panel.config.floors.editor.areas_section"),this.hass.localize("ui.panel.config.floors.editor.areas_description"),r.length?(0,s.qy)(A||(A=X`<ha-chip-set> ${0} </ha-chip-set>`),(0,o.u)(r,e=>e.area_id,e=>(0,s.qy)(k||(k=X`<ha-input-chip .area="${0}" @click="${0}" @remove="${0}" .label="${0}"> ${0} </ha-input-chip>`),e,this._openArea,this._removeArea,null==e?void 0:e.name,e.icon?(0,s.qy)(x||(x=X`<ha-icon slot="icon" .icon="${0}"></ha-icon>`),e.icon):(0,s.qy)(z||(z=X`<ha-svg-icon slot="icon" .path="${0}"></ha-svg-icon>`),M)))):s.s6,this.hass,this._addArea,r.map(e=>e.area_id),this.hass.localize("ui.panel.config.floors.editor.add_area"),this.hass.localize("ui.panel.config.floors.editor.aliases_section"),this.hass.localize("ui.panel.config.floors.editor.aliases_description"),this.hass,this._aliases,this._aliasesChanged,this.closeDialog,this.hass.localize("ui.common.cancel"),this._updateEntry,i||!!this._submitting,a?this.hass.localize("ui.common.save"):this.hass.localize("ui.common.create"))}_openArea(e){const r=e.target.area;(0,g.J)(this,{entry:r,updateEntry:e=>(0,f.gs)(this.hass,r.area_id,e)})}_removeArea(e){const r=e.target.area.area_id;if(this._addedAreas.has(r))return this._addedAreas.delete(r),void(this._addedAreas=new Set(this._addedAreas));this._removedAreas.add(r),this._removedAreas=new Set(this._removedAreas)}_addArea(e){const r=e.detail.value;if(r){if(e.target.value="",this._removedAreas.has(r))return this._removedAreas.delete(r),void(this._removedAreas=new Set(this._removedAreas));this._addedAreas.add(r),this._addedAreas=new Set(this._addedAreas)}}_isNameValid(){return""!==this._name.trim()}_nameChanged(e){this._error=void 0,this._name=e.target.value}_levelChanged(e){this._error=void 0,this._level=""===e.target.value?null:Number(e.target.value)}_iconChanged(e){this._error=void 0,this._icon=e.detail.value}async _updateEntry(){this._submitting=!0;const e=!this._params.entry;try{const r={name:this._name.trim(),icon:this._icon||(e?void 0:null),level:this._level,aliases:this._aliases};e?await this._params.createEntry(r,this._addedAreas):await this._params.updateEntry(r,this._addedAreas,this._removedAreas),this.closeDialog()}catch(r){this._error=r.message||this.hass.localize("ui.panel.config.floors.editor.unknown_error")}finally{this._submitting=!1}}_aliasesChanged(e){this._aliases=e.detail.value}static get styles(){return[u.RF,u.nA,(0,s.AH)(C||(C=X`ha-textfield{display:block;margin-bottom:16px}ha-floor-icon{color:var(--secondary-text-color)}ha-chip-set{margin-bottom:8px}`))]}constructor(...e){super(...e),this._addedAreas=new Set,this._removedAreas=new Set,this._floorAreas=(0,l.A)((e,r,a,i)=>Object.values(r).filter(r=>(r.floor_id===(null==e?void 0:e.floor_id)||a.has(r.area_id))&&!i.has(r.area_id)))}}(0,t.__decorate)([(0,n.MZ)({attribute:!1})],H.prototype,"hass",void 0),(0,t.__decorate)([(0,n.wk)()],H.prototype,"_name",void 0),(0,t.__decorate)([(0,n.wk)()],H.prototype,"_aliases",void 0),(0,t.__decorate)([(0,n.wk)()],H.prototype,"_icon",void 0),(0,t.__decorate)([(0,n.wk)()],H.prototype,"_level",void 0),(0,t.__decorate)([(0,n.wk)()],H.prototype,"_error",void 0),(0,t.__decorate)([(0,n.wk)()],H.prototype,"_params",void 0),(0,t.__decorate)([(0,n.wk)()],H.prototype,"_submitting",void 0),(0,t.__decorate)([(0,n.wk)()],H.prototype,"_addedAreas",void 0),(0,t.__decorate)([(0,n.wk)()],H.prototype,"_removedAreas",void 0),customElements.define("dialog-floor-registry-detail",H),i()}catch(v){i(v)}})},38525:function(e,r,a){a.d(r,{J:function(){return s}});a(35748),a(5934),a(95013);var i=a(44017);const t=()=>Promise.all([a.e("3245"),a.e("1785"),a.e("1369"),a.e("9137"),a.e("2112"),a.e("1714"),a.e("447"),a.e("373")]).then(a.bind(a,34865)),s=(e,r)=>{(0,i.r)(e,"show-dialog",{dialogTag:"dialog-area-registry-detail",dialogImport:t,dialogParams:r})}}}]);
//# sourceMappingURL=6510.03472d0c1447282f.js.map