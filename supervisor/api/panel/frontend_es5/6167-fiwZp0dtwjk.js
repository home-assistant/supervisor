"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[6167,4631],{56167:function(e,t,a){a.r(t),a.d(t,{HassioBackups:function(){return Se}});var i=a(88962),n=a(40039),r=a(99312),o=a(81043),l=a(33368),c=a(71650),s=a(82390),d=a(69205),u=a(70906),h=a(91808),p=a(34541),f=a(47838),b=(a(14271),a(44577),a(68144)),v=a(79932),m=a(83448),k=a(14516),_=a(63864),g=(a(10520),a(62308)),y=a(59401),x=a(27296),w=a(26410);var Z,C,B,D,S,L,A,z,F,R,T,H,I,P,M,O,U,j,V,W,E,N,Y,$,q,G,K,Q,X,J,ee,te,ae,ie={second:45,minute:45,hour:22,day:5,week:4,month:11},ne=(0,k.Z)((function(e){return new Intl.RelativeTimeFormat(e.language,{numeric:"auto"})})),re=function(e,t,a){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=Object.assign(Object.assign({},ie),i||{}),r=(+e-+t)/1e3;if(Math.abs(r)<n.second)return{value:Math.round(r),unit:"second"};var o=r/60;if(Math.abs(o)<n.minute)return{value:Math.round(o),unit:"minute"};var l=r/3600;if(Math.abs(l)<n.hour)return{value:Math.round(l),unit:"hour"};var c=new Date(e),s=new Date(t);c.setHours(0,0,0,0),s.setHours(0,0,0,0);var d=(0,g.Z)(c,s);if(0===d)return{value:Math.round(l),unit:"hour"};if(Math.abs(d)<n.day)return{value:d,unit:"day"};var u=(0,w.Bt)(a),h=(0,y.Z)(c,{weekStartsOn:u}),p=(0,y.Z)(s,{weekStartsOn:u}),f=(0,x.Z)(h,p);if(0===f)return{value:d,unit:"day"};if(Math.abs(f)<n.week)return{value:f,unit:"week"};var b=c.getFullYear()-s.getFullYear(),v=12*b+c.getMonth()-s.getMonth();return 0===v?{value:f,unit:"week"}:Math.abs(v)<n.month||0===b?{value:v,unit:"month"}:{value:Math.round(b),unit:"year"}}(e,a,t);return i?ne(t).format(n.value,n.unit):Intl.NumberFormat(t.language,{style:"unit",unit:n.unit,unitDisplay:"long"}).format(Math.abs(n.value))},oe=(a(81545),a(93201),a(5666),a(52039),a(60538)),le=a(41682),ce=a(26765),se=(a(33829),a(47181)),de=a(87744),ue=a(93359),he=a(62746),pe=a(46097),fe=a(3239),be=a(30153),ve=a(76538),me=a(76392),ke=a(38346),_e=a(96151),ge=a(11654),ye=a(46134),xe=(a(32511),a(65040),a(93217)),we=function(){return Z||(Z=(0,xe.Ud)(new Worker(new URL(a.p+a.u(8456),a.b)))),Z},Ze=function(e,t,a,i){return we().sortData(e,t,a,i)},Ce=((0,h.Z)([(0,v.Mo)("ha-data-table")],(function(e,t){var a,n,h=function(t){(0,d.Z)(i,t);var a=(0,u.Z)(i);function i(){var t;(0,c.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a.call.apply(a,[this].concat(r)),e((0,s.Z)(t)),t}return(0,l.Z)(i)}(t);return{F:h,d:[{kind:"field",decorators:[(0,v.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,v.Cb)({type:Object})],key:"columns",value:function(){return{}}},{kind:"field",decorators:[(0,v.Cb)({type:Array})],key:"data",value:function(){return[]}},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"selectable",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"clickable",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"hasFab",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)({attribute:!1})],key:"appendRow",value:void 0},{kind:"field",decorators:[(0,v.Cb)({type:Boolean,attribute:"auto-height"})],key:"autoHeight",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)({type:String})],key:"id",value:function(){return"id"}},{kind:"field",decorators:[(0,v.Cb)({type:String})],key:"noDataText",value:void 0},{kind:"field",decorators:[(0,v.Cb)({type:String})],key:"searchLabel",value:void 0},{kind:"field",decorators:[(0,v.Cb)({type:Boolean,attribute:"no-label-float"})],key:"noLabelFloat",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)({type:String})],key:"filter",value:function(){return""}},{kind:"field",decorators:[(0,v.SB)()],key:"_filterable",value:function(){return!1}},{kind:"field",decorators:[(0,v.SB)()],key:"_filter",value:function(){return""}},{kind:"field",decorators:[(0,v.SB)()],key:"_sortColumn",value:void 0},{kind:"field",decorators:[(0,v.SB)()],key:"_sortDirection",value:function(){return null}},{kind:"field",decorators:[(0,v.SB)()],key:"_filteredData",value:function(){return[]}},{kind:"field",decorators:[(0,v.SB)()],key:"_headerHeight",value:function(){return 0}},{kind:"field",decorators:[(0,v.IO)("slot[name='header']")],key:"_header",value:void 0},{kind:"field",decorators:[(0,v.SB)()],key:"_items",value:function(){return[]}},{kind:"field",key:"_checkableRowsCount",value:void 0},{kind:"field",key:"_checkedRows",value:function(){return[]}},{kind:"field",key:"_sortColumns",value:function(){return{}}},{kind:"field",key:"curRequest",value:function(){return 0}},{kind:"field",decorators:[(0,me.i)(".scroller")],key:"_savedScrollPos",value:void 0},{kind:"field",key:"_debounceSearch",value:function(){var e=this;return(0,ke.D)((function(t){e._filter=t}),100,!1)}},{kind:"method",key:"clearSelection",value:function(){this._checkedRows=[],this._checkedRowsChanged()}},{kind:"method",key:"connectedCallback",value:function(){(0,p.Z)((0,f.Z)(h.prototype),"connectedCallback",this).call(this),this._items.length&&(this._items=(0,pe.Z)(this._items))}},{kind:"method",key:"firstUpdated",value:function(){var e=this;this.updateComplete.then((function(){return e._calcTableHeight()}))}},{kind:"method",key:"willUpdate",value:function(e){if((0,p.Z)((0,f.Z)(h.prototype),"willUpdate",this).call(this,e),this.hasUpdated||(0,ye.o)(),e.has("columns")){for(var t in this._filterable=Object.values(this.columns).some((function(e){return e.filterable})),this.columns)if(this.columns[t].direction){this._sortDirection=this.columns[t].direction,this._sortColumn=t;break}var a=(0,fe.Z)(this.columns);Object.values(a).forEach((function(e){delete e.title,delete e.template})),this._sortColumns=a}e.has("filter")&&this._debounceSearch(this.filter),e.has("data")&&(this._checkableRowsCount=this.data.filter((function(e){return!1!==e.selectable})).length),(e.has("data")||e.has("columns")||e.has("_filter")||e.has("_sortColumn")||e.has("_sortDirection"))&&this._sortFilterData()}},{kind:"method",key:"render",value:function(){var e=this;return(0,b.dy)(C||(C=(0,i.Z)([' <div class="mdc-data-table"> <slot name="header" @slotchange="','"> ',' </slot> <div class="mdc-data-table__table ','" role="table" aria-rowcount="','" style="','"> <div class="mdc-data-table__header-row" role="row" aria-rowindex="1"> '," "," </div> "," </div> </div> "])),this._calcTableHeight,this._filterable?(0,b.dy)(B||(B=(0,i.Z)([' <div class="table-header"> <search-input .hass="','" @value-changed="','" .label="','" .noLabelFloat="','"></search-input> </div> '])),this.hass,this._handleSearchChange,this.searchLabel,this.noLabelFloat):"",(0,m.$)({"auto-height":this.autoHeight}),this._filteredData.length+1,(0,ve.V)({height:this.autoHeight?"".concat(53*(this._filteredData.length||1)+53,"px"):"calc(100% - ".concat(this._headerHeight,"px)")}),this.selectable?(0,b.dy)(D||(D=(0,i.Z)([' <div class="mdc-data-table__header-cell mdc-data-table__header-cell--checkbox" role="columnheader"> <ha-checkbox class="mdc-data-table__row-checkbox" @change="','" .indeterminate="','" .checked="','"> </ha-checkbox> </div> '])),this._handleHeaderRowCheckboxClick,this._checkedRows.length&&this._checkedRows.length!==this._checkableRowsCount,this._checkedRows.length&&this._checkedRows.length===this._checkableRowsCount):"",Object.entries(this.columns).map((function(t){var a,n=(0,he.Z)(t,2),r=n[0],o=n[1];if(o.hidden)return"";var l=r===e._sortColumn,c={"mdc-data-table__header-cell--numeric":"numeric"===o.type,"mdc-data-table__header-cell--icon":"icon"===o.type,"mdc-data-table__header-cell--icon-button":"icon-button"===o.type,"mdc-data-table__header-cell--overflow-menu":"overflow-menu"===o.type,sortable:Boolean(o.sortable),"not-sorted":Boolean(o.sortable&&!l),grows:Boolean(o.grows)};return(0,b.dy)(S||(S=(0,i.Z)([' <div aria-label="','" class="mdc-data-table__header-cell ','" style="','" role="columnheader" aria-sort="','" @click="','" .columnId="','"> '," <span>","</span> </div> "])),o.label,(0,m.$)(c),o.width?(0,ve.V)((a={},(0,ue.Z)(a,o.grows?"minWidth":"width",o.width),(0,ue.Z)(a,"maxWidth",o.maxWidth||""),a)):"",(0,be.o)(l?"desc"===e._sortDirection?"descending":"ascending":void 0),e._handleHeaderClick,r,o.sortable?(0,b.dy)(L||(L=(0,i.Z)([' <ha-svg-icon .path="','"></ha-svg-icon> '])),l&&"desc"===e._sortDirection?"M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z":"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z"):"",o.title)})),this._filteredData.length?(0,b.dy)(z||(z=(0,i.Z)([' <lit-virtualizer scroller class="mdc-data-table__content scroller ha-scrollbar" @scroll="','" .items="','" .keyFunction="','" .renderItem="','"></lit-virtualizer> '])),this._saveScrollPos,this._items,this._keyFunction,this._renderRow):(0,b.dy)(A||(A=(0,i.Z)([' <div class="mdc-data-table__content"> <div class="mdc-data-table__row" role="row"> <div class="mdc-data-table__cell grows center" role="cell"> '," </div> </div> </div> "])),this.noDataText||"No data"))}},{kind:"field",key:"_keyFunction",value:function(){var e=this;return function(t){return t[e.id]||t}}},{kind:"field",key:"_renderRow",value:function(){var e=this;return function(t,a){return t?t.append?(0,b.dy)(F||(F=(0,i.Z)(['<div class="mdc-data-table__row">',"</div>"])),t.content):t.empty?(0,b.dy)(R||(R=(0,i.Z)(['<div class="mdc-data-table__row"></div>']))):(0,b.dy)(T||(T=(0,i.Z)([' <div aria-rowindex="','" role="row" .rowId="','" @click="','" class="mdc-data-table__row ','" aria-selected="','" .selectable="','"> '," "," </div> "])),a+2,t[e.id],e._handleRowClick,(0,m.$)({"mdc-data-table__row--selected":e._checkedRows.includes(String(t[e.id])),clickable:e.clickable}),(0,be.o)(!!e._checkedRows.includes(String(t[e.id]))||void 0),!1!==t.selectable,e.selectable?(0,b.dy)(H||(H=(0,i.Z)([' <div class="mdc-data-table__cell mdc-data-table__cell--checkbox" role="cell"> <ha-checkbox class="mdc-data-table__row-checkbox" @change="','" .rowId="','" .disabled="','" .checked="','"> </ha-checkbox> </div> '])),e._handleRowCheckboxClick,t[e.id],!1===t.selectable,e._checkedRows.includes(String(t[e.id]))):"",Object.entries(e.columns).map((function(e){var a,n=(0,he.Z)(e,2),r=n[0],o=n[1];return o.hidden?"":(0,b.dy)(I||(I=(0,i.Z)([' <div role="','" class="mdc-data-table__cell ','" style="','"> '," </div> "])),o.main?"rowheader":"cell",(0,m.$)({"mdc-data-table__cell--flex":"flex"===o.type,"mdc-data-table__cell--numeric":"numeric"===o.type,"mdc-data-table__cell--icon":"icon"===o.type,"mdc-data-table__cell--icon-button":"icon-button"===o.type,"mdc-data-table__cell--overflow-menu":"overflow-menu"===o.type,grows:Boolean(o.grows),forceLTR:Boolean(o.forceLTR)}),o.width?(0,ve.V)((a={},(0,ue.Z)(a,o.grows?"minWidth":"width",o.width),(0,ue.Z)(a,"maxWidth",o.maxWidth?o.maxWidth:""),a)):"",o.template?o.template(t[r],t):t[r])}))):b.Ld}}},{kind:"method",key:"_sortFilterData",value:(n=(0,o.Z)((0,r.Z)().mark((function e(){var t,a,i,n,o,l,c,s,d,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(new Date).getTime(),this.curRequest++,a=this.curRequest,i=this.data,!this._filter){e.next=8;break}return e.next=7,this._memFilterData(this.data,this._sortColumns,this._filter);case 7:i=e.sent;case 8:return n=this._sortColumn?Ze(i,this._sortColumns[this._sortColumn],this._sortDirection,this._sortColumn):i,e.next=11,Promise.all([n,_e.y]);case 11:if(o=e.sent,l=(0,he.Z)(o,1),c=l[0],s=(new Date).getTime(),!((d=s-t)<100)){e.next=19;break}return e.next=19,new Promise((function(e){setTimeout(e,100-d)}));case 19:if(this.curRequest===a){e.next=21;break}return e.abrupt("return");case 21:this.appendRow||this.hasFab?(u=(0,pe.Z)(c),this.appendRow&&u.push({append:!0,content:this.appendRow}),this.hasFab&&u.push({empty:!0}),this._items=u):this._items=c,this._filteredData=c;case 23:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{kind:"field",key:"_memFilterData",value:function(){return(0,k.Z)((function(e,t,a){return function(e,t,a){return we().filterData(e,t,a)}(e,t,a)}))}},{kind:"method",key:"_handleHeaderClick",value:function(e){var t=e.currentTarget.columnId;this.columns[t].sortable&&(this._sortDirection&&this._sortColumn===t?"asc"===this._sortDirection?this._sortDirection="desc":this._sortDirection=null:this._sortDirection="asc",this._sortColumn=null===this._sortDirection?void 0:t,(0,se.B)(this,"sorting-changed",{column:t,direction:this._sortDirection}))}},{kind:"method",key:"_handleHeaderRowCheckboxClick",value:function(e){var t=this;e.target.checked?(this._checkedRows=this._filteredData.filter((function(e){return!1!==e.selectable})).map((function(e){return e[t.id]})),this._checkedRowsChanged()):(this._checkedRows=[],this._checkedRowsChanged())}},{kind:"field",key:"_handleRowCheckboxClick",value:function(){var e=this;return function(t){var a=t.currentTarget,i=a.rowId;if(a.checked){if(e._checkedRows.includes(i))return;e._checkedRows=[].concat((0,pe.Z)(e._checkedRows),[i])}else e._checkedRows=e._checkedRows.filter((function(e){return e!==i}));e._checkedRowsChanged()}}},{kind:"field",key:"_handleRowClick",value:function(){var e=this;return function(t){var a=t.target;if(!["HA-CHECKBOX","MWC-BUTTON"].includes(a.tagName)){var i=t.currentTarget.rowId;(0,se.B)(e,"row-click",{id:i},{bubbles:!1})}}}},{kind:"method",key:"_checkedRowsChanged",value:function(){this._items.length&&(this._items=(0,pe.Z)(this._items)),(0,se.B)(this,"selection-changed",{value:this._checkedRows})}},{kind:"method",key:"_handleSearchChange",value:function(e){this.filter||this._debounceSearch(e.detail.value)}},{kind:"method",key:"_calcTableHeight",value:(a=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.autoHeight){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.updateComplete;case 4:this._headerHeight=this._header.clientHeight;case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{kind:"method",decorators:[(0,v.hO)({passive:!0})],key:"_saveScrollPos",value:function(e){this._savedScrollPos=e.target.scrollTop}},{kind:"get",static:!0,key:"styles",value:function(){return[ge.$c,(0,b.iv)(P||(P=(0,i.Z)([":host{height:100%}.mdc-data-table__content{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.25rem;font-weight:400;letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit}.mdc-data-table{background-color:var(--data-table-background-color);border-radius:4px;border-width:1px;border-style:solid;border-color:var(--divider-color);display:inline-flex;flex-direction:column;box-sizing:border-box;overflow:hidden}.mdc-data-table__row--selected{background-color:rgba(var(--rgb-primary-color),.04)}.mdc-data-table__row{display:flex;width:100%;height:52px}.mdc-data-table__row~.mdc-data-table__row{border-top:1px solid var(--divider-color)}.mdc-data-table__row.clickable:not(.mdc-data-table__row--selected):hover{background-color:rgba(var(--rgb-primary-text-color),.04)}.mdc-data-table__header-cell{color:var(--primary-text-color)}.mdc-data-table__cell{color:var(--primary-text-color)}.mdc-data-table__header-row{height:56px;display:flex;width:100%;border-bottom:1px solid var(--divider-color);overflow-x:auto}.mdc-data-table__header-row::-webkit-scrollbar{display:none}.mdc-data-table__cell,.mdc-data-table__header-cell{padding-right:16px;padding-left:16px;align-self:center;overflow:hidden;text-overflow:ellipsis;flex-shrink:0;box-sizing:border-box}.mdc-data-table__cell.mdc-data-table__cell--flex{display:flex;overflow:initial}.mdc-data-table__cell.mdc-data-table__cell--icon{overflow:initial}.mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox{padding-left:16px;padding-right:0;width:60px}:host([dir=rtl]) .mdc-data-table__cell--checkbox,:host([dir=rtl]) .mdc-data-table__header-cell--checkbox{padding-left:0;padding-right:16px}.mdc-data-table__table{height:100%;width:100%;border:0;white-space:nowrap}.mdc-data-table__cell{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.25rem;font-weight:400;letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit}.mdc-data-table__cell a{color:inherit;text-decoration:none}.mdc-data-table__cell--numeric{text-align:right}:host([dir=rtl]) .mdc-data-table__cell--numeric{text-align:left}.mdc-data-table__cell--icon{color:var(--secondary-text-color);text-align:center}.mdc-data-table__cell--icon,.mdc-data-table__header-cell--icon{width:54px}.mdc-data-table__cell--icon img{width:24px;height:24px}.mdc-data-table__header-cell.mdc-data-table__header-cell--icon{text-align:center}.mdc-data-table__header-cell.sortable.mdc-data-table__header-cell--icon:hover,.mdc-data-table__header-cell.sortable.mdc-data-table__header-cell--icon:not(.not-sorted){text-align:left}:host([dir=rtl]) .mdc-data-table__header-cell.sortable.mdc-data-table__header-cell--icon:hover,:host([dir=rtl]) .mdc-data-table__header-cell.sortable.mdc-data-table__header-cell--icon:not(.not-sorted){text-align:right}.mdc-data-table__cell--icon:first-child ha-icon,.mdc-data-table__cell--icon:first-child ha-state-icon,.mdc-data-table__cell--icon:first-child ha-svg-icon,.mdc-data-table__cell--icon:first-child img{margin-left:8px}:host([dir=rtl]) .mdc-data-table__cell--icon:first-child ha-icon,:host([dir=rtl]) .mdc-data-table__cell--icon:first-child ha-state-icon,:host([dir=rtl]) .mdc-data-table__cell--icon:first-child ha-svg-icon :host([dir=rtl]) .mdc-data-table__cell--icon:first-child img{margin-left:auto;margin-right:8px}.mdc-data-table__cell--icon:first-child state-badge{margin-right:-8px}:host([dir=rtl]) .mdc-data-table__cell--icon:first-child state-badge{margin-right:auto;margin-left:-8px}.mdc-data-table__cell--icon-button,.mdc-data-table__cell--overflow-menu,.mdc-data-table__header-cell--icon-button,.mdc-data-table__header-cell--overflow-menu{padding:8px}.mdc-data-table__cell--icon-button,.mdc-data-table__header-cell--icon-button{width:56px}.mdc-data-table__cell--icon-button,.mdc-data-table__cell--overflow-menu{color:var(--secondary-text-color);text-overflow:clip}.mdc-data-table__cell--icon-button:first-child,.mdc-data-table__cell--icon-button:last-child,.mdc-data-table__header-cell--icon-button:first-child,.mdc-data-table__header-cell--icon-button:last-child{width:64px}.mdc-data-table__cell--icon-button:first-child,.mdc-data-table__cell--overflow-menu:first-child,.mdc-data-table__header-cell--icon-button:first-child,.mdc-data-table__header-cell--overflow-menu:first-child{padding-left:16px}:host([dir=rtl]) .mdc-data-table__cell--overflow-menu:first-child,:host([dir=rtl]) .mdc-data-table__header-cell--overflow-menu:first-child{padding-left:8px;padding-right:16px}.mdc-data-table__cell--icon-button:last-child,.mdc-data-table__cell--overflow-menu:last-child,.mdc-data-table__header-cell--icon-button:last-child,.mdc-data-table__header-cell--overflow-menu:last-child{padding-right:16px}:host([dir=rtl]) .mdc-data-table__cell--icon-button:last-child,:host([dir=rtl]) .mdc-data-table__cell--overflow-menu:last-child,:host([dir=rtl]) .mdc-data-table__header-cell--icon-button:last-child,:host([dir=rtl]) .mdc-data-table__header-cell--overflow-menu:last-child{padding-right:8px;padding-left:16px}.mdc-data-table__cell--overflow-menu,.mdc-data-table__header-cell--overflow-menu{overflow:initial}.mdc-data-table__cell--icon-button a{color:var(--secondary-text-color)}.mdc-data-table__header-cell{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.375rem;font-weight:500;letter-spacing:.0071428571em;text-decoration:inherit;text-transform:inherit;text-align:left}:host([dir=rtl]) .mdc-data-table__header-cell{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}.mdc-data-table__header-cell--numeric.sortable:hover,.mdc-data-table__header-cell--numeric.sortable:not(.not-sorted){text-align:left}:host([dir=rtl]) .mdc-data-table__header-cell--numeric{text-align:left}:host([dir=rtl]) .mdc-data-table__header-cell--numeric.sortable:hover,:host([dir=rtl]) .mdc-data-table__header-cell--numeric.sortable:not(.not-sorted){text-align:right}:host{display:block}.mdc-data-table{display:block;border-width:var(--data-table-border-width,1px);height:100%}.mdc-data-table__header-cell{overflow:hidden;position:relative}.mdc-data-table__header-cell span{position:relative;left:0px}:host([dir=rtl]) .mdc-data-table__header-cell span{left:auto;right:0px}.mdc-data-table__header-cell.sortable{cursor:pointer}.mdc-data-table__header-cell>*{transition:left .2s ease}:host([dir=rtl]) .mdc-data-table__header-cell>*{transition:right .2s ease}.mdc-data-table__header-cell ha-svg-icon{top:-3px;position:absolute}.mdc-data-table__header-cell.not-sorted ha-svg-icon{left:-20px}:host([dir=rtl]) .mdc-data-table__header-cell.not-sorted ha-svg-icon{right:-20px}.mdc-data-table__header-cell.sortable.not-sorted:hover span,.mdc-data-table__header-cell.sortable:not(.not-sorted) span{left:24px}:host([dir=rtl]) .mdc-data-table__header-cell.sortable.not-sorted:hover span,:host([dir=rtl]) .mdc-data-table__header-cell.sortable:not(.not-sorted) span{left:auto;right:24px}.mdc-data-table__header-cell.sortable:hover.not-sorted ha-svg-icon,.mdc-data-table__header-cell.sortable:not(.not-sorted) ha-svg-icon{left:12px}:host([dir=rtl]) .mdc-data-table__header-cell.sortable:hover.not-sorted ha-svg-icon,:host([dir=rtl]) .mdc-data-table__header-cell.sortable:not(.not-sorted) ha-svg-icon{left:auto;right:12px}.table-header{border-bottom:1px solid var(--divider-color)}search-input{display:block;flex:1}slot[name=header]{display:block}.center{text-align:center}.secondary{color:var(--secondary-text-color)}.scroller{height:calc(100% - 57px);overflow:overlay!important}.mdc-data-table__table.auto-height .scroller{overflow-y:hidden!important}.grows{flex-grow:1;flex-shrink:1}.forceLTR{direction:ltr}.clickable{cursor:pointer}lit-virtualizer{contain:size layout!important;overscroll-behavior:contain}"])))]}}]}}),b.oi),a(49703),(0,h.Z)([(0,v.Mo)("hass-tabs-subpage-data-table")],(function(e,t){var a=function(t){(0,d.Z)(i,t);var a=(0,u.Z)(i);function i(){var t;(0,c.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a.call.apply(a,[this].concat(r)),e((0,s.Z)(t)),t}return(0,l.Z)(i)}(t);return{F:a,d:[{kind:"field",decorators:[(0,v.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,v.Cb)({attribute:!1})],key:"localizeFunc",value:void 0},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"isWide",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)({type:Boolean,reflect:!0})],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"supervisor",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)({type:Boolean,attribute:"main-page"})],key:"mainPage",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)({type:Object})],key:"columns",value:function(){return{}}},{kind:"field",decorators:[(0,v.Cb)({type:Array})],key:"data",value:function(){return[]}},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"selectable",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"clickable",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"hasFab",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)({attribute:!1})],key:"appendRow",value:void 0},{kind:"field",decorators:[(0,v.Cb)({type:String})],key:"id",value:function(){return"id"}},{kind:"field",decorators:[(0,v.Cb)({type:String})],key:"filter",value:function(){return""}},{kind:"field",decorators:[(0,v.Cb)()],key:"searchLabel",value:void 0},{kind:"field",decorators:[(0,v.Cb)({type:Array})],key:"activeFilters",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"hiddenLabel",value:void 0},{kind:"field",decorators:[(0,v.Cb)({type:Number})],key:"numHidden",value:function(){return 0}},{kind:"field",decorators:[(0,v.Cb)({type:String,attribute:"back-path"})],key:"backPath",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"backCallback",value:void 0},{kind:"field",decorators:[(0,v.Cb)({type:String})],key:"noDataText",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"route",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"tabs",value:function(){return[]}},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"hideFilterMenu",value:function(){return!1}},{kind:"field",decorators:[(0,v.IO)("ha-data-table",!0)],key:"_dataTable",value:void 0},{kind:"method",key:"clearSelection",value:function(){this._dataTable.clearSelection()}},{kind:"method",key:"render",value:function(){var e=this.numHidden?this.hiddenLabel||this.hass.localize("ui.components.data-table.hidden","number",this.numHidden)||this.numHidden:void 0,t=this.activeFilters?(0,b.dy)(M||(M=(0,i.Z)([""," "," ",""])),this.hass.localize("ui.components.data-table.filtering_by"),this.activeFilters.join(", "),e?"(".concat(e,")"):""):e,a=(0,b.dy)(O||(O=(0,i.Z)(['<search-input .hass="','" .filter="','" .suffix="','" @value-changed="','" .label="','"> '," </search-input>"])),this.hass,this.filter,!this.narrow,this._handleSearchChange,this.searchLabel||this.hass.localize("ui.components.data-table.search"),this.narrow?"":(0,b.dy)(U||(U=(0,i.Z)(['<div class="filters" slot="suffix" @click="','"> ',' <slot name="filter-menu"></slot> </div>'])),this._preventDefault,t?(0,b.dy)(j||(j=(0,i.Z)(['<div class="active-filters"> ',' <mwc-button @click="','"> '," </mwc-button> </div>"])),t,this._clearFilter,this.hass.localize("ui.components.data-table.clear")):""));return(0,b.dy)(V||(V=(0,i.Z)([' <hass-tabs-subpage .hass="','" .localizeFunc="','" .narrow="','" .isWide="','" .backPath="','" .backCallback="','" .route="','" .tabs="','" .mainPage="','" .supervisor="','"> '," ",' <ha-data-table .hass="','" .columns="','" .data="','" .filter="','" .selectable="','" .hasFab="','" .id="','" .noDataText="','" .dir="','" .clickable="','" .appendRow="','"> ',' </ha-data-table> <div slot="fab"><slot name="fab"></slot></div> </hass-tabs-subpage> '])),this.hass,this.localizeFunc,this.narrow,this.isWide,this.backPath,this.backCallback,this.route,this.tabs,this.mainPage,this.supervisor,this.hideFilterMenu?"":(0,b.dy)(W||(W=(0,i.Z)([' <div slot="toolbar-icon"> ','<slot name="toolbar-icon"></slot> </div> '])),this.narrow?(0,b.dy)(E||(E=(0,i.Z)([' <div class="filter-menu"> ',' <slot name="filter-menu"></slot> </div> '])),this.numHidden||this.activeFilters?(0,b.dy)(N||(N=(0,i.Z)(['<span class="badge">',"</span>"])),this.numHidden||"!"):""):""),this.narrow?(0,b.dy)(Y||(Y=(0,i.Z)([' <div slot="header"> <slot name="header"> <div class="search-toolbar">',"</div> </slot> </div> "])),a):"",this.hass,this.columns,this.data,this.filter,this.selectable,this.hasFab,this.id,this.noDataText,(0,de.Zu)(this.hass),this.clickable,this.appendRow,this.narrow?(0,b.dy)(q||(q=(0,i.Z)([' <div slot="header"></div> ']))):(0,b.dy)($||($=(0,i.Z)([' <div slot="header"> <slot name="header"> <div class="table-header">',"</div> </slot> </div> "])),a))}},{kind:"method",key:"_preventDefault",value:function(e){e.preventDefault()}},{kind:"method",key:"_handleSearchChange",value:function(e){this.filter!==e.detail.value&&(this.filter=e.detail.value,(0,se.B)(this,"search-changed",{value:this.filter}))}},{kind:"method",key:"_clearFilter",value:function(){(0,se.B)(this,"clear-filter")}},{kind:"get",static:!0,key:"styles",value:function(){return(0,b.iv)(G||(G=(0,i.Z)(['ha-data-table{width:100%;height:100%;--data-table-border-width:0}:host(:not([narrow])) ha-data-table{height:calc(100vh - 1px - var(--header-height));display:block}:host([narrow]) hass-tabs-subpage{--main-title-margin:0}.table-header{display:flex;align-items:center;--mdc-shape-small:0;height:56px}.search-toolbar{display:flex;align-items:center;color:var(--secondary-text-color)}search-input{--mdc-text-field-fill-color:var(--sidebar-background-color);--mdc-text-field-idle-line-color:var(--divider-color);--text-field-overflow:visible;z-index:5}.table-header search-input{display:block;position:absolute;top:0;right:0;left:0}.search-toolbar search-input{display:block;width:100%;color:var(--secondary-text-color);--mdc-ripple-color:transparant}.filters{--mdc-text-field-fill-color:var(--input-fill-color);--mdc-text-field-idle-line-color:var(--input-idle-line-color);--mdc-shape-small:4px;--text-field-overflow:initial;display:flex;justify-content:flex-end;color:var(--primary-text-color)}.active-filters{color:var(--primary-text-color);position:relative;display:flex;align-items:center;padding:2px 2px 2px 8px;margin-left:4px;margin-inline-start:4px;margin-inline-end:initial;font-size:14px;width:max-content;cursor:initial;direction:var(--direction)}.active-filters ha-svg-icon{color:var(--primary-color)}.active-filters mwc-button{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;direction:var(--direction)}.active-filters::before{background-color:var(--primary-color);opacity:.12;border-radius:4px;position:absolute;top:0;right:0;bottom:0;left:0;content:""}.badge{min-width:20px;box-sizing:border-box;border-radius:50%;font-weight:400;background-color:var(--primary-color);line-height:20px;text-align:center;padding:0px 4px;color:var(--text-primary-color);position:absolute;right:0;top:4px;font-size:.65em}.filter-menu{position:relative}'])))}}]}}),b.oi),a(48259),function(e,t){(0,se.B)(e,"show-dialog",{dialogTag:"dialog-hassio-backup",dialogImport:function(){return Promise.all([a.e(8133),a.e(8597),a.e(4411),a.e(7812),a.e(8887),a.e(8328)]).then(a.bind(a,88328))},dialogParams:t})}),Be=a(43499),De=a(55677),Se=(0,h.Z)([(0,v.Mo)("hassio-backups")],(function(e,t){var h,g,y,x=function(t){(0,d.Z)(i,t);var a=(0,u.Z)(i);function i(){var t;(0,c.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a.call.apply(a,[this].concat(r)),e((0,s.Z)(t)),t}return(0,l.Z)(i)}(t);return{F:x,d:[{kind:"field",decorators:[(0,v.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,v.Cb)({attribute:!1})],key:"supervisor",value:void 0},{kind:"field",decorators:[(0,v.Cb)({type:Object})],key:"route",value:void 0},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"isWide",value:void 0},{kind:"field",decorators:[(0,v.SB)()],key:"_selectedBackups",value:function(){return[]}},{kind:"field",decorators:[(0,v.SB)()],key:"_backups",value:function(){return[]}},{kind:"field",decorators:[(0,v.IO)("hass-tabs-subpage-data-table",!0)],key:"_dataTable",value:void 0},{kind:"field",key:"_firstUpdatedCalled",value:function(){return!1}},{kind:"method",key:"connectedCallback",value:function(){(0,p.Z)((0,f.Z)(x.prototype),"connectedCallback",this).call(this),this.hass&&this._firstUpdatedCalled&&this.refreshData()}},{kind:"method",key:"refreshData",value:(y=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,oe.Fk)(this.hass);case 2:return e.next=4,this.fetchBackups();case 4:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{kind:"field",key:"_computeBackupContent",value:function(){var e=this;return function(t){if("full"===t.type)return e.supervisor.localize("backup.full_backup");var a=[];if(t.content.homeassistant&&a.push("Home Assistant"),0!==t.content.folders.length){var i,r=(0,n.Z)(t.content.folders);try{for(r.s();!(i=r.n()).done;){var o=i.value;a.push(oe.wb[o]||o)}}catch(d){r.e(d)}finally{r.f()}}if(0!==t.content.addons.length){var l,c=(0,n.Z)(t.content.addons);try{var s=function(){var t,i=l.value;a.push((null===(t=e.supervisor.addon.addons.find((function(e){return e.slug===i})))||void 0===t?void 0:t.name)||i)};for(c.s();!(l=c.n()).done;)s()}catch(d){c.e(d)}finally{c.f()}}return a.join(", ")}}},{kind:"method",key:"firstUpdated",value:function(e){(0,p.Z)((0,f.Z)(x.prototype),"firstUpdated",this).call(this,e),this.hass&&this.isConnected&&this.refreshData(),this._firstUpdatedCalled=!0}},{kind:"field",key:"_columns",value:function(){var e=this;return(0,k.Z)((function(t){return{name:{title:e.supervisor.localize("backup.name"),main:!0,sortable:!0,filterable:!0,grows:!0,template:function(e,t){return(0,b.dy)(K||(K=(0,i.Z)(["",' <div class="secondary">',"</div>"])),e||t.slug,t.secondary)}},size:{title:e.supervisor.localize("backup.size"),width:"15%",hidden:t,filterable:!0,sortable:!0,template:function(e){return Math.ceil(10*e)/10+" MB"}},location:{title:e.supervisor.localize("backup.location"),width:"15%",hidden:t,filterable:!0,sortable:!0,template:function(t){return t||e.supervisor.localize("backup.data_disk")}},date:{title:e.supervisor.localize("backup.created"),width:"15%",direction:"desc",hidden:t,filterable:!0,sortable:!0,template:function(t){return re(new Date(t),e.hass.locale)}},secondary:{title:"",hidden:!0,filterable:!0}}}))}},{kind:"field",key:"_backupData",value:function(){var e=this;return(0,k.Z)((function(t){return t.map((function(t){return Object.assign(Object.assign({},t),{},{secondary:e._computeBackupContent(t)})}))}))}},{kind:"method",key:"render",value:function(){var e;return this.supervisor?(0,b.dy)(Q||(Q=(0,i.Z)([' <hass-tabs-subpage-data-table .tabs="','" .hass="','" .localizeFunc="','" .searchLabel="','" .noDataText="','" .narrow="','" .route="','" .columns="','" .data="','" id="slug" @row-click="','" @selection-changed="','" clickable selectable hasFab .mainPage="','" back-path="','" supervisor> <ha-button-menu slot="toolbar-icon" @action="','"> <ha-icon-button .label="','" .path="','" slot="trigger"></ha-icon-button> <mwc-list-item> '," </mwc-list-item> <mwc-list-item> "," </mwc-list-item> "," </ha-button-menu> ",' <ha-fab slot="fab" @click="','" .label="','" extended> <ha-svg-icon slot="icon" .path="','"></ha-svg-icon> </ha-fab> </hass-tabs-subpage-data-table> '])),(0,_.I)(this.hass.config.version,2022,5)?[{translationKey:"panel.backups",path:"/hassio/backups",iconPath:"M12,3A9,9 0 0,0 3,12H0L4,16L8,12H5A7,7 0 0,1 12,5A7,7 0 0,1 19,12A7,7 0 0,1 12,19C10.5,19 9.09,18.5 7.94,17.7L6.5,19.14C8.04,20.3 9.94,21 12,21A9,9 0 0,0 21,12A9,9 0 0,0 12,3M14,12A2,2 0 0,0 12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12Z"}]:(0,Be.q)(this.hass),this.hass,this.supervisor.localize,this.supervisor.localize("backup.search"),this.supervisor.localize("backup.no_backups"),this.narrow,this.route,this._columns(this.narrow),this._backupData(this._backups||[]),this._handleRowClicked,this._handleSelectionChanged,!(0,_.I)(this.hass.config.version,2021,12),(0,_.I)(this.hass.config.version,2022,5)?"/config/system":"/config",this._handleAction,null===(e=this.supervisor)||void 0===e?void 0:e.localize("common.menu"),"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",this.supervisor.localize("common.reload"),this.supervisor.localize("dialog.backup_location.title"),(0,_.I)(this.hass.config.version,0,116)?(0,b.dy)(X||(X=(0,i.Z)(["<mwc-list-item> "," </mwc-list-item>"])),this.supervisor.localize("backup.upload_backup")):"",this._selectedBackups.length?(0,b.dy)(J||(J=(0,i.Z)(['<div class="','" slot="header"> <p class="selected-txt"> ',' </p> <div class="header-btns"> '," </div> </div> "])),(0,m.$)({"header-toolbar":this.narrow,"table-header":!this.narrow}),this.supervisor.localize("backup.selected",{number:this._selectedBackups.length}),this.narrow?(0,b.dy)(te||(te=(0,i.Z)([' <ha-icon-button .label="','" .path="','" id="delete-btn" class="warning" @click="','"></ha-icon-button> <simple-tooltip animation-delay="0" for="delete-btn"> '," </simple-tooltip> "])),this.supervisor.localize("backup.delete_selected"),"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",this._deleteSelected,this.supervisor.localize("backup.delete_selected")):(0,b.dy)(ee||(ee=(0,i.Z)([' <mwc-button @click="','" class="warning"> '," </mwc-button> "])),this._deleteSelected,this.supervisor.localize("backup.delete_selected"))):"",this._createBackup,this.supervisor.localize("backup.create_backup"),"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"):b.Ld}},{kind:"method",key:"_handleAction",value:function(e){switch(e.detail.index){case 0:this.refreshData();break;case 1:t=this,i={supervisor:this.supervisor},(0,se.B)(t,"show-dialog",{dialogTag:"dialog-hassio-backup-location",dialogImport:function(){return Promise.all([a.e(8597),a.e(8331),a.e(4783)]).then(a.bind(a,84783))},dialogParams:i});break;case 2:this._showUploadBackupDialog()}var t,i}},{kind:"method",key:"_handleSelectionChanged",value:function(e){this._selectedBackups=e.detail.value}},{kind:"method",key:"_showUploadBackupDialog",value:function(){var e,t,i=this;e=this,t={showBackup:function(e){return Ce(i,{slug:e,supervisor:i.supervisor,onDelete:function(){return i.fetchBackups()}})},reloadBackup:function(){return i.refreshData()}},(0,se.B)(e,"show-dialog",{dialogTag:"dialog-hassio-backup-upload",dialogImport:function(){return Promise.resolve().then(a.bind(a,48259))},dialogParams:t})}},{kind:"method",key:"fetchBackups",value:(g=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,oe.Fk)(this.hass);case 2:return e.next=4,(0,oe.jc)(this.hass);case 4:this._backups=e.sent;case 5:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{kind:"method",key:"_deleteSelected",value:(h=(0,o.Z)((0,r.Z)().mark((function e(){var t=this;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ce.g7)(this,{title:this.supervisor.localize("backup.delete_backup_title"),text:this.supervisor.localize("backup.delete_backup_text",{number:this._selectedBackups.length}),confirmText:this.supervisor.localize("backup.delete_backup_confirm")});case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,Promise.all(this._selectedBackups.map((function(e){return(0,oe.FZ)(t.hass,e)})));case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),(0,ce.Ys)(this,{title:this.supervisor.localize("backup.failed_to_delete"),text:(0,le.js)(e.t0)}),e.abrupt("return");case 14:return e.next=16,(0,oe.Fk)(this.hass);case 16:return e.next=18,(0,oe.jc)(this.hass);case 18:this._backups=e.sent,this._dataTable.clearSelection();case 20:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(){return h.apply(this,arguments)})},{kind:"method",key:"_handleRowClicked",value:function(e){var t=this,a=e.detail.id;Ce(this,{slug:a,supervisor:this.supervisor,onDelete:function(){return t.fetchBackups()}})}},{kind:"method",key:"_createBackup",value:function(){var e,t,i=this;"running"===this.supervisor.info.state?(e=this,t={supervisor:this.supervisor,onCreate:function(){return i.fetchBackups()}},(0,se.B)(e,"show-dialog",{dialogTag:"dialog-hassio-create-backup",dialogImport:function(){return Promise.all([a.e(8133),a.e(8597),a.e(4411),a.e(7812),a.e(8887),a.e(5510)]).then(a.bind(a,35510))},dialogParams:t})):(0,ce.Ys)(this,{title:this.supervisor.localize("backup.could_not_create"),text:this.supervisor.localize("backup.create_blocked_not_running","state",this.supervisor.info.state)})}},{kind:"get",static:!0,key:"styles",value:function(){return[ge.Qx,De.l,(0,b.iv)(ae||(ae=(0,i.Z)([".table-header{display:flex;justify-content:space-between;align-items:center;height:58px;border-bottom:1px solid rgba(var(--rgb-primary-text-color),.12)}.header-toolbar{display:flex;justify-content:space-between;align-items:center;color:var(--secondary-text-color);position:relative;top:-4px}.selected-txt{font-weight:700;padding-left:16px;color:var(--primary-text-color)}.table-header .selected-txt{margin-top:20px}.header-toolbar .selected-txt{font-size:16px}.header-toolbar .header-btns{margin-right:-12px}.header-btns>ha-icon-button,.header-btns>mwc-button{margin:8px}"])))]}}]}}),b.oi)},48259:function(e,t,a){a.r(t),a.d(t,{DialogHassioBackupUpload:function(){return x}});var i,n,r,o=a(88962),l=a(99312),c=a(81043),s=a(33368),d=a(71650),u=a(82390),h=a(69205),p=a(70906),f=a(91808),b=a(68144),v=a(79932),m=a(47181),k=(a(90806),a(5666),a(11654)),_=(a(76870),a(67622),a(60538)),g=a(41682),y=a(26765),x=((0,f.Z)([(0,v.Mo)("hassio-upload-backup")],(function(e,t){var a,n=function(t){(0,h.Z)(i,t);var a=(0,p.Z)(i);function i(){var t;(0,d.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a.call.apply(a,[this].concat(r)),e((0,u.Z)(t)),t}return(0,s.Z)(i)}(t);return{F:n,d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,v.SB)()],key:"value",value:function(){return null}},{kind:"field",decorators:[(0,v.SB)()],key:"_uploading",value:function(){return!1}},{kind:"method",key:"render",value:function(){return(0,b.dy)(i||(i=(0,o.Z)([' <ha-file-upload .hass="','" .uploading="','" .icon="','" accept="application/x-tar" label="Upload backup" @file-picked="','" auto-open-file-dialog></ha-file-upload> '])),this.hass,this._uploading,"M20,6A2,2 0 0,1 22,8V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H10L12,6H20M10.75,13H14V17H16V13H19.25L15,8.75",this._uploadFile)}},{kind:"method",key:"_uploadFile",value:(a=(0,c.Z)((0,l.Z)().mark((function e(t){var a,i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.detail.files[0],["application/x-tar"].includes(a.type)){e.next=4;break}return(0,y.Ys)(this,{title:"Unsupported file format",text:"Please choose a Home Assistant backup file (.tar)",confirmText:"ok"}),e.abrupt("return");case 4:return this._uploading=!0,e.prev=5,e.next=8,(0,_.p_)(this.hass,a);case 8:i=e.sent,(0,m.B)(this,"backup-uploaded",{backup:i.data}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),(0,y.Ys)(this,{title:"Upload failed",text:(0,g.js)(e.t0),confirmText:"ok"});case 15:return e.prev=15,this._uploading=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[5,12,15,18]])}))),function(e){return a.apply(this,arguments)})}]}}),b.oi),(0,f.Z)([(0,v.Mo)("dialog-hassio-backup-upload")],(function(e,t){var a,i=function(t){(0,h.Z)(i,t);var a=(0,p.Z)(i);function i(){var t;(0,d.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a.call.apply(a,[this].concat(r)),e((0,u.Z)(t)),t}return(0,s.Z)(i)}(t);return{F:i,d:[{kind:"field",decorators:[(0,v.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,v.SB)()],key:"_dialogParams",value:void 0},{kind:"method",key:"showDialog",value:(a=(0,c.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._dialogParams=t,e.next=3,this.updateComplete;case 3:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{kind:"method",key:"closeDialog",value:function(){this._dialogParams&&!this._dialogParams.onboarding&&this._dialogParams.reloadBackup&&this._dialogParams.reloadBackup(),this._dialogParams=void 0,(0,m.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){var e,t,a;return this._dialogParams?(0,b.dy)(n||(n=(0,o.Z)([' <ha-dialog open scrimClickAction escapeKeyAction hideActions .heading="','" @closed="','"> <div slot="heading"> <ha-header-bar> <span slot="title">','</span> <ha-icon-button .label="','" .path="','" slot="actionItems" dialogAction="cancel" dialogInitialFocus></ha-icon-button> </ha-header-bar> </div> <hassio-upload-backup @backup-uploaded="','" .hass="','"></hassio-upload-backup> </ha-dialog> '])),(null===(e=this.hass)||void 0===e?void 0:e.localize("ui.panel.page-onboarding.restore.upload_backup"))||"Upload backup",this.closeDialog,(null===(t=this.hass)||void 0===t?void 0:t.localize("ui.panel.page-onboarding.restore.upload_backup"))||"Upload backup",(null===(a=this.hass)||void 0===a?void 0:a.localize("ui.common.close"))||"Close","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",this._backupUploaded,this.hass):b.Ld}},{kind:"method",key:"_backupUploaded",value:function(e){var t,a=e.detail.backup;null===(t=this._dialogParams)||void 0===t||t.showBackup(a.slug),this.closeDialog()}},{kind:"get",static:!0,key:"styles",value:function(){return[k.yu,(0,b.iv)(r||(r=(0,o.Z)(["ha-header-bar{--mdc-theme-on-primary:var(--primary-text-color);--mdc-theme-primary:var(--mdc-theme-surface);flex-shrink:0}@media all and (max-width:450px),all and (max-height:500px){ha-header-bar{--mdc-theme-primary:var(--app-header-background-color);--mdc-theme-on-primary:var(--app-header-text-color, white)}}"])))]}}]}}),b.oi))},26410:function(e,t,a){a.d(t,{Bt:function(){return o}});var i=a(22075),n=a(66477),r=(a(10520),["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]),o=function(e){return e.first_weekday===n.FS.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(e.language).weekInfo.firstDay%7:(0,i.L)(e.language)%7:r.includes(e.first_weekday)?r.indexOf(e.first_weekday):1}},38346:function(e,t,a){a.d(t,{D:function(){return i}});var i=function(e,t){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var l=i&&!a;clearTimeout(a),a=window.setTimeout((function(){a=void 0,i||e.apply(void 0,r)}),t),l&&e.apply(void 0,r)};return n.cancel=function(){clearTimeout(a)},n}},81545:function(e,t,a){var i,n,r=a(88962),o=a(33368),l=a(71650),c=a(82390),s=a(69205),d=a(70906),u=a(91808),h=a(34541),p=a(47838),f=(a(65666),a(68144)),b=a(79932),v=a(38378);(0,u.Z)([(0,b.Mo)("ha-button-menu")],(function(e,t){var a=function(t){(0,s.Z)(i,t);var a=(0,d.Z)(i);function i(){var t;(0,l.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a.call.apply(a,[this].concat(r)),e((0,c.Z)(t)),t}return(0,o.Z)(i)}(t);return{F:a,d:[{kind:"field",key:v.gA,value:void 0},{kind:"field",decorators:[(0,b.Cb)()],key:"corner",value:function(){return"BOTTOM_START"}},{kind:"field",decorators:[(0,b.Cb)()],key:"menuCorner",value:function(){return"START"}},{kind:"field",decorators:[(0,b.Cb)({type:Number})],key:"x",value:function(){return null}},{kind:"field",decorators:[(0,b.Cb)({type:Number})],key:"y",value:function(){return null}},{kind:"field",decorators:[(0,b.Cb)({type:Boolean})],key:"multi",value:function(){return!1}},{kind:"field",decorators:[(0,b.Cb)({type:Boolean})],key:"activatable",value:function(){return!1}},{kind:"field",decorators:[(0,b.Cb)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,b.Cb)({type:Boolean})],key:"fixed",value:function(){return!1}},{kind:"field",decorators:[(0,b.IO)("mwc-menu",!0)],key:"_menu",value:void 0},{kind:"get",key:"items",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.items}},{kind:"get",key:"selected",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.selected}},{kind:"method",key:"focus",value:function(){var e,t;null!==(e=this._menu)&&void 0!==e&&e.open?this._menu.focusItemAtIndex(0):null===(t=this._triggerButton)||void 0===t||t.focus()}},{kind:"method",key:"render",value:function(){return(0,f.dy)(i||(i=(0,r.Z)([' <div @click="','"> <slot name="trigger" @slotchange="','"></slot> </div> <mwc-menu .corner="','" .menuCorner="','" .fixed="','" .multi="','" .activatable="','" .y="','" .x="','"> <slot></slot> </mwc-menu> '])),this._handleClick,this._setTriggerAria,this.corner,this.menuCorner,this.fixed,this.multi,this.activatable,this.y,this.x)}},{kind:"method",key:"firstUpdated",value:function(e){var t=this;(0,h.Z)((0,p.Z)(a.prototype),"firstUpdated",this).call(this,e),"rtl"===document.dir&&this.updateComplete.then((function(){t.querySelectorAll("mwc-list-item").forEach((function(e){var t=document.createElement("style");t.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",e.shadowRoot.appendChild(t)}))}))}},{kind:"method",key:"_handleClick",value:function(){this.disabled||(this._menu.anchor=this,this._menu.show())}},{kind:"get",key:"_triggerButton",value:function(){return this.querySelector('ha-icon-button[slot="trigger"], mwc-button[slot="trigger"]')}},{kind:"method",key:"_setTriggerAria",value:function(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}},{kind:"get",static:!0,key:"styles",value:function(){return(0,f.iv)(n||(n=(0,r.Z)([":host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}"])))}}]}}),f.oi)},32511:function(e,t,a){var i,n=a(88962),r=a(33368),o=a(71650),l=a(82390),c=a(69205),s=a(70906),d=a(91808),u=a(58417),h=a(39274),p=a(68144),f=a(79932);(0,d.Z)([(0,f.Mo)("ha-checkbox")],(function(e,t){var a=function(t){(0,c.Z)(i,t);var a=(0,s.Z)(i);function i(){var t;(0,o.Z)(this,i);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=a.call.apply(a,[this].concat(r)),e((0,l.Z)(t)),t}return(0,r.Z)(i)}(t);return{F:a,d:[{kind:"field",static:!0,key:"styles",value:function(){return[h.W,(0,p.iv)(i||(i=(0,n.Z)([":host{--mdc-theme-secondary:var(--primary-color)}"])))]}}]}}),u.A)},67622:function(e,t,a){var i,n,r,o,l,c,s=a(88962),d=a(33368),u=a(71650),h=a(82390),p=a(69205),f=a(70906),b=a(91808),v=a(34541),m=a(47838),k=a(31338),_=a(68144),g=a(79932),y=a(83448),x=a(47181);a(76870),a(5666),(0,b.Z)([(0,g.Mo)("ha-file-upload")],(function(e,t){var a=function(t){(0,p.Z)(i,t);var a=(0,f.Z)(i);function i(){var t;(0,u.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a.call.apply(a,[this].concat(r)),e((0,h.Z)(t)),t}return(0,d.Z)(i)}(t);return{F:a,d:[{kind:"field",decorators:[(0,g.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,g.Cb)()],key:"accept",value:void 0},{kind:"field",decorators:[(0,g.Cb)()],key:"icon",value:void 0},{kind:"field",decorators:[(0,g.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,g.Cb)()],key:"value",value:function(){return null}},{kind:"field",decorators:[(0,g.Cb)({type:Boolean})],key:"uploading",value:function(){return!1}},{kind:"field",decorators:[(0,g.Cb)({type:Boolean,attribute:"auto-open-file-dialog"})],key:"autoOpenFileDialog",value:function(){return!1}},{kind:"field",decorators:[(0,g.SB)()],key:"_drag",value:function(){return!1}},{kind:"field",decorators:[(0,g.IO)("#input")],key:"_input",value:void 0},{kind:"method",key:"firstUpdated",value:function(e){(0,v.Z)((0,m.Z)(a.prototype),"firstUpdated",this).call(this,e),this.autoOpenFileDialog&&this._openFilePicker()}},{kind:"method",key:"render",value:function(){var e;return(0,_.dy)(i||(i=(0,s.Z)([" "," "])),this.uploading?(0,_.dy)(n||(n=(0,s.Z)(['<ha-circular-progress alt="Uploading" size="large" active></ha-circular-progress>']))):(0,_.dy)(r||(r=(0,s.Z)([' <label for="input" class="mdc-text-field mdc-text-field--filled ','" @drop="','" @dragenter="','" @dragover="','" @dragleave="','" @dragend="','"> <span class="mdc-text-field__ripple"></span> <span class="mdc-floating-label ','" id="label">',"</span> ",' <div class="value">','</div> <input id="input" type="file" class="mdc-text-field__input file" accept="','" @change="','" aria-labelledby="label"> ',' <span class="mdc-line-ripple ','"></span> </label> '])),(0,y.$)({"mdc-text-field--focused":this._drag,"mdc-text-field--with-leading-icon":Boolean(this.icon),"mdc-text-field--with-trailing-icon":Boolean(this.value)}),this._handleDrop,this._handleDragStart,this._handleDragStart,this._handleDragEnd,this._handleDragEnd,this.value||this._drag?"mdc-floating-label--float-above":"",this.label,this.icon?(0,_.dy)(o||(o=(0,s.Z)(['<span class="mdc-text-field__icon mdc-text-field__icon--leading"> <ha-icon-button @click="','" .path="','"></ha-icon-button> </span>'])),this._openFilePicker,this.icon):"",this.value,this.accept,this._handleFilePicked,this.value?(0,_.dy)(l||(l=(0,s.Z)(['<span class="mdc-text-field__icon mdc-text-field__icon--trailing"> <ha-icon-button slot="suffix" @click="','" .label="','" .path="','"></ha-icon-button> </span>'])),this._clearValue,(null===(e=this.hass)||void 0===e?void 0:e.localize("ui.common.close"))||"close","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"):"",this._drag?"mdc-line-ripple--active":""))}},{kind:"method",key:"_openFilePicker",value:function(){var e;null===(e=this._input)||void 0===e||e.click()}},{kind:"method",key:"_handleDrop",value:function(e){var t;e.preventDefault(),e.stopPropagation(),null!==(t=e.dataTransfer)&&void 0!==t&&t.files&&(0,x.B)(this,"file-picked",{files:e.dataTransfer.files}),this._drag=!1}},{kind:"method",key:"_handleDragStart",value:function(e){e.preventDefault(),e.stopPropagation(),this._drag=!0}},{kind:"method",key:"_handleDragEnd",value:function(e){e.preventDefault(),e.stopPropagation(),this._drag=!1}},{kind:"method",key:"_handleFilePicked",value:function(e){(0,x.B)(this,"file-picked",{files:e.target.files})}},{kind:"method",key:"_clearValue",value:function(e){e.preventDefault(),this.value=null,(0,x.B)(this,"change")}},{kind:"get",static:!0,key:"styles",value:function(){return[k.W,(0,_.iv)(c||(c=(0,s.Z)([':host{display:block}.mdc-text-field--filled{height:auto;padding-top:16px;cursor:pointer}.mdc-text-field--filled.mdc-text-field--with-trailing-icon{padding-top:28px}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field--filled.mdc-text-field--with-trailing-icon .mdc-text-field__icon{align-self:flex-end}.mdc-text-field__icon--leading{margin-bottom:12px;inset-inline-start:initial;inset-inline-end:0px;direction:var(--direction)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:scale(.75);top:8px}.mdc-floating-label{inset-inline-start:16px!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field--filled .mdc-floating-label{inset-inline-start:48px!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__icon--trailing{pointer-events:auto!important}.dragged:before{position:var(--layout-fit_-_position);top:var(--layout-fit_-_top);right:var(--layout-fit_-_right);bottom:var(--layout-fit_-_bottom);left:var(--layout-fit_-_left);background:currentColor;content:"";opacity:var(--dark-divider-opacity);pointer-events:none;border-radius:4px}.value{width:100%}input.file{display:none}img{max-width:100%;max-height:125px}ha-icon-button{--mdc-icon-button-size:24px;--mdc-icon-size:20px}ha-circular-progress{display:block;text-align-last:center}'])))]}}]}}),_.oi)},90806:function(e,t,a){var i,n,r=a(88962),o=a(33368),l=a(71650),c=a(82390),s=a(69205),d=a(70906),u=a(91808),h=a(44636),p=a(68144),f=a(79932);(0,u.Z)([(0,f.Mo)("ha-header-bar")],(function(e,t){var a=function(t){(0,s.Z)(i,t);var a=(0,d.Z)(i);function i(){var t;(0,l.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a.call.apply(a,[this].concat(r)),e((0,c.Z)(t)),t}return(0,o.Z)(i)}(t);return{F:a,d:[{kind:"method",key:"render",value:function(){return(0,p.dy)(i||(i=(0,r.Z)(['<header class="mdc-top-app-bar"> <div class="mdc-top-app-bar__row"> <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start" id="navigation"> <slot name="navigationIcon"></slot> <span class="mdc-top-app-bar__title"> <slot name="title"></slot> </span> </section> <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" id="actions" role="toolbar"> <slot name="actionItems"></slot> </section> </div> </header>'])))}},{kind:"get",static:!0,key:"styles",value:function(){return[(0,p.$m)(h),(0,p.iv)(n||(n=(0,r.Z)([".mdc-top-app-bar__row{height:var(--header-height)}.mdc-top-app-bar{position:static;color:var(--mdc-theme-on-primary,#fff)}.mdc-top-app-bar__section.mdc-top-app-bar__section--align-start{flex:1}.mdc-top-app-bar__section.mdc-top-app-bar__section--align-end{flex:none}"])))]}}]}}),p.oi)},60538:function(e,t,a){a.d(t,{FZ:function(){return h},Fk:function(){return d},_P:function(){return s},jc:function(){return c},p_:function(){return f},vU:function(){return u},wb:function(){return l},zU:function(){return p}});var i=a(99312),n=a(81043),r=a(63864),o=a(41682),l={ssl:"SSL",homeassistant:"Configuration","addons/local":"Local add-ons",media:"Media",share:"Share"},c=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(t){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,r.I)(t.config.version,2021,2,4)){e.next=5;break}return e.next=3,t.callWS({type:"supervisor/api",endpoint:"/".concat((0,r.I)(t.config.version,2021,9)?"backups":"snapshots"),method:"get"});case 3:return a=e.sent,e.abrupt("return",a[(0,r.I)(t.config.version,2021,9)?"backups":"snapshots"]);case 5:return e.t0=o.rY,e.next=8,t.callApi("GET","hassio/".concat((0,r.I)(t.config.version,2021,9)?"backups":"snapshots"));case 8:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1).snapshots);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(t,a){var n,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}if(!(0,r.I)(t.config.version,2021,2,4)){e.next=3;break}return e.abrupt("return",t.callWS({type:"supervisor/api",endpoint:"/".concat((0,r.I)(t.config.version,2021,9)?"backups":"snapshots","/").concat(a,"/info"),method:"get"}));case 3:return e.t0=o.rY,e.next=6,t.callApi("GET","hassio/".concat((0,r.I)(t.config.version,2021,9)?"backups":"snapshots","/").concat(a,"/info"));case 6:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 8:return e.next=10,fetch("/api/hassio/backups/".concat(a,"/info"),{method:"GET"});case 10:return n=e.sent,e.next=13,n.json();case 13:return l=e.sent.data,e.abrupt("return",l);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,r.I)(t.config.version,2021,2,4)){e.next=4;break}return e.next=3,t.callWS({type:"supervisor/api",endpoint:"/".concat((0,r.I)(t.config.version,2021,9)?"backups":"snapshots","/reload"),method:"post"});case 3:return e.abrupt("return");case 4:return e.next=6,t.callApi("POST","hassio/".concat((0,r.I)(t.config.version,2021,9)?"backups":"snapshots","/reload"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(t,a){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,r.I)(t.config.version,2021,2,4)){e.next=4;break}return e.next=3,t.callWS({type:"supervisor/api",endpoint:"/".concat((0,r.I)(t.config.version,2021,9)?"backups":"snapshots","/new/full"),method:"post",timeout:null,data:a});case 3:return e.abrupt("return");case 4:return e.next=6,t.callApi("POST","hassio/".concat((0,r.I)(t.config.version,2021,9)?"backups":"snapshots","/new/full"),a);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),h=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(t,a){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,r.I)(t.config.version,2021,2,4)){e.next=4;break}return e.next=3,t.callWS({type:"supervisor/api",endpoint:"/".concat((0,r.I)(t.config.version,2021,9)?"backups/".concat(a):"snapshots/".concat(a,"/remove")),method:(0,r.I)(t.config.version,2021,9)?"delete":"post"});case 3:return e.abrupt("return");case 4:return e.next=6,t.callApi("POST","hassio/".concat((0,r.I)(t.config.version,2021,9)?"backups":"snapshots","/").concat(a,"/remove"));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(t,a){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,r.I)(t.config.version,2021,2,4)){e.next=4;break}return e.next=3,t.callWS({type:"supervisor/api",endpoint:"/".concat((0,r.I)(t.config.version,2021,9)?"backups":"snapshots","/new/partial"),method:"post",timeout:null,data:a});case 3:return e.abrupt("return");case 4:return e.next=6,t.callApi("POST","hassio/".concat((0,r.I)(t.config.version,2021,9)?"backups":"snapshots","/new/partial"),a);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(t,a){var n,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=new FormData).append("file",a),!t){e.next=8;break}return e.next=5,t.fetchWithAuth("/api/hassio/".concat((0,r.I)(t.config.version,2021,9)?"backups":"snapshots","/new/upload"),{method:"POST",body:n});case 5:o=e.sent,e.next=11;break;case 8:return e.next=10,fetch("/api/hassio/backups/new/upload",{method:"POST",body:n});case 10:o=e.sent;case 11:if(413!==o.status){e.next=15;break}throw new Error("Uploaded backup is too large");case 15:if(200===o.status){e.next=17;break}throw new Error("".concat(o.status," ").concat(o.statusText));case 17:return e.abrupt("return",o.json());case 18:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},10520:function(e,t,a){a.r(t);a(7151),a(33633),a(25534),a(64827),a(23044),a(1437),a(87520),a(42661),a(78337),a(87065),a(6042),a(19440),a(50897),a(30056),a(12679)},44281:function(e,t,a){a.d(t,{j:function(){return r}});var i=a(99312),n=a(81043),r=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,new ResizeObserver((function(){})),e.next=9;break;case 4:return e.prev=4,e.t0=e.catch(0),e.next=8,a.e(5442).then(a.bind(a,5442));case 8:window.ResizeObserver=e.sent.default;case 9:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(){return e.apply(this,arguments)}}()},46134:function(e,t,a){a.d(t,{o:function(){return o}});var i=a(99312),n=a(81043),r=a(44281),o=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.j)();case 2:return e.next=4,a.e(8984).then(a.bind(a,68984));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=6167-fiwZp0dtwjk.js.map