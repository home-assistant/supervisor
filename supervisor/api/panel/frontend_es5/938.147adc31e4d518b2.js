"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["938"],{2110:function(t,e,a){a.d(e,{Z:function(){return i}});const n=t=>t<10?`0${t}`:t;function i(t){const e=Math.floor(t/3600),a=Math.floor(t%3600/60),i=Math.floor(t%3600%60);return e>0?`${e}:${n(a)}:${n(i)}`:a>0?`${a}:${n(i)}`:i>0?""+i:null}},17684:function(t,e,a){a.d(e,{rv:function(){return s},eF:function(){return i},mK:function(){return r}});a(87799),a(81738),a(6989);var n=a(2110);const i=(t,e)=>t.callWS(Object.assign({type:"timer/create"},e)),r=t=>{if(!t.attributes.remaining)return;let e=function(t){const e=t.split(":").map(Number);return 3600*e[0]+60*e[1]+e[2]}(t.attributes.remaining);if("active"===t.state){const a=(new Date).getTime(),n=new Date(t.attributes.finishes_at).getTime();e=Math.max((n-a)/1e3,0)}return e},s=(t,e,a)=>{if(!e)return null;if("idle"===e.state||0===a)return t.formatEntityState(e);let i=(0,n.Z)(a||0)||"0";return"paused"===e.state&&(i=`${i} (${t.formatEntityState(e)})`),i}},6595:function(t,e,a){a.r(e);var n=a(73742),i=a(59048),r=a(7616),s=a(17684);class l extends i.fl{createRenderRoot(){return this}update(t){var e;super.update(t),this.innerHTML=null!==(e=(0,s.rv)(this.hass,this.stateObj,this.timeRemaining))&&void 0!==e?e:"-"}connectedCallback(){super.connectedCallback(),this.stateObj&&this._startInterval(this.stateObj)}disconnectedCallback(){super.disconnectedCallback(),this._clearInterval()}willUpdate(t){super.willUpdate(t),t.has("stateObj")&&this._startInterval(this.stateObj)}_clearInterval(){this._updateRemaining&&(clearInterval(this._updateRemaining),this._updateRemaining=null)}_startInterval(t){this._clearInterval(),this._calculateRemaining(t),"active"===t.state&&(this._updateRemaining=setInterval(()=>this._calculateRemaining(this.stateObj),1e3))}_calculateRemaining(t){this.timeRemaining=(0,s.mK)(t)}}(0,n.__decorate)([(0,r.Cb)({attribute:!1})],l.prototype,"hass",void 0),(0,n.__decorate)([(0,r.Cb)({attribute:!1})],l.prototype,"stateObj",void 0),(0,n.__decorate)([(0,r.SB)()],l.prototype,"timeRemaining",void 0),l=(0,n.__decorate)([(0,r.Mo)("ha-timer-remaining-time")],l)}}]);
//# sourceMappingURL=938.147adc31e4d518b2.js.map