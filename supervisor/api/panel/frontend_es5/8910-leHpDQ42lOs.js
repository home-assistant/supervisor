"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[8910],{76680:function(e,n,t){function r(e){return void 0===e||Array.isArray(e)?e:[e]}t.d(n,{r:function(){return r}})},55642:function(e,n,t){t.d(n,{h:function(){return d}});var r=t(62746),i=t(71650),o=t(33368),a=t(69205),u=t(70906),c=t(68144),l=t(57835),d=(0,l.XM)(function(e){(0,a.Z)(t,e);var n=(0,u.Z)(t);function t(e){var r;if((0,i.Z)(this,t),(r=n.call(this,e))._element=void 0,e.type!==l.pX.CHILD)throw new Error("dynamicElementDirective can only be used in content bindings");return r}return(0,o.Z)(t,[{key:"update",value:function(e,n){var t=this,i=(0,r.Z)(n,2),o=i[0],a=i[1];return this._element&&this._element.localName===o?(a&&Object.entries(a).forEach((function(e){var n=(0,r.Z)(e,2),i=n[0],o=n[1];t._element[i]=o})),c.Jb):this.render(o,a)}},{key:"render",value:function(e,n){var t=this;return this._element=document.createElement(e),n&&Object.entries(n).forEach((function(e){var n=(0,r.Z)(e,2),i=n[0],o=n[1];t._element[i]=o})),this._element}}]),t}(l.Xe))},58831:function(e,n,t){t.d(n,{M:function(){return r}});var r=function(e){return e.substr(0,e.indexOf("."))}},27269:function(e,n,t){t.d(n,{p:function(){return r}});var r=function(e){return e.substr(e.indexOf(".")+1)}},22311:function(e,n,t){t.d(n,{N:function(){return i}});var r=t(58831),i=function(e){return(0,r.M)(e.entity_id)}},91741:function(e,n,t){t.d(n,{C:function(){return i}});var r=t(27269),i=function(e){return n=e.entity_id,void 0===(t=e.attributes).friendly_name?(0,r.p)(n).replace(/_/g," "):t.friendly_name||"";var n,t}},40095:function(e,n,t){t.d(n,{e:function(){return r},f:function(){return i}});var r=function(e,n){return i(e.attributes,n)},i=function(e,n){return 0!=(e.supported_features&n)}},15493:function(e,n,t){t.d(n,{Q2:function(){return o},io:function(){return a},ou:function(){return u}});var r=t(62746),i=t(40039),o=function(){var e,n={},t=new URLSearchParams(location.search),o=(0,i.Z)(t.entries());try{for(o.s();!(e=o.n()).done;){var a=(0,r.Z)(e.value,2),u=a[0],c=a[1];n[u]=c}}catch(l){o.e(l)}finally{o.f()}return n},a=function(e){return new URLSearchParams(window.location.search).get(e)},u=function(e){var n=new URLSearchParams;return Object.entries(e).forEach((function(e){var t=(0,r.Z)(e,2),i=t[0],o=t[1];n.append(i,o)})),n.toString()}},38346:function(e,n,t){t.d(n,{D:function(){return r}});var r=function(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var u=r&&!t;clearTimeout(t),t=window.setTimeout((function(){t=void 0,r||e.apply(void 0,o)}),n),u&&e.apply(void 0,o)};return i.cancel=function(){clearTimeout(t)},i}},68331:function(e,n,t){var r,i,o,a,u,c,l=t(93359),d=t(62746),s=t(88962),f=t(99312),v=t(40039),h=t(81043),m=t(33368),b=t(71650),p=t(82390),y=t(69205),k=t(70906),_=t(91808),g=t(88771),Z=t(47838),P=t(68144),C=t(14243),x=t(55642),w=t(47181),E=(t(9381),t(25727),{boolean:function(){return Promise.all([t.e(1985),t.e(8251)]).then(t.bind(t,78251))},constant:function(){return t.e(409).then(t.bind(t,60409))},float:function(){return t.e(6703).then(t.bind(t,96272))},grid:function(){return t.e(6641).then(t.bind(t,56641))},expandable:function(){return t.e(2670).then(t.bind(t,92670))},integer:function(){return Promise.all([t.e(8133),t.e(3001),t.e(8138),t.e(9715)]).then(t.bind(t,39715))},multi_select:function(){return Promise.all([t.e(1985),t.e(6823)]).then(t.bind(t,86823))},positive_time_period_dict:function(){return Promise.all([t.e(5943),t.e(7289),t.e(1267)]).then(t.bind(t,91267))},select:function(){return Promise.all([t.e(8133),t.e(5943),t.e(7270),t.e(1985),t.e(7812),t.e(7576),t.e(6815),t.e(9221)]).then(t.bind(t,59221))},string:function(){return t.e(6782).then(t.bind(t,37660))}}),O=function(e,n){return e?n.name?e[n.name]:e:null};(0,_.Z)([(0,C.Mo)("ha-form")],(function(e,n){var t,_=function(n){(0,y.Z)(r,n);var t=(0,k.Z)(r);function r(){var n;(0,b.Z)(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),e((0,p.Z)(n)),n}return(0,m.Z)(r)}(n);return{F:_,d:[{kind:"field",decorators:[(0,C.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,C.Cb)({attribute:!1})],key:"data",value:void 0},{kind:"field",decorators:[(0,C.Cb)({attribute:!1})],key:"schema",value:void 0},{kind:"field",decorators:[(0,C.Cb)()],key:"error",value:void 0},{kind:"field",decorators:[(0,C.Cb)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,C.Cb)()],key:"computeError",value:void 0},{kind:"field",decorators:[(0,C.Cb)()],key:"computeLabel",value:void 0},{kind:"field",decorators:[(0,C.Cb)()],key:"computeHelper",value:void 0},{kind:"field",decorators:[(0,C.Cb)()],key:"localizeValue",value:void 0},{kind:"method",key:"focus",value:(t=(0,h.Z)((0,f.Z)().mark((function e(){var n,t,r,i;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateComplete;case 2:if(n=this.renderRoot.querySelector(".root")){e.next=5;break}return e.abrupt("return");case 5:t=(0,v.Z)(n.children),e.prev=6,t.s();case 8:if((r=t.n()).done){e.next=18;break}if("HA-ALERT"===(i=r.value).tagName){e.next=16;break}if(!(i instanceof P.fl)){e.next=14;break}return e.next=14,i.updateComplete;case 14:return i.focus(),e.abrupt("break",18);case 16:e.next=8;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),t.e(e.t0);case 23:return e.prev=23,t.f(),e.finish(23);case 26:case"end":return e.stop()}}),e,this,[[6,20,23,26]])}))),function(){return t.apply(this,arguments)})},{kind:"method",key:"willUpdate",value:function(e){e.has("schema")&&this.schema&&this.schema.forEach((function(e){var n;"selector"in e||null===(n=E[e.type])||void 0===n||n.call(E)}))}},{kind:"method",key:"render",value:function(){var e=this;return(0,P.dy)(r||(r=(0,s.Z)([' <div class="root" part="root"> '," "," </div> "])),this.error&&this.error.base?(0,P.dy)(i||(i=(0,s.Z)([' <ha-alert alert-type="error"> '," </ha-alert> "])),this._computeError(this.error.base,this.schema)):"",this.schema.map((function(n){var t=function(e,n){return e&&n.name?e[n.name]:null}(e.error,n);return(0,P.dy)(o||(o=(0,s.Z)([" "," "," "])),t?(0,P.dy)(a||(a=(0,s.Z)([' <ha-alert own-margin alert-type="error"> '," </ha-alert> "])),e._computeError(t,n)):"","selector"in n?(0,P.dy)(u||(u=(0,s.Z)(['<ha-selector .schema="','" .hass="','" .name="','" .selector="','" .value="','" .label="','" .disabled="','" .placeholder="','" .helper="','" .localizeValue="','" .required="','" .context="','"></ha-selector>'])),n,e.hass,n.name,n.selector,O(e.data,n),e._computeLabel(n,e.data),n.disabled||e.disabled||!1,n.required?"":n.default,e._computeHelper(n),e.localizeValue,n.required||!1,e._generateContext(n)):(0,x.h)("ha-form-".concat(n.type),{schema:n,data:O(e.data,n),label:e._computeLabel(n,e.data),helper:e._computeHelper(n),disabled:e.disabled||n.disabled||!1,hass:e.hass,computeLabel:e.computeLabel,computeHelper:e.computeHelper,context:e._generateContext(n)}))})))}},{kind:"method",key:"_generateContext",value:function(e){if(e.context){for(var n={},t=0,r=Object.entries(e.context);t<r.length;t++){var i=(0,d.Z)(r[t],2),o=i[0],a=i[1];n[o]=this.data[a]}return n}}},{kind:"method",key:"createRenderRoot",value:function(){var e=this,n=(0,g.Z)((0,Z.Z)(_.prototype),"createRenderRoot",this).call(this);return n.addEventListener("value-changed",(function(n){n.stopPropagation();var t=n.target.schema,r=t.name?(0,l.Z)({},t.name,n.detail.value):n.detail.value;(0,w.B)(e,"value-changed",{value:Object.assign(Object.assign({},e.data),r)})})),n}},{kind:"method",key:"_computeLabel",value:function(e,n){return this.computeLabel?this.computeLabel(e,n):e?e.name:""}},{kind:"method",key:"_computeHelper",value:function(e){return this.computeHelper?this.computeHelper(e):""}},{kind:"method",key:"_computeError",value:function(e,n){return this.computeError?this.computeError(e,n):e}},{kind:"get",static:!0,key:"styles",value:function(){return(0,P.iv)(c||(c=(0,s.Z)([".root>*{display:block}.root>:not([own-margin]):not(:last-child){margin-bottom:24px}ha-alert[own-margin]{margin-bottom:4px}"])))}}]}}),P.oi)},25727:function(e,n,t){var r,i=t(88962),o=t(93359),a=t(99312),u=t(81043),c=t(33368),l=t(71650),d=t(82390),s=t(69205),f=t(70906),v=t(91808),h=t(68144),m=t(14243),b=t(14516),p=t(55642),y=t(33855),k={action:function(){return Promise.all([t.e(8133),t.e(5943),t.e(7270),t.e(1985),t.e(3536),t.e(7426),t.e(5365),t.e(7576),t.e(7013),t.e(3980),t.e(7141),t.e(8900),t.e(33),t.e(7289),t.e(8763),t.e(9076),t.e(856),t.e(8102)]).then(t.bind(t,28102))},addon:function(){return t.e(7165).then(t.bind(t,17165))},area:function(){return Promise.all([t.e(8133),t.e(7270),t.e(7576),t.e(3532),t.e(9294)]).then(t.bind(t,68610))},attribute:function(){return Promise.all([t.e(8133),t.e(7270),t.e(3536),t.e(7576),t.e(1601)]).then(t.bind(t,31601))},assist_pipeline:function(){return Promise.all([t.e(5943),t.e(5926)]).then(t.bind(t,65926))},boolean:function(){return t.e(1927).then(t.bind(t,71927))},color_rgb:function(){return t.e(3512).then(t.bind(t,23512))},config_entry:function(){return Promise.all([t.e(8133),t.e(7270),t.e(7576),t.e(3492)]).then(t.bind(t,33492))},conversation_agent:function(){return Promise.all([t.e(5943),t.e(2150)]).then(t.bind(t,2150))},constant:function(){return t.e(4276).then(t.bind(t,4276))},date:function(){return Promise.all([t.e(3536),t.e(8191)]).then(t.bind(t,78191))},datetime:function(){return Promise.all([t.e(5943),t.e(3536),t.e(5066),t.e(9039)]).then(t.bind(t,9039))},device:function(){return Promise.all([t.e(8133),t.e(7270),t.e(7576),t.e(33),t.e(8183)]).then(t.bind(t,68183))},duration:function(){return Promise.all([t.e(5943),t.e(7289),t.e(5054)]).then(t.bind(t,75054))},entity:function(){return Promise.all([t.e(8133),t.e(7270),t.e(7576),t.e(7013),t.e(3980),t.e(7141),t.e(3373)]).then(t.bind(t,71193))},statistic:function(){return Promise.all([t.e(8133),t.e(7270),t.e(7576),t.e(7013),t.e(3980),t.e(7141),t.e(4025)]).then(t.bind(t,56280))},file:function(){return t.e(549).then(t.bind(t,20549))},language:function(){return Promise.all([t.e(5943),t.e(184)]).then(t.bind(t,20184))},navigation:function(){return Promise.all([t.e(8133),t.e(7270),t.e(7576),t.e(4754)]).then(t.bind(t,64754))},number:function(){return Promise.all([t.e(8133),t.e(3001),t.e(8138),t.e(5353)]).then(t.bind(t,65353))},object:function(){return Promise.all([t.e(7426),t.e(8900),t.e(9204)]).then(t.bind(t,59204))},select:function(){return Promise.all([t.e(8133),t.e(5943),t.e(7270),t.e(1985),t.e(7812),t.e(7576),t.e(6815),t.e(6272)]).then(t.bind(t,26272))},state:function(){return Promise.all([t.e(8133),t.e(7270),t.e(3536),t.e(7576),t.e(7013),t.e(856),t.e(6223)]).then(t.bind(t,21795))},stt:function(){return Promise.all([t.e(5943),t.e(3978)]).then(t.bind(t,53978))},target:function(){return Promise.all([t.e(8133),t.e(7270),t.e(5233),t.e(7576),t.e(7013),t.e(3980),t.e(7141),t.e(33),t.e(3532),t.e(2322)]).then(t.bind(t,51265))},template:function(){return t.e(6097).then(t.bind(t,56097))},text:function(){return t.e(4117).then(t.bind(t,44117))},time:function(){return Promise.all([t.e(5943),t.e(5066),t.e(7646)]).then(t.bind(t,77646))},icon:function(){return Promise.all([t.e(7013),t.e(3980),t.e(3862)]).then(t.bind(t,53862))},media:function(){return t.e(9076).then(t.bind(t,39076))},theme:function(){return Promise.all([t.e(5943),t.e(6485)]).then(t.bind(t,46485))},tts:function(){return Promise.all([t.e(5943),t.e(4651)]).then(t.bind(t,34651))},tts_voice:function(){return Promise.all([t.e(5943),t.e(7757)]).then(t.bind(t,57757))},location:function(){return t.e(19).then(t.bind(t,50019))},color_temp:function(){return Promise.all([t.e(8133),t.e(3001),t.e(8138),t.e(278)]).then(t.bind(t,278))},ui_action:function(){return Promise.all([t.e(8133),t.e(7270),t.e(1985),t.e(7426),t.e(5233),t.e(7576),t.e(8900),t.e(8763),t.e(3649)]).then(t.bind(t,83649))},ui_color:function(){return Promise.all([t.e(5943),t.e(9721)]).then(t.bind(t,9721))}},_=new Set(["ui-action","ui-color"]);(0,v.Z)([(0,m.Mo)("ha-selector")],(function(e,n){var t,v=function(n){(0,s.Z)(r,n);var t=(0,f.Z)(r);function r(){var n;(0,l.Z)(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),e((0,d.Z)(n)),n}return(0,c.Z)(r)}(n);return{F:v,d:[{kind:"field",decorators:[(0,m.Cb)()],key:"hass",value:void 0},{kind:"field",decorators:[(0,m.Cb)()],key:"name",value:void 0},{kind:"field",decorators:[(0,m.Cb)()],key:"selector",value:void 0},{kind:"field",decorators:[(0,m.Cb)()],key:"value",value:void 0},{kind:"field",decorators:[(0,m.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,m.Cb)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,m.Cb)()],key:"localizeValue",value:void 0},{kind:"field",decorators:[(0,m.Cb)()],key:"placeholder",value:void 0},{kind:"field",decorators:[(0,m.Cb)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,m.Cb)({type:Boolean})],key:"required",value:function(){return!0}},{kind:"field",decorators:[(0,m.Cb)()],key:"context",value:void 0},{kind:"method",key:"focus",value:(t=(0,u.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateComplete;case 2:null===(n=this.renderRoot.querySelector("#selector"))||void 0===n||n.focus();case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{kind:"get",key:"_type",value:function(){var e=Object.keys(this.selector)[0];return _.has(e)?e.replace("-","_"):e}},{kind:"method",key:"willUpdate",value:function(e){var n;e.has("selector")&&this.selector&&(null===(n=k[this._type])||void 0===n||n.call(k))}},{kind:"field",key:"_handleLegacySelector",value:function(){var e=this;return(0,b.Z)((function(n){if("entity"in n)return(0,y.CM)(n);if("device"in n)return(0,y.c9)(n);var t=Object.keys(e.selector)[0];return _.has(t)?(0,o.Z)({},t.replace("-","_"),n[t]):n}))}},{kind:"method",key:"render",value:function(){return(0,h.dy)(r||(r=(0,i.Z)([" "," "])),(0,p.h)("ha-selector-".concat(this._type),{hass:this.hass,name:this.name,selector:this._handleLegacySelector(this.selector),value:this.value,label:this.label,placeholder:this.placeholder,disabled:this.disabled,required:this.required,helper:this.helper,context:this.context,localizeValue:this.localizeValue,id:"selector"}))}}]}}),h.oi)},57292:function(e,n,t){t.d(n,{HP:function(){return v},R6:function(){return f},jL:function(){return u},pI:function(){return s},q4:function(){return d}});var r=t(40039),i=t(72881),o=t(91741),a=(t(85415),t(38346)),u=function(e,n,t){return e.name_by_user||e.name||t&&function(e,n){var t,i=(0,r.Z)(n||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value,u="string"==typeof a?a:a.entity_id,c=e.states[u];if(c)return(0,o.C)(c)}}catch(l){i.e(l)}finally{i.f()}}(n,t)||n.localize("ui.panel.config.devices.unnamed_device","type",n.localize("ui.panel.config.devices.type.".concat(e.entry_type||"device")))},c=function(e){return e.sendMessagePromise({type:"config/device_registry/list"})},l=function(e,n){return e.subscribeEvents((0,a.D)((function(){return c(e).then((function(e){return n.setState(e,!0)}))}),500,!0),"device_registry_updated")},d=function(e,n){return(0,i.B)("_dr",c,l,e,n)},s=function(e){var n,t={},i=(0,r.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.device_id&&(o.device_id in t||(t[o.device_id]=[]),t[o.device_id].push(o))}}catch(a){i.e(a)}finally{i.f()}return t},f=function(e){var n,t={},i=(0,r.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.device_id&&(o.device_id in t||(t[o.device_id]=[]),t[o.device_id].push(o))}}catch(a){i.e(a)}finally{i.f()}return t},v=function(e,n){var t,i={},o=(0,r.Z)(n);try{for(o.s();!(t=o.n()).done;){var a=t.value,u=e[a.entity_id];null!=u&&u.domain&&null!==a.device_id&&(i[a.device_id]||(i[a.device_id]=[]),i[a.device_id].push(u.domain))}}catch(c){o.e(c)}finally{o.f()}return i}},33855:function(e,n,t){t.d(n,{CM:function(){return b},aV:function(){return s},c9:function(){return p},lE:function(){return h},lV:function(){return m},xO:function(){return d}});var r=t(25518),i=t(76680),o=t(22311),a=t(40095),u=t(57292),c=["domain","integration","device_class"],l=["integration","manufacturer","model"],d=function(e,n,t,r,i,o){var a=[],u=[];return Object.values(t).forEach((function(t){t.area_id===n&&f(e,Object.values(r),t,i,o)&&u.push(t.id)})),Object.values(r).forEach((function(t){t.area_id===n&&v(e.states[t.entity_id],i,o)&&a.push(t.entity_id)})),{devices:u,entities:a}},s=function(e,n,t,r,i){var o=[];return Object.values(t).forEach((function(t){t.device_id===n&&v(e.states[t.entity_id],r,i)&&o.push(t.entity_id)})),{entities:o}},f=function(e,n,t,r,o){var a,c,l=o?(0,u.HP)(o,n):void 0;return!(null!==(a=r.target)&&void 0!==a&&a.device&&!(0,i.r)(r.target.device).some((function(e){return h(e,t,l)})))&&(null===(c=r.target)||void 0===c||!c.entity||n.filter((function(e){return e.device_id===t.id})).some((function(n){var t=e.states[n.entity_id];return v(t,r,o)})))},v=function(e,n,t){var r;return null===(r=n.target)||void 0===r||!r.entity||(0,i.r)(n.target.entity).some((function(n){return m(n,e,t)}))},h=function(e,n,t){var r,i=e.manufacturer,o=e.model,a=e.integration;if(i&&n.manufacturer!==i)return!1;if(o&&n.model!==o)return!1;if(a&&t&&(null==t||null===(r=t[n.id])||void 0===r||!r.includes(a)))return!1;return!0},m=function(e,n,t){var r,u=e.domain,c=e.device_class,l=e.supported_features,d=e.integration;if(u){var s=(0,o.N)(n);if(Array.isArray(u)?!u.includes(s):s!==u)return!1}if(c){var f=n.attributes.device_class;if(f&&Array.isArray(c)?!c.includes(f):f!==c)return!1}return!(l&&!(0,i.r)(l).some((function(e){return(0,a.e)(n,e)})))&&(!d||(null==t||null===(r=t[n.entity_id])||void 0===r?void 0:r.domain)===d)},b=function(e){if(!e.entity)return{entity:null};if("filter"in e.entity)return e;var n=e.entity,t=n.domain,i=n.integration,o=n.device_class,a=(0,r.Z)(n,c);return t||i||o?{entity:Object.assign(Object.assign({},a),{},{filter:{domain:t,integration:i,device_class:o}})}:{entity:a}},p=function(e){if(!e.device)return{device:null};if("filter"in e.device)return e;var n=e.device,t=n.integration,i=n.manufacturer,o=n.model,a=(0,r.Z)(n,l);return t||i||o?{device:Object.assign(Object.assign({},a),{},{filter:{integration:t,manufacturer:i,model:o}})}:{device:a}}}}]);
//# sourceMappingURL=8910-leHpDQ42lOs.js.map