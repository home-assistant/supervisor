"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["7195"],{28543:function(e,t,n){var i=n(46518),r=n(69565),o=n(27476),a=n(33994),s=n(62529),c=n(67750),l=n(18014),u=n(655),h=n(28551),f=n(20034),d=n(22195),p=n(60788),m=n(61034),v=n(55966),g=n(36840),y=n(79039),b=n(78227),k=n(2293),x=n(57829),w=n(56682),A=n(91181),C=n(96395),S=b("matchAll"),L="RegExp String",M=L+" Iterator",I=A.set,O=A.getterFor(M),T=RegExp.prototype,D=TypeError,E=o("".indexOf),F=o("".matchAll),R=!!F&&!y(function(){F("a",/./)}),P=a(function(e,t,n,i){I(this,{type:M,regexp:e,string:t,global:n,unicode:i,done:!1})},L,function(){var e=O(this);if(e.done)return s(void 0,!0);var t=e.regexp,n=e.string,i=w(t,n);return null===i?(e.done=!0,s(void 0,!0)):e.global?(""===u(i[0])&&(t.lastIndex=x(n,l(t.lastIndex),e.unicode)),s(i,!1)):(e.done=!0,s(i,!1))}),q=function(e){var t,n,i,r=h(this),o=u(e),a=k(r,RegExp),s=u(m(r));return t=new a(a===RegExp?r.source:r,s),n=!!~E(s,"g"),i=!!~E(s,"u"),t.lastIndex=l(r.lastIndex),new P(t,o,n,i)};i({target:"String",proto:!0,forced:R},{matchAll:function(e){var t,n,i,o,a=c(this);if(f(e)){if(p(e)&&(t=u(c(m(e))),!~E(t,"g")))throw new D("`.matchAll` does not allow non-global regexes");if(R)return F(a,e);if(void 0===(i=v(e,S))&&C&&"RegExp"===d(e)&&(i=q),i)return r(i,e,a)}else if(R)return F(a,e);return n=u(a),o=new RegExp(e,"g"),C?r(q,o,n):o[S](n)}}),C||S in T||g(T,S,q)},28099:function(e,t,n){n.a(e,async function(e,i){try{n.d(t,{yU:function(){return fe}});var r=n(69683),o=n(6454),a=n(47075),s=n(94741),c=n(78261),l=n(31432),u=n(44734),h=n(43080),f=(n(28706),n(2008),n(50113),n(25276),n(23792),n(62062),n(44114),n(72712),n(34782),n(26910),n(54554),n(18111),n(81148),n(22489),n(20116),n(61701),n(18237),n(13579),n(69085),n(79432),n(26099),n(3362),n(84864),n(57465),n(27495),n(69479),n(90906),n(38781),n(47764),n(71761),n(25440),n(5746),n(90744),n(89907),n(73772),n(62953),n(35999)),d=n(57644),p=n(85745),m=e([p,d]);[p,d]=m.then?(await m)():m;var v=function(){return(0,h.A)(function e(t,n,i,r){(0,u.A)(this,e),this.state=t,this.pos=n,this.explicit=i,this.view=r,this.abortListeners=[],this.abortOnDocChange=!1},[{key:"tokenBefore",value:function(e){for(var t=(0,p.mv)(this.state).resolveInner(this.pos,-1);t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}},{key:"matchBefore",value:function(e){var t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),i=t.text.slice(n-t.from,this.pos-t.from),r=i.search(V(e,!1));return r<0?null:{from:n+r,to:this.pos,text:i.slice(r)}}},{key:"aborted",get:function(){return null==this.abortListeners}},{key:"addEventListener",value:function(e,t,n){"abort"==e&&this.abortListeners&&(this.abortListeners.push(t),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}])}();function J(e){var t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(t.replace(/[^\w\s]/g,"\\$&"),"]")}function H(e){var t,n=Object.create(null),i=Object.create(null),r=(0,l.A)(e);try{for(r.s();!(t=r.n()).done;){var o=t.value.label;n[o[0]]=!0;for(var a=1;a<o.length;a++)i[o[a]]=!0}}catch(c){r.e(c)}finally{r.f()}var s=J(n)+J(i)+"*$";return[new RegExp("^"+s),new RegExp(s)]}var g=(0,h.A)(function e(t,n,i,r){(0,u.A)(this,e),this.completion=t,this.source=n,this.match=i,this.score=r});function Q(e){return e.selection.main.from}function V(e,t){var n,i=e.source,r=t&&"^"!=i[0],o="$"!=i[i.length-1];return r||o?new RegExp("".concat(r?"^":"","(?:").concat(i,")").concat(o?"$":""),null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}var y=f.YH.define();var b=new WeakMap;function G(e){if(!Array.isArray(e))return e;var t,n,i,r,o,a=b.get(e);return a||b.set(e,(t=e.map(function(e){return"string"==typeof e?{label:e}:e}),n=t.every(function(e){return/^\w+$/.test(e.label)})?[/\w*$/,/\w+$/]:H(t),i=(0,c.A)(n,2),r=i[0],o=i[1],a=function(e){var n=e.matchBefore(o);return n||e.explicit?{from:n?n.from:e.pos,options:t,validFor:r}:null})),a}var k=f.Pe.define(),x=f.Pe.define(),w=function(){return(0,h.A)(function e(t){(0,u.A)(this,e),this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(var n=0;n<t.length;){var i=(0,f.vS)(t,n),r=(0,f.Fh)(i);this.chars.push(i);var o=t.slice(n,n+r),a=o.toUpperCase();this.folded.push((0,f.vS)(a==o?o.toLowerCase():a,0)),n+=r}this.astral=t.length!=this.chars.length},[{key:"ret",value:function(e,t){return this.score=e,this.matched=t,this}},{key:"match",value:function(e){if(0==this.pattern.length)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;var t=this.chars,n=this.folded,i=this.any,r=this.precise,o=this.byWord;if(1==t.length){var a=(0,f.vS)(e,0),s=(0,f.Fh)(a),c=s==e.length?0:-100;if(a==t[0]);else{if(a!=n[0])return null;c+=-200}return this.ret(c,[0,s])}var l=e.indexOf(this.pattern);if(0==l)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);var u=t.length,h=0;if(l<0){for(var d=0,p=Math.min(e.length,200);d<p&&h<u;){var m=(0,f.vS)(e,d);m!=t[h]&&m!=n[h]||(i[h++]=d),d+=(0,f.Fh)(m)}if(h<u)return null}for(var v=0,g=0,y=!1,b=0,k=-1,x=-1,w=/[a-z]/.test(e),A=!0,C=0,S=Math.min(e.length,200),L=0;C<S&&g<u;){var M=(0,f.vS)(e,C);l<0&&(v<u&&M==t[v]&&(r[v++]=C),b<u&&(M==t[b]||M==n[b]?(0==b&&(k=C),x=C+1,b++):b=0));var I=void 0,O=M<255?M>=48&&M<=57||M>=97&&M<=122?2:M>=65&&M<=90?1:0:(I=(0,f.MK)(M))!=I.toLowerCase()?1:I!=I.toUpperCase()?2:0;(!C||1==O&&w||0==L&&0!=O)&&(t[g]==M||n[g]==M&&(y=!0)?o[g++]=C:o.length&&(A=!1)),L=O,C+=(0,f.Fh)(M)}return g==u&&0==o[0]&&A?this.result((y?-200:0)-100,o,e):b==u&&0==k?this.ret(-200-e.length+(x==e.length?0:-100),[0,x]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):b==u?this.ret(-900-e.length,[k,x]):g==u?this.result((y?-200:0)-100-700+(A?0:-1100),o,e):2==t.length?null:this.result((i[0]?-700:0)-200-1100,i,e)}},{key:"result",value:function(e,t,n){var i,r=[],o=0,a=(0,l.A)(t);try{for(a.s();!(i=a.n()).done;){var s=i.value,c=s+(this.astral?(0,f.Fh)((0,f.vS)(n,s)):1);o&&r[o-1]==s?r[o-1]=c:(r[o++]=s,r[o++]=c)}}catch(u){a.e(u)}finally{a.f()}return this.ret(e-n.length,r)}}])}(),A=function(){return(0,h.A)(function e(t){(0,u.A)(this,e),this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()},[{key:"match",value:function(e){if(e.length<this.pattern.length)return null;var t=e.slice(0,this.pattern.length),n=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return null==n?null:(this.matched=[0,t.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}])}(),C=f.sj.define({combine:function(e){return(0,f.QR)(e,{activateOnTyping:!0,activateOnCompletion:function(){return!1},activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:function(){return""},optionClass:function(){return""},aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Y,filterStrict:!1,compareCompletions:function(e,t){return(e.sortText||e.label).localeCompare(t.sortText||t.label)},interactionDelay:75,updateSyncTime:100},{defaultKeymap:function(e,t){return e&&t},closeOnBlur:function(e,t){return e&&t},icons:function(e,t){return e&&t},tooltipClass:function(e,t){return function(n){return X(e(n),t(n))}},optionClass:function(e,t){return function(n){return X(e(n),t(n))}},addToOptions:function(e,t){return e.concat(t)},filterStrict:function(e,t){return e||t}})}});function X(e,t){return e?t?e+" "+t:e:t}function Y(e,t,n,i,r,o){var a,s,c=e.textDirection==d.OP.RTL,l=c,u=!1,h="top",f=t.left-r.left,p=r.right-t.right,m=i.right-i.left,v=i.bottom-i.top;if(l&&f<Math.min(m,p)?l=!1:!l&&p<Math.min(m,f)&&(l=!0),m<=(l?f:p))a=Math.max(r.top,Math.min(n.top,r.bottom-v))-t.top,s=Math.min(400,l?f:p);else{u=!0,s=Math.min(400,(c?t.right:r.right-t.left)-30);var g=r.bottom-t.bottom;g>=v||g>t.top?a=n.bottom-t.top:(h="bottom",a=t.bottom-n.top)}var y=(t.bottom-t.top)/o.offsetHeight,b=(t.right-t.left)/o.offsetWidth;return{style:"".concat(h,": ").concat(a/y,"px; max-width: ").concat(s/b,"px"),class:"cm-completionInfo-"+(u?c?"left-narrow":"right-narrow":l?"left":"right")}}function ee(e){var t=e.addToOptions.slice();return e.icons&&t.push({render:function(e){var t,n=document.createElement("div");return n.classList.add("cm-completionIcon"),e.type&&(t=n.classList).add.apply(t,(0,s.A)(e.type.split(/\s+/g).map(function(e){return"cm-completionIcon-"+e}))),n.setAttribute("aria-hidden","true"),n},position:20}),t.push({render:function(e,t,n,i){var r=document.createElement("span");r.className="cm-completionLabel";for(var o=e.displayLabel||e.label,a=0,s=0;s<i.length;){var c=i[s++],l=i[s++];c>a&&r.appendChild(document.createTextNode(o.slice(a,c)));var u=r.appendChild(document.createElement("span"));u.appendChild(document.createTextNode(o.slice(c,l))),u.className="cm-completionMatchedText",a=l}return a<o.length&&r.appendChild(document.createTextNode(o.slice(a))),r},position:50},{render:function(e){if(!e.detail)return null;var t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort(function(e,t){return e.position-t.position}).map(function(e){return e.render})}function te(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){var i=Math.floor(t/n);return{from:i*n,to:(i+1)*n}}var r=Math.floor((e-t)/n);return{from:e-(r+1)*n,to:e-r*n}}var S=function(){return(0,h.A)(function e(t,n,i){var r=this;(0,u.A)(this,e),this.view=t,this.stateField=n,this.applyCompletion=i,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:function(){return r.measureInfo()},write:function(e){return r.placeInfo(e)},key:this},this.space=null,this.currentClass="";var o=t.state.field(n),a=o.open,s=a.options,c=a.selected,l=t.state.facet(C);this.optionContent=ee(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=te(s.length,c,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",function(e){for(var i,o=t.state.field(n).open.options,a=e.target;a&&a!=r.dom;a=a.parentNode)if("LI"==a.nodeName&&(i=/-(\d+)$/.exec(a.id))&&+i[1]<o.length)return r.applyCompletion(t,o[+i[1]]),void e.preventDefault()}),this.dom.addEventListener("focusout",function(e){var n=t.state.field(r.stateField,!1);n&&n.tooltip&&t.state.facet(C).closeOnBlur&&e.relatedTarget!=t.contentDOM&&t.dispatch({effects:x.of(null)})}),this.showOptions(s,o.id)},[{key:"mount",value:function(){this.updateSel()}},{key:"showOptions",value:function(e,t){var n=this;this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",function(){n.info&&n.view.requestMeasure(n.placeInfoReq)})}},{key:"update",value:function(e){var t,n=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=i){var r=n.open,o=r.options,a=r.selected,s=r.disabled;i.open&&i.open.options==o||(this.range=te(o.length,a,e.state.facet(C).maxRenderedOptions),this.showOptions(o,n.id)),this.updateSel(),s!=(null===(t=i.open)||void 0===t?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!s)}}},{key:"updateTooltipClass",value:function(e){var t=this.tooltipClass(e);if(t!=this.currentClass){var n,i=(0,l.A)(this.currentClass.split(" "));try{for(i.s();!(n=i.n()).done;){var r=n.value;r&&this.dom.classList.remove(r)}}catch(c){i.e(c)}finally{i.f()}var o,a=(0,l.A)(t.split(" "));try{for(a.s();!(o=a.n()).done;){var s=o.value;s&&this.dom.classList.add(s)}}catch(c){a.e(c)}finally{a.f()}this.currentClass=t}}},{key:"positioned",value:function(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}},{key:"updateSel",value:function(){var e=this,t=this.view.state.field(this.stateField),n=t.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=te(n.options.length,n.selected,this.view.state.facet(C).maxRenderedOptions),this.showOptions(n.options,t.id));var i=this.updateSelectedOption(n.selected);if(i){this.destroyInfo();var r=n.options[n.selected].completion,o=r.info;if(!o)return;var a="string"==typeof o?document.createTextNode(o):o(r);if(!a)return;"then"in a?a.then(function(n){n&&e.view.state.field(e.stateField,!1)==t&&e.addInfoPane(n,r)}).catch(function(t){return(0,d.c_)(e.view.state,t,"completion info")}):(this.addInfoPane(a,r),i.setAttribute("aria-describedby",this.info.id))}}},{key:"addInfoPane",value:function(e,t){this.destroyInfo();var n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",n.id="cm-completionInfo-"+Math.floor(65535*Math.random()).toString(16),null!=e.nodeType)n.appendChild(e),this.infoDestroy=null;else{var i=e.dom,r=e.destroy;n.appendChild(i),this.infoDestroy=r||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}},{key:"updateSelectedOption",value:function(e){for(var t=null,n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)"LI"==n.nodeName&&n.id?i==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&(n.removeAttribute("aria-selected"),n.removeAttribute("aria-describedby")):i--;return t&&ie(this.list,t),t}},{key:"measureInfo",value:function(){var e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;var t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),r=this.space;if(!r){var o=this.dom.ownerDocument.documentElement;r={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(r.bottom,t.bottom)-10||i.bottom<Math.max(r.top,t.top)+10?null:this.view.state.facet(C).positionInfo(this.view,t,i,n,r,this.dom)}},{key:"placeInfo",value:function(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}},{key:"createListBox",value:function(e,t,n){var i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",function(e){e.target==i&&e.preventDefault()});for(var r=null,o=n.from;o<n.to;o++){var a=e[o],s=a.completion,c=a.match,u=s.section;if(u){var h="string"==typeof u?u:u.name;if(h!=r&&(o>n.from||0==n.from))if(r=h,"string"!=typeof u&&u.header)i.appendChild(u.header(u));else i.appendChild(document.createElement("completion-section")).textContent=h}var f=i.appendChild(document.createElement("li"));f.id=t+"-"+o,f.setAttribute("role","option");var d=this.optionClass(s);d&&(f.className=d);var p,m=(0,l.A)(this.optionContent);try{for(m.s();!(p=m.n()).done;){var v=(0,p.value)(s,this.view.state,this.view,c);v&&f.appendChild(v)}}catch(g){m.e(g)}finally{m.f()}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}},{key:"destroyInfo",value:function(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}},{key:"destroy",value:function(){this.destroyInfo()}}])}();function ne(e,t){return function(n){return new S(n,e,t)}}function ie(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=n.height/e.offsetHeight;i.top<n.top?e.scrollTop-=(n.top-i.top)/r:i.bottom>n.bottom&&(e.scrollTop+=(i.bottom-n.bottom)/r)}function re(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}function oe(e,t){var n,i=[],r=null,o=null,s=function(e){i.push(e);var t=e.completion.section;if(t){r||(r=[]);var n="string"==typeof t?t:t.name;r.some(function(e){return e.name==n})||r.push("string"==typeof t?{name:n}:t)}},c=t.facet(C),u=(0,l.A)(e);try{for(u.s();!(n=u.n()).done;){var h=n.value;if(h.hasResult()){var f=h.result.getMatch;if(!1===h.result.filter){var d,p=(0,l.A)(h.result.options);try{for(p.s();!(d=p.n()).done;){var m=d.value;s(new g(m,h.source,f?f(m):[],1e9-i.length))}}catch(_){p.e(_)}finally{p.f()}}else{var v,y=t.sliceDoc(h.from,h.to),b=void 0,k=c.filterStrict?new A(y):new w(y),x=(0,l.A)(h.result.options);try{for(x.s();!(v=x.n()).done;){var S=v.value;if(b=k.match(S.label)){var L=S.displayLabel?f?f(S,b.matched):[]:b.matched,M=b.score+(S.boost||0);if(s(new g(S,h.source,L,M)),"object"==(0,a.A)(S.section)&&"dynamic"===S.section.rank){var I=S.section.name;o||(o=Object.create(null)),o[I]=Math.max(M,o[I]||-1e9)}}}}catch(_){x.e(_)}finally{x.f()}}}}}catch(_){u.e(_)}finally{u.f()}if(r){var O,T=Object.create(null),D=0,E=(0,l.A)(r.sort(function(e,t){return("dynamic"===e.rank&&"dynamic"===t.rank?o[t.name]-o[e.name]:0)||("number"==typeof e.rank?e.rank:1e9)-("number"==typeof t.rank?t.rank:1e9)||(e.name<t.name?-1:1)}));try{for(E.s();!(O=E.n()).done;){var F=O.value;D-=1e5,T[F.name]=D}}catch(_){E.e(_)}finally{E.f()}var R,P=(0,l.A)(i);try{for(P.s();!(R=P.n()).done;){var q=R.value,W=q.completion.section;W&&(q.score+=T["string"==typeof W?W:W.name])}}catch(_){P.e(_)}finally{P.f()}}var N,z=[],j=null,B=c.compareCompletions,U=(0,l.A)(i.sort(function(e,t){return t.score-e.score||B(e.completion,t.completion)}));try{for(U.s();!(N=U.n()).done;){var $=N.value,Z=$.completion;!j||j.label!=Z.label||j.detail!=Z.detail||null!=j.type&&null!=Z.type&&j.type!=Z.type||j.apply!=Z.apply||j.boost!=Z.boost?z.push($):re($.completion)>re(j)&&(z[z.length-1]=$),j=$.completion}}catch(_){U.e(_)}finally{U.f()}return z}var L=function(){function e(t,n,i,r,o,a){(0,u.A)(this,e),this.options=t,this.attrs=n,this.tooltip=i,this.timestamp=r,this.selected=o,this.disabled=a}return(0,h.A)(e,[{key:"setSelected",value:function(t,n){return t==this.selected||t>=this.options.length?this:new e(this.options,se(n,t),this.tooltip,this.timestamp,t,this.disabled)}},{key:"map",value:function(t){return new e(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{},{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}},{key:"setDisabled",value:function(){return new e(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}],[{key:"build",value:function(t,n,i,r,o,a){if(r&&!a&&t.some(function(e){return e.isPending}))return r.setDisabled();var s=oe(t,n);if(!s.length)return r&&t.some(function(e){return e.isPending})?r.setDisabled():null;var c=n.facet(C).selectOnOpen?0:-1;if(r&&r.selected!=c&&-1!=r.selected)for(var l=r.options[r.selected].completion,u=0;u<s.length;u++)if(s[u].completion==l){c=u;break}return new e(s,se(i,c),{pos:t.reduce(function(e,t){return t.hasResult()?Math.min(e,t.from):e},1e8),create:q,above:o.aboveCursor},r?r.timestamp:Date.now(),c,!1)}}])}(),M=function(){function e(t,n,i){(0,u.A)(this,e),this.active=t,this.id=n,this.open=i}return(0,h.A)(e,[{key:"update",value:function(t){var n=this,i=t.state,r=i.facet(C),o=(r.override||i.languageDataAt("autocomplete",Q(i)).map(G)).map(function(e){return(n.active.find(function(t){return t.source==e})||new D(e,n.active.some(function(e){return 0!=e.state})?1:0)).update(t,r)});o.length==this.active.length&&o.every(function(e,t){return e==n.active[t]})&&(o=this.active);var a=this.open,s=t.effects.some(function(e){return e.is(F)});a&&t.docChanged&&(a=a.map(t.changes)),t.selection||o.some(function(e){return e.hasResult()&&t.changes.touchesRange(e.from,e.to)})||!ae(o,this.active)||s?a=L.build(o,i,this.id,a,r,s):a&&a.disabled&&!o.some(function(e){return e.isPending})&&(a=null),!a&&o.every(function(e){return!e.isPending})&&o.some(function(e){return e.hasResult()})&&(o=o.map(function(e){return e.hasResult()?new D(e.source,0):e}));var c,u=(0,l.A)(t.effects);try{for(u.s();!(c=u.n()).done;){var h=c.value;h.is(R)&&(a=a&&a.setSelected(h.value,this.id))}}catch(f){u.e(f)}finally{u.f()}return o==this.active&&a==this.open?this:new e(o,this.id,a)}},{key:"tooltip",get:function(){return this.open?this.open.tooltip:null}},{key:"attrs",get:function(){return this.open?this.open.attrs:this.active.length?I:O}}],[{key:"start",value:function(){return new e(T,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}}])}();function ae(e,t){if(e==t)return!0;for(var n=0,i=0;;){for(;n<e.length&&!e[n].hasResult();)n++;for(;i<t.length&&!t[i].hasResult();)i++;var r=n==e.length,o=i==t.length;if(r||o)return r==o;if(e[n++].result!=t[i++].result)return!1}}var I={"aria-autocomplete":"list"},O={};function se(e,t){var n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}var T=[];function ce(e,t){if(e.isUserEvent("input.complete")){var n=e.annotation(y);if(n&&t.activateOnCompletion(n))return 12}var i=e.isUserEvent("input.type");return i&&t.activateOnTyping?5:i?1:e.isUserEvent("delete.backward")?2:e.selection?8:e.docChanged?16:0}var D=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,u.A)(this,e),this.source=t,this.state=n,this.explicit=i}return(0,h.A)(e,[{key:"hasResult",value:function(){return!1}},{key:"isPending",get:function(){return 1==this.state}},{key:"update",value:function(t,n){var i=ce(t,n),r=this;(8&i||16&i&&this.touches(t))&&(r=new e(r.source,0)),4&i&&0==r.state&&(r=new e(this.source,1)),r=r.updateFor(t,i);var o,a=(0,l.A)(t.effects);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.is(k))r=new e(r.source,1,s.value);else if(s.is(x))r=new e(r.source,0);else if(s.is(F)){var c,u=(0,l.A)(s.value);try{for(u.s();!(c=u.n()).done;){var h=c.value;h.source==r.source&&(r=h)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){a.e(f)}finally{a.f()}return r}},{key:"updateFor",value:function(e,t){return this.map(e.changes)}},{key:"map",value:function(e){return this}},{key:"touches",value:function(e){return e.changes.touchesRange(Q(e.state))}}])}(),E=function(e){function t(e,n,i,o,a,s){var c;return(0,u.A)(this,t),(c=(0,r.A)(this,t,[e,3,n])).limit=i,c.result=o,c.from=a,c.to=s,c}return(0,o.A)(t,e),(0,h.A)(t,[{key:"hasResult",value:function(){return!0}},{key:"updateFor",value:function(e,n){var i;if(!(3&n))return this.map(e.changes);var r=this.result;r.map&&!e.changes.empty&&(r=r.map(r,e.changes));var o=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),s=Q(e.state);if(s>a||!r||2&n&&(Q(e.startState)==this.from||s<this.limit))return new D(this.source,4&n?1:0);var c=e.changes.mapPos(this.limit);return le(r.validFor,e.state,o,a)?new t(this.source,this.explicit,c,r,o,a):r.update&&(r=r.update(r,o,a,new v(e.state,s,!1)))?new t(this.source,this.explicit,c,r,r.from,null!==(i=r.to)&&void 0!==i?i:Q(e.state)):new D(this.source,1,this.explicit)}},{key:"map",value:function(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new t(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new D(this.source,0)}},{key:"touches",value:function(e){return e.changes.touchesRange(this.from,this.to)}}])}(D);function le(e,t,n,i){if(!e)return!1;var r=t.sliceDoc(n,i);return"function"==typeof e?e(r,n,i,t):V(e,!0).test(r)}var F=f.Pe.define({map:function(e,t){return e.map(function(e){return e.map(t)})}}),R=f.Pe.define(),P=f.sU.define({create:function(){return M.start()},update:function(e,t){return e.update(t)},provide:function(e){return[d.DK.from(e,function(e){return e.tooltip}),d.Lz.contentAttributes.from(e,function(e){return e.attrs})]}});function ue(e,t){var n,i,r,o,a,s,c,l=t.completion.apply||t.completion.label,u=e.state.field(P).active.find(function(e){return e.source==t.source});return u instanceof E&&("string"==typeof l?e.dispatch(Object.assign(Object.assign({},(n=e.state,i=l,r=u.from,o=u.to,a=n.selection.main,s=r-a.from,c=o-a.from,Object.assign(Object.assign({},n.changeByRange(function(e){if(e!=a&&r!=o&&n.sliceDoc(e.from+s,e.from+c)!=n.sliceDoc(r,o))return{range:e};var t=n.toText(i);return{changes:{from:e.from+s,to:o==a.from?e.to:e.from+c,insert:t},range:f.OF.cursor(e.from+s+t.length)}})),{},{scrollIntoView:!0,userEvent:"input.complete"}))),{},{annotations:y.of(t.completion)})):l(e,t.completion,u.from,u.to),!0)}var q=ne(P,ue);function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"option";return function(n){var i=n.state.field(P,!1);if(!i||!i.open||i.open.disabled||Date.now()-i.open.timestamp<n.state.facet(C).interactionDelay)return!1;var r,o=1;"page"==t&&(r=(0,d.Eg)(n,i.open.tooltip))&&(o=Math.max(2,Math.floor(r.dom.offsetHeight/r.dom.querySelector("li").offsetHeight)-1));var a=i.open.options.length,s=i.open.selected>-1?i.open.selected+o*(e?1:-1):e?0:a-1;return s<0?s="page"==t?0:a-1:s>=a&&(s="page"==t?a-1:0),n.dispatch({effects:R.of(s)}),!0}}var W=function(e){return!!e.state.field(P,!1)&&(e.dispatch({effects:k.of(!0)}),!0)},N=(0,h.A)(function e(t,n){(0,u.A)(this,e),this.active=t,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}),z=d.Z9.fromClass(function(){return(0,h.A)(function e(t){(0,u.A)(this,e),this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;var n,i=(0,l.A)(t.state.field(P).active);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.isPending&&this.startQuery(r)}}catch(o){i.e(o)}finally{i.f()}},[{key:"update",value:function(e){var t=this,n=e.state.field(P),i=e.state.facet(C);if(e.selectionSet||e.docChanged||e.startState.field(P)!=n){for(var r=e.transactions.some(function(e){var t=ce(e,i);return 8&t||(e.selection||e.docChanged)&&!(3&t)}),o=0;o<this.running.length;o++){var a=this.running[o];if(r||a.context.abortOnDocChange&&e.docChanged||a.updates.length+e.transactions.length>50&&Date.now()-a.time>1e3){var c,u=(0,l.A)(a.context.abortListeners);try{for(u.s();!(c=u.n()).done;){var h=c.value;try{h()}catch(y){(0,d.c_)(this.view.state,y)}}}catch(b){u.e(b)}finally{u.f()}a.context.abortListeners=null,this.running.splice(o--,1)}else{var f;(f=a.updates).push.apply(f,(0,s.A)(e.transactions))}}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),e.transactions.some(function(e){return e.effects.some(function(e){return e.is(k)})})&&(this.pendingStart=!0);var p=this.pendingStart?50:i.activateOnTypingDelay;if(this.debounceUpdate=n.active.some(function(e){return e.isPending&&!t.running.some(function(t){return t.active.source==e.source})})?setTimeout(function(){return t.startUpdate()},p):-1,0!=this.composing){var m,v=(0,l.A)(e.transactions);try{for(v.s();!(m=v.n()).done;){var g=m.value;g.isUserEvent("input.type")?this.composing=2:2==this.composing&&g.selection&&(this.composing=3)}}catch(b){v.e(b)}finally{v.f()}}}}},{key:"startUpdate",value:function(){var e=this;this.debounceUpdate=-1,this.pendingStart=!1;var t,n=this.view.state.field(P),i=(0,l.A)(n.active);try{var r=function(){var n=t.value;n.isPending&&!e.running.some(function(e){return e.active.source==n.source})&&e.startQuery(n)};for(i.s();!(t=i.n()).done;)r()}catch(o){i.e(o)}finally{i.f()}this.running.length&&n.open&&n.open.disabled&&(this.debounceAccept=setTimeout(function(){return e.accept()},this.view.state.facet(C).updateSyncTime))}},{key:"startQuery",value:function(e){var t=this,n=this.view.state,i=Q(n),r=new v(n,i,e.explicit,this.view),o=new N(e,r);this.running.push(o),Promise.resolve(e.source(r)).then(function(e){o.context.aborted||(o.done=e||null,t.scheduleAccept())},function(e){t.view.dispatch({effects:x.of(null)}),(0,d.c_)(t.view.state,e)})}},{key:"scheduleAccept",value:function(){var e=this;this.running.every(function(e){return void 0!==e.done})?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(function(){return e.accept()},this.view.state.facet(C).updateSyncTime))}},{key:"accept",value:function(){var e,t=this;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;for(var n=[],i=this.view.state.facet(C),r=this.view.state.field(P),o=function(o){var s=t.running[o];if(void 0===s.done)return a=o,0;if(t.running.splice(o--,1),s.done){var c,u=Q(s.updates.length?s.updates[0].startState:t.view.state),h=Math.min(u,s.done.from+(s.active.explicit?0:1)),f=new E(s.active.source,s.active.explicit,h,s.done,s.done.from,null!==(e=s.done.to)&&void 0!==e?e:u),d=(0,l.A)(s.updates);try{for(d.s();!(c=d.n()).done;){var p=c.value;f=f.update(p,i)}}catch(k){d.e(k)}finally{d.f()}if(f.hasResult())return n.push(f),a=o,0}var m=r.active.find(function(e){return e.source==s.active.source});if(m&&m.isPending)if(null==s.done){var v,g=new D(s.active.source,0),y=(0,l.A)(s.updates);try{for(y.s();!(v=y.n()).done;){var b=v.value;g=g.update(b,i)}}catch(k){y.e(k)}finally{y.f()}g.isPending||n.push(g)}else t.startQuery(m);a=o},a=0;a<this.running.length;a++)o(a);(n.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:F.of(n)})}}])}(),{eventHandlers:{blur:function(e){var t=this,n=this.view.state.field(P,!1);if(n&&n.tooltip&&this.view.state.facet(C).closeOnBlur){var i=n.open&&(0,d.Eg)(this.view,n.open.tooltip);i&&i.dom.contains(e.relatedTarget)||setTimeout(function(){return t.view.dispatch({effects:x.of(null)})},10)}},compositionstart:function(){this.composing=1},compositionend:function(){var e=this;3==this.composing&&setTimeout(function(){return e.view.dispatch({effects:k.of(!1)})},20),this.composing=0}}}),j="object"==("undefined"==typeof navigator?"undefined":(0,a.A)(navigator))&&/Win/.test(navigator.platform),B=f.Nb.highest(d.Lz.domEventHandlers({keydown:function(e,t){var n=t.state.field(P,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||e.key.length>1||e.ctrlKey&&(!j||!e.altKey)||e.metaKey)return!1;var i=n.open.options[n.open.selected],r=n.active.find(function(e){return e.source==i.source}),o=i.completion.commitCharacters||r.result.commitCharacters;return o&&o.indexOf(e.key)>-1&&ue(t,i),!1}})),U=d.Lz.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"Â·Â·Â·"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"".concat(400,"px"),boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"".concat(30,"px")},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"".concat(30,"px")},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'Æ’'"}},".cm-completionIcon-class":{"&:after":{content:"'â—‹'"}},".cm-completionIcon-interface":{"&:after":{content:"'â—Œ'"}},".cm-completionIcon-variable":{"&:after":{content:"'ð‘¥'"}},".cm-completionIcon-constant":{"&:after":{content:"'ð¶'"}},".cm-completionIcon-type":{"&:after":{content:"'ð‘¡'"}},".cm-completionIcon-enum":{"&:after":{content:"'âˆª'"}},".cm-completionIcon-property":{"&:after":{content:"'â–¡'"}},".cm-completionIcon-keyword":{"&:after":{content:"'ðŸ”‘ï¸Ž'"}},".cm-completionIcon-namespace":{"&:after":{content:"'â–¢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});var $=new(function(e){function t(){return(0,u.A)(this,t),(0,r.A)(this,t,arguments)}return(0,o.A)(t,e),(0,h.A)(t)}(f.FB));$.startSide=1,$.endSide=-1;"object"==("undefined"==typeof navigator?"undefined":(0,a.A)(navigator))&&navigator.userAgent;function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[B,P,C.of(e),z,_,U]}var Z=[{key:"Ctrl-Space",run:W},{mac:"Alt-`",run:W},{mac:"Alt-i",run:W},{key:"Escape",run:function(e){var t=e.state.field(P,!1);return!(!t||!t.active.some(function(e){return 0!=e.state}))&&(e.dispatch({effects:x.of(null)}),!0)}},{key:"ArrowDown",run:he(!0)},{key:"ArrowUp",run:he(!1)},{key:"PageDown",run:he(!0,"page")},{key:"PageUp",run:he(!1,"page")},{key:"Enter",run:function(e){var t=e.state.field(P,!1);return!(e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(C).interactionDelay)&&ue(e,t.open.options[t.open.selected])}}],_=f.Nb.highest(d.w4.computeN([C],function(e){return e.facet(C).defaultKeymap?[Z]:[]}));i()}catch(K){i(K)}})},79126:function(e,t,n){n.d(t,{n:function(){return l}});n(84864),n(57465),n(27495),n(38781),n(71761);var i=["and","as","block","endblock","by","cycle","debug","else","elif","extends","filter","endfilter","firstof","do","for","endfor","if","endif","ifchanged","endifchanged","ifequal","endifequal","ifnotequal","set","raw","endraw","endifnotequal","in","include","load","not","now","or","parsed","regroup","reversed","spaceless","call","endcall","macro","endmacro","endspaceless","ssi","templatetag","openblock","closeblock","openvariable","closevariable","without","context","openbrace","closebrace","opencomment","closecomment","widthratio","url","with","endwith","get_current_language","trans","endtrans","noop","blocktrans","endblocktrans","get_available_languages","get_current_language_bidi","pluralize","autoescape","endautoescape"],r=/^[+\-*&%=<>!?|~^]/,o=/^[:\[\(\{]/,a=["true","false"],s=/^(\d[+\-\*\/])?\d+(\.\d+)?/;function c(e,t){var n=e.peek();if(t.incomment)return e.skipTo("#}")?(e.eatWhile(/\#|}/),t.incomment=!1):e.skipToEnd(),"comment";if(t.intag){if(t.operator){if(t.operator=!1,e.match(a))return"atom";if(e.match(s))return"number"}if(t.sign){if(t.sign=!1,e.match(a))return"atom";if(e.match(s))return"number"}if(t.instring)return n==t.instring&&(t.instring=!1),e.next(),"string";if("'"==n||'"'==n)return t.instring=n,e.next(),"string";if(t.inbraces>0&&")"==n)e.next(),t.inbraces--;else if("("==n)e.next(),t.inbraces++;else if(t.inbrackets>0&&"]"==n)e.next(),t.inbrackets--;else if("["==n)e.next(),t.inbrackets++;else{if(!t.lineTag&&(e.match(t.intag+"}")||e.eat("-")&&e.match(t.intag+"}")))return t.intag=!1,"tag";if(e.match(r))return t.operator=!0,"operator";if(e.match(o))t.sign=!0;else{if(1==e.column()&&t.lineTag&&e.match(i))return"keyword";if(e.eat(" ")||e.sol()){if(e.match(i))return"keyword";if(e.match(a))return"atom";if(e.match(s))return"number";e.sol()&&e.next()}else e.next()}}return"variable"}if(e.eat("{")){if(e.eat("#"))return t.incomment=!0,e.skipTo("#}")?(e.eatWhile(/\#|}/),t.incomment=!1):e.skipToEnd(),"comment";if(n=e.eat(/\{|%/))return t.intag=n,t.inbraces=0,t.inbrackets=0,"{"==n&&(t.intag="}"),e.eat("-"),"tag"}else if(e.eat("#")){if("#"==e.peek())return e.skipToEnd(),"comment";if(!e.eol())return t.intag=!0,t.lineTag=!0,t.inbraces=0,t.inbrackets=0,"tag"}e.next()}i=new RegExp("(("+i.join(")|(")+"))\\b"),a=new RegExp("(("+a.join(")|(")+"))\\b");var l={name:"jinja2",startState:function(){return{tokenize:c,inbrackets:0,inbraces:0}},token:function(e,t){var n=t.tokenize(e,t);return e.eol()&&t.lineTag&&!t.instring&&0==t.inbraces&&0==t.inbrackets&&(t.intag=!1,t.lineTag=!1),n},languageData:{commentTokens:{block:{open:"{#",close:"#}",line:"##"}}}}},81043:function(e,t,n){n.d(t,{o:function(){return r}});n(84864),n(57465),n(27495),n(90906),n(38781),n(71761);var i=new RegExp("\\b(("+["true","false","on","off","yes","no"].join(")|(")+"))$","i"),r={name:"yaml",token:function(e,t){var n=e.peek(),r=t.escaped;if(t.escaped=!1,"#"==n&&(0==e.pos||/\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),"comment";if(e.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(t.literal&&e.indentation()>t.keyCol)return e.skipToEnd(),"string";if(t.literal&&(t.literal=!1),e.sol()){if(t.keyCol=0,t.pair=!1,t.pairStart=!1,e.match("---"))return"def";if(e.match("..."))return"def";if(e.match(/^\s*-\s+/))return"meta"}if(e.match(/^(\{|\}|\[|\])/))return"{"==n?t.inlinePairs++:"}"==n?t.inlinePairs--:"["==n?t.inlineList++:t.inlineList--,"meta";if(t.inlineList>0&&!r&&","==n)return e.next(),"meta";if(t.inlinePairs>0&&!r&&","==n)return t.keyCol=0,t.pair=!1,t.pairStart=!1,e.next(),"meta";if(t.pairStart){if(e.match(/^\s*(\||\>)\s*/))return t.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable";if(0==t.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(t.inlinePairs>0&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(e.match(i))return"keyword"}return!t.pair&&e.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(t.pair=!0,t.keyCol=e.indentation(),"atom"):t.pair&&e.match(/^:\s*/)?(t.pairStart=!0,"meta"):(t.pairStart=!1,t.escaped="\\"==n,e.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},languageData:{commentTokens:{line:"#"}}}},5507:function(e,t,n){n.a(e,async function(e,i){try{n.d(t,{Eo:function(){return G},gN:function(){return se}});var r=n(94741),o=n(69683),a=n(6454),s=n(31432),c=n(78261),l=n(44734),u=n(43080),h=(n(52675),n(89463),n(2259),n(28706),n(46449),n(23792),n(62062),n(44114),n(34782),n(54554),n(93514),n(18111),n(61701),n(13579),n(26099),n(84864),n(57465),n(27495),n(90906),n(38781),n(47764),n(71761),n(28543),n(25440),n(5746),n(73772),n(62953),n(57644)),f=n(35999),d=n(99403),p=e([h]);h=(p.then?(await p)():p)[0];var m="function"==typeof String.prototype.normalize?function(e){return e.normalize("NFKD")}:function(e){return e},v=function(){return(0,u.A)(function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;(0,l.A)(this,e),this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(i,r),this.bufferStart=i,this.normalize=o?function(e){return o(m(e))}:m,this.query=this.normalize(n)},[{key:"peek",value:function(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,f.vS)(this.buffer,this.bufferPos)}},{key:"next",value:function(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}},{key:"nextOverlapping",value:function(){for(;;){var e=this.peek();if(e<0)return this.done=!0,this;var t=(0,f.MK)(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=(0,f.Fh)(e);var i=this.normalize(t);if(i.length)for(var r=0,o=n;;r++){var a=i.charCodeAt(r),s=this.match(a,o,this.bufferPos+this.bufferStart);if(r==i.length-1){if(s)return this.value=s,this;break}o==n&&r<t.length&&t.charCodeAt(r)==a&&o++}}}},{key:"match",value:function(e,t,n){for(var i=null,r=0;r<this.matches.length;r+=2){var o=this.matches[r],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[r+1],to:n}:(this.matches[r]++,a=!0)),a||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?i={from:t,to:n}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}])}();"undefined"!=typeof Symbol&&(v.prototype[Symbol.iterator]=function(){return this});var g={from:-1,to:-1,match:/.*/.exec("")},y="gm"+(null==/x/.unicode?"":"u"),b=function(){return(0,u.A)(function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length;if((0,l.A)(this,e),this.text=t,this.to=o,this.curLine="",this.done=!1,this.value=g,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new w(t,n,i,r,o);this.re=new RegExp(n,y+((null==i?void 0:i.ignoreCase)?"i":"")),this.test=null==i?void 0:i.test,this.iter=t.iter();var a=t.lineAt(r);this.curLineStart=a.from,this.matchPos=oe(t,r),this.getLine(this.curLineStart)},[{key:"getLine",value:function(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}},{key:"nextLine",value:function(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}},{key:"next",value:function(){for(var e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;var t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){var n=this.curLineStart+t.index,i=n+t[0].length;if(this.matchPos=oe(this.text,i+(n==i?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<i||n>this.value.to)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}])}(),k=new WeakMap,x=function(){function e(t,n){(0,l.A)(this,e),this.from=t,this.text=n}return(0,u.A)(e,[{key:"to",get:function(){return this.from+this.text.length}}],[{key:"get",value:function(t,n,i){var r=k.get(t);if(!r||r.from>=i||r.to<=n){var o=new e(n,t.sliceString(n,i));return k.set(t,o),o}if(r.from==n&&r.to==i)return r;var a=r.text,s=r.from;return s>n&&(a=t.sliceString(n,s)+a,s=n),r.to<i&&(a+=t.sliceString(r.to,i)),k.set(t,new e(s,a)),new e(n,a.slice(n-s,i-s))}}])}(),w=function(){return(0,u.A)(function e(t,n,i,r,o){(0,l.A)(this,e),this.text=t,this.to=o,this.done=!1,this.value=g,this.matchPos=oe(t,r),this.re=new RegExp(n,y+((null==i?void 0:i.ignoreCase)?"i":"")),this.test=null==i?void 0:i.test,this.flat=x.get(t,r,this.chunkEnd(r+5e3))},[{key:"chunkEnd",value:function(e){return e>=this.to?this.to:this.text.lineAt(e).to}},{key:"next",value:function(){for(;;){var e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){var n=this.flat.from+t.index,i=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this.matchPos=oe(this.text,i+(n==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=x.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}])}();function re(e){try{return new RegExp(e,y),!0}catch(t){return!1}}function oe(e,t){if(t>=e.length)return t;for(var n,i=e.lineAt(t);t<i.to&&(n=i.text.charCodeAt(t-i.from))>=56320&&n<57344;)t++;return t}function ae(e){var t=String(e.state.doc.lineAt(e.state.selection.main.head).number),n=(0,d.A)("input",{class:"cm-textfield",name:"line",value:t});function i(){var t=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(t){var i=e.state,r=i.doc.lineAt(i.selection.main.head),o=(0,c.A)(t,5),a=o[1],s=o[2],l=o[3],u=o[4],d=l?+l.slice(1):0,p=s?+s:r.number;if(s&&u){var m=p/100;a&&(m=m*("-"==a?-1:1)+r.number/i.doc.lines),p=Math.round(i.doc.lines*m)}else s&&a&&(p=p*("-"==a?-1:1)+r.number);var v=i.doc.line(Math.max(1,Math.min(i.doc.lines,p))),g=f.OF.cursor(v.from+Math.max(0,Math.min(d,v.length)));e.dispatch({effects:[A.of(!1),h.Lz.scrollIntoView(g.from,{y:"center"})],selection:g}),e.focus()}}return{dom:(0,d.A)("form",{class:"cm-gotoLine",onkeydown:function(t){27==t.keyCode?(t.preventDefault(),e.dispatch({effects:A.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),i())},onsubmit:function(e){e.preventDefault(),i()}},(0,d.A)("label",e.state.phrase("Go to line"),": ",n)," ",(0,d.A)("button",{class:"cm-button",type:"submit"},e.state.phrase("go")),(0,d.A)("button",{name:"close",onclick:function(){e.dispatch({effects:A.of(!1)}),e.focus()},"aria-label":e.state.phrase("close"),type:"button"},["Ã—"]))}}"undefined"!=typeof Symbol&&(b.prototype[Symbol.iterator]=w.prototype[Symbol.iterator]=function(){return this});var A=f.Pe.define(),C=f.sU.define({create:function(){return!0},update:function(e,t){var n,i=(0,s.A)(t.effects);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.is(A)&&(e=r.value)}}catch(o){i.e(o)}finally{i.f()}return e},provide:function(e){return h.S7.from(e,function(e){return e?ae:null})}}),S=h.Lz.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),L={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},M=f.sj.define({combine:function(e){return(0,f.QR)(e,L,{highlightWordAroundCursor:function(e,t){return e||t},minSelectionLength:Math.min,maxMatches:Math.min})}});function se(e){var t=[D,T];return e&&t.push(M.of(e)),t}var I=h.NZ.mark({class:"cm-selectionMatch"}),O=h.NZ.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function ce(e,t,n,i){return!(0!=n&&e(t.sliceDoc(n-1,n))==f.Je.Word||i!=t.doc.length&&e(t.sliceDoc(i,i+1))==f.Je.Word)}function le(e,t,n,i){return e(t.sliceDoc(n,n+1))==f.Je.Word&&e(t.sliceDoc(i-1,i))==f.Je.Word}var T=h.Z9.fromClass(function(){return(0,u.A)(function e(t){(0,l.A)(this,e),this.decorations=this.getDeco(t)},[{key:"update",value:function(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var t=e.state.facet(M),n=e.state,i=n.selection;if(i.ranges.length>1)return h.NZ.none;var r,o=i.main,a=null;if(o.empty){if(!t.highlightWordAroundCursor)return h.NZ.none;var c=n.wordAt(o.head);if(!c)return h.NZ.none;a=n.charCategorizer(o.head),r=n.sliceDoc(c.from,c.to)}else{var l=o.to-o.from;if(l<t.minSelectionLength||l>200)return h.NZ.none;if(t.wholeWords){if(r=n.sliceDoc(o.from,o.to),!ce(a=n.charCategorizer(o.head),n,o.from,o.to)||!le(a,n,o.from,o.to))return h.NZ.none}else if(!(r=n.sliceDoc(o.from,o.to)))return h.NZ.none}var u,f=[],d=(0,s.A)(e.visibleRanges);try{for(d.s();!(u=d.n()).done;)for(var p=u.value,m=new v(n.doc,r,p.from,p.to);!m.next().done;){var g=m.value,y=g.from,b=g.to;if((!a||ce(a,n,y,b))&&(o.empty&&y<=o.from&&b>=o.to?f.push(O.range(y,b)):(y>=o.to||b<=o.from)&&f.push(I.range(y,b)),f.length>t.maxMatches))return h.NZ.none}}catch(k){d.e(k)}finally{d.f()}return h.NZ.set(f)}}])}(),{decorations:function(e){return e.decorations}}),D=h.Lz.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});function ue(e,t){for(var n,i=e.selection,r=i.main,o=i.ranges,a=e.wordAt(r.head),s=a&&a.from==r.from&&a.to==r.to,c=function(n,i){if(i.next(),!i.done){if(n&&o.some(function(e){return e.from==i.value.from}))return l=n,u=i,0;if(s){var r=e.wordAt(i.value.from);if(!r||r.from!=i.value.from||r.to!=i.value.to)return l=n,u=i,0}return{v:i.value}}if(n)return{v:null};i=new v(e.doc,t,0,Math.max(0,o[o.length-1].from-1)),l=n=!0,u=i},l=!1,u=new v(e.doc,t,o[o.length-1].to);;)if(0!==(n=c(l,u))&&n)return n.v}var E=f.sj.define({combine:function(e){return(0,f.QR)(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:function(e){return new X(e)},scrollToMatch:function(e){return h.Lz.scrollIntoView(e)}})}});var F=function(){return(0,u.A)(function e(t){(0,l.A)(this,e),this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||re(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord},[{key:"unquote",value:function(e){return this.literal?e:e.replace(/\\([nrt\\])/g,function(e,t){return"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"})}},{key:"eq",value:function(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}},{key:"create",value:function(){return this.regexp?new q(this):new P(this)}},{key:"getCursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=e.doc?e:f.$t.create({doc:e});return null==n&&(n=i.doc.length),this.regexp?fe(this,i,t,n):he(this,i,t,n)}}])}(),R=(0,u.A)(function e(t){(0,l.A)(this,e),this.spec=t});function he(e,t,n,i){return new v(t.doc,e.unquoted,n,i,e.caseSensitive?void 0:function(e){return e.toLowerCase()},e.wholeWord?(r=t.doc,o=t.charCategorizer(t.selection.main.head),function(e,t,n,i){return(i>e||i+n.length<t)&&(i=Math.max(0,e-2),n=r.sliceString(i,Math.min(r.length,t+2))),!(o(de(n,e-i))==f.Je.Word&&o(pe(n,e-i))==f.Je.Word||o(pe(n,t-i))==f.Je.Word&&o(de(n,t-i))==f.Je.Word)}):void 0);var r,o}var P=function(e){function t(e){return(0,l.A)(this,t),(0,o.A)(this,t,[e])}return(0,a.A)(t,e),(0,u.A)(t,[{key:"nextMatch",value:function(e,t,n){var i=he(this.spec,e,n,e.doc.length).nextOverlapping();if(i.done){var r=Math.min(e.doc.length,t+this.spec.unquoted.length);i=he(this.spec,e,0,r).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==n?null:i.value}},{key:"prevMatchInRange",value:function(e,t,n){for(var i=n;;){for(var r=Math.max(t,i-1e4-this.spec.unquoted.length),o=he(this.spec,e,r,i),a=null;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(r==t)return null;i-=1e4}}},{key:"prevMatch",value:function(e,t,n){var i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),!i||i.from==t&&i.to==n?null:i}},{key:"getReplacement",value:function(e){return this.spec.unquote(this.spec.replace)}},{key:"matchAll",value:function(e,t){for(var n=he(this.spec,e,0,e.doc.length),i=[];!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}},{key:"highlight",value:function(e,t,n,i){for(var r=he(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));!r.next().done;)i(r.value.from,r.value.to)}}])}(R);function fe(e,t,n,i){return new b(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(r=t.charCategorizer(t.selection.main.head),function(e,t,n){return!n[0].length||(r(de(n.input,n.index))!=f.Je.Word||r(pe(n.input,n.index))!=f.Je.Word)&&(r(pe(n.input,n.index+n[0].length))!=f.Je.Word||r(de(n.input,n.index+n[0].length))!=f.Je.Word)}):void 0},n,i);var r}function de(e,t){return e.slice((0,f.zK)(e,t,!1),t)}function pe(e,t){return e.slice(t,(0,f.zK)(e,t))}var q=function(e){function t(){return(0,l.A)(this,t),(0,o.A)(this,t,arguments)}return(0,a.A)(t,e),(0,u.A)(t,[{key:"nextMatch",value:function(e,t,n){var i=fe(this.spec,e,n,e.doc.length).next();return i.done&&(i=fe(this.spec,e,0,t).next()),i.done?null:i.value}},{key:"prevMatchInRange",value:function(e,t,n){for(var i=1;;i++){for(var r=Math.max(t,n-1e4*i),o=fe(this.spec,e,r,n),a=null;!o.next().done;)a=o.value;if(a&&(r==t||a.from>r+10))return a;if(r==t)return null}}},{key:"prevMatch",value:function(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}},{key:"getReplacement",value:function(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,function(t,n){if("&"==n)return e.match[0];if("$"==n)return"$";for(var i=n.length;i>0;i--){var r=+n.slice(0,i);if(r>0&&r<e.match.length)return e.match[r]+n.slice(i)}return t})}},{key:"matchAll",value:function(e,t){for(var n=fe(this.spec,e,0,e.doc.length),i=[];!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}},{key:"highlight",value:function(e,t,n,i){for(var r=fe(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));!r.next().done;)i(r.value.from,r.value.to)}}])}(R),W=f.Pe.define(),N=f.Pe.define(),z=f.sU.define({create:function(e){return new j(ge(e).create(),null)},update:function(e,t){var n,i=(0,s.A)(t.effects);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.is(W)?e=new j(r.value.create(),e.panel):r.is(N)&&(e=new j(e.query,r.value?ve:null))}}catch(o){i.e(o)}finally{i.f()}return e},provide:function(e){return h.S7.from(e,function(e){return e.panel})}});var j=(0,u.A)(function e(t,n){(0,l.A)(this,e),this.query=t,this.panel=n}),B=h.NZ.mark({class:"cm-searchMatch"}),U=h.NZ.mark({class:"cm-searchMatch cm-searchMatch-selected"}),$=h.Z9.fromClass(function(){return(0,u.A)(function e(t){(0,l.A)(this,e),this.view=t,this.decorations=this.highlight(t.state.field(z))},[{key:"update",value:function(e){var t=e.state.field(z);(t!=e.startState.field(z)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}},{key:"highlight",value:function(e){var t=e.query;if(!e.panel||!t.spec.valid)return h.NZ.none;for(var n=this.view,i=new f.vB,r=0,o=n.visibleRanges,a=o.length;r<a;r++){for(var s=o[r],c=s.from,l=s.to;r<a-1&&l>o[r+1].from-500;)l=o[++r].to;t.highlight(n.state,c,l,function(e,t){var r=n.state.selection.ranges.some(function(n){return n.from==e&&n.to==t});i.add(e,t,r?U:B)})}return i.finish()}}])}(),{decorations:function(e){return e.decorations}});function me(e){return function(t){var n=t.state.field(z,!1);return n&&n.query.spec.valid?e(t,n):Q(t)}}var Z=me(function(e,t){var n=t.query,i=e.state.selection.main.to,r=n.nextMatch(e.state,i,i);if(!r)return!1;var o=f.OF.single(r.from,r.to),a=e.state.facet(E);return e.dispatch({selection:o,effects:[xe(e,r),a.scrollToMatch(o.main,e)],userEvent:"select.search"}),be(e),!0}),_=me(function(e,t){var n=t.query,i=e.state,r=i.selection.main.from,o=n.prevMatch(i,r,r);if(!o)return!1;var a=f.OF.single(o.from,o.to),s=e.state.facet(E);return e.dispatch({selection:a,effects:[xe(e,o),s.scrollToMatch(a.main,e)],userEvent:"select.search"}),be(e),!0}),K=me(function(e,t){var n=t.query.matchAll(e.state,1e3);return!(!n||!n.length)&&(e.dispatch({selection:f.OF.create(n.map(function(e){return f.OF.range(e.from,e.to)})),userEvent:"select.search.matches"}),!0)}),J=me(function(e,t){var n=t.query,i=e.state,r=i.selection.main,o=r.from,a=r.to;if(i.readOnly)return!1;var s=n.nextMatch(i,o,o);if(!s)return!1;var c,l,u=s,d=[],p=[];u.from==o&&u.to==a&&(l=i.toText(n.getReplacement(u)),d.push({from:u.from,to:u.to,insert:l}),u=n.nextMatch(i,u.from,u.to),p.push(h.Lz.announce.of(i.phrase("replaced match on line $",i.doc.lineAt(o).number)+".")));var m=e.state.changes(d);return u&&(c=f.OF.single(u.from,u.to).map(m),p.push(xe(e,u)),p.push(i.facet(E).scrollToMatch(c.main,e))),e.dispatch({changes:m,selection:c,effects:p,userEvent:"input.replace"}),!0}),H=me(function(e,t){var n=t.query;if(e.state.readOnly)return!1;var i=n.matchAll(e.state,1e9).map(function(e){return{from:e.from,to:e.to,insert:n.getReplacement(e)}});if(!i.length)return!1;var r=e.state.phrase("replaced $ matches",i.length)+".";return e.dispatch({changes:i,effects:h.Lz.announce.of(r),userEvent:"input.replace.all"}),!0});function ve(e){return e.state.facet(E).createPanel(e)}function ge(e,t){var n,i,r,o,a,s=e.selection.main,c=s.empty||s.to>s.from+100?"":e.sliceDoc(s.from,s.to);if(t&&!c)return t;var l=e.facet(E);return new F({search:(null!==(n=null==t?void 0:t.literal)&&void 0!==n?n:l.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:null!==(i=null==t?void 0:t.caseSensitive)&&void 0!==i?i:l.caseSensitive,literal:null!==(r=null==t?void 0:t.literal)&&void 0!==r?r:l.literal,regexp:null!==(o=null==t?void 0:t.regexp)&&void 0!==o?o:l.regexp,wholeWord:null!==(a=null==t?void 0:t.wholeWord)&&void 0!==a?a:l.wholeWord})}function ye(e){var t=(0,h.ld)(e,ve);return t&&t.dom.querySelector("[main-field]")}function be(e){var t=ye(e);t&&t==e.root.activeElement&&t.select()}var Q=function(e){var t=e.state.field(z,!1);if(t&&t.panel){var n=ye(e);if(n&&n!=e.root.activeElement){var i=ge(e.state,t.query.spec);i.valid&&e.dispatch({effects:W.of(i)}),n.focus(),n.select()}}else e.dispatch({effects:[N.of(!0),t?W.of(ge(e.state,t.query.spec)):f.Pe.appendConfig.of(ne)]});return!0},V=function(e){var t=e.state.field(z,!1);if(!t||!t.panel)return!1;var n=(0,h.ld)(e,ve);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:N.of(!1)}),!0},G=[{key:"Mod-f",run:Q,scope:"editor search-panel"},{key:"F3",run:Z,shift:_,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Z,shift:_,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:V,scope:"editor search-panel"},{key:"Mod-Shift-l",run:function(e){var t=e.state,n=e.dispatch,i=t.selection;if(i.ranges.length>1||i.main.empty)return!1;for(var r=i.main,o=r.from,a=r.to,s=[],c=0,l=new v(t.doc,t.sliceDoc(o,a));!l.next().done;){if(s.length>1e3)return!1;l.value.from==o&&(c=s.length),s.push(f.OF.range(l.value.from,l.value.to))}return n(t.update({selection:f.OF.create(s,c),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:function(e){var t=(0,h.ld)(e,ae);if(!t){var n=[A.of(!0)];null==e.state.field(C,!1)&&n.push(f.Pe.appendConfig.of([C,S])),e.dispatch({effects:n}),t=(0,h.ld)(e,ae)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:function(e){var t=e.state,n=e.dispatch,i=t.selection.ranges;if(i.some(function(e){return e.from===e.to}))return function(e){var t=e.state,n=e.dispatch,i=t.selection,r=f.OF.create(i.ranges.map(function(e){return t.wordAt(e.head)||f.OF.cursor(e.head)}),i.mainIndex);return!r.eq(i)&&(n(t.update({selection:r})),!0)}({state:t,dispatch:n});var r=t.sliceDoc(i[0].from,i[0].to);if(t.selection.ranges.some(function(e){return t.sliceDoc(e.from,e.to)!=r}))return!1;var o=ue(t,r);return!!o&&(n(t.update({selection:t.selection.addRange(f.OF.range(o.from,o.to),!1),effects:h.Lz.scrollIntoView(o.to)})),!0)},preventDefault:!0}],X=function(){return(0,u.A)(function e(t){var n=this;(0,l.A)(this,e),this.view=t;var i=this.query=t.state.field(z).query.spec;function o(e,t,n){return(0,d.A)("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=(0,d.A)("input",{value:i.search,placeholder:ke(t,"Find"),"aria-label":ke(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=(0,d.A)("input",{value:i.replace,placeholder:ke(t,"Replace"),"aria-label":ke(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=(0,d.A)("input",{type:"checkbox",name:"case",form:"",checked:i.caseSensitive,onchange:this.commit}),this.reField=(0,d.A)("input",{type:"checkbox",name:"re",form:"",checked:i.regexp,onchange:this.commit}),this.wordField=(0,d.A)("input",{type:"checkbox",name:"word",form:"",checked:i.wholeWord,onchange:this.commit}),this.dom=(0,d.A)("div",{onkeydown:function(e){return n.keydown(e)},class:"cm-search"},[this.searchField,o("next",function(){return Z(t)},[ke(t,"next")]),o("prev",function(){return _(t)},[ke(t,"previous")]),o("select",function(){return K(t)},[ke(t,"all")]),(0,d.A)("label",null,[this.caseField,ke(t,"match case")]),(0,d.A)("label",null,[this.reField,ke(t,"regexp")]),(0,d.A)("label",null,[this.wordField,ke(t,"by word")])].concat((0,r.A)(t.state.readOnly?[]:[(0,d.A)("br"),this.replaceField,o("replace",function(){return J(t)},[ke(t,"replace")]),o("replaceAll",function(){return H(t)},[ke(t,"replace all")])]),[(0,d.A)("button",{name:"close",onclick:function(){return V(t)},"aria-label":ke(t,"close"),type:"button"},["Ã—"])]))},[{key:"commit",value:function(){var e=new F({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:W.of(e)}))}},{key:"keydown",value:function(e){(0,h.TS)(this.view,e,"search-panel")?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?_:Z)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),J(this.view))}},{key:"update",value:function(e){var t,n=(0,s.A)(e.transactions);try{for(n.s();!(t=n.n()).done;){var i,r=t.value,o=(0,s.A)(r.effects);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.is(W)&&!a.value.eq(this.query)&&this.setQuery(a.value)}}catch(c){o.e(c)}finally{o.f()}}}catch(c){n.e(c)}finally{n.f()}}},{key:"setQuery",value:function(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}},{key:"mount",value:function(){this.searchField.select()}},{key:"pos",get:function(){return 80}},{key:"top",get:function(){return this.view.state.facet(E).top}}])}();function ke(e,t){return e.state.phrase(t)}var Y=30,ee=/[\s\.,:;?!]/;function xe(e,t){var n=t.from,i=t.to,r=e.state.doc.lineAt(n),o=e.state.doc.lineAt(i).to,a=Math.max(r.from,n-Y),s=Math.min(o,i+Y),c=e.state.sliceDoc(a,s);if(a!=r.from)for(var l=0;l<Y;l++)if(!ee.test(c[l+1])&&ee.test(c[l])){c=c.slice(l);break}if(s!=o)for(var u=c.length-1;u>c.length-Y;u--)if(!ee.test(c[u-1])&&ee.test(c[u])){c=c.slice(0,u);break}return h.Lz.announce.of("".concat(e.state.phrase("current match"),". ").concat(c," ").concat(e.state.phrase("on line")," ").concat(r.number,"."))}var te=h.Lz.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),ne=[z,f.Nb.low($),te];i()}catch(ie){i(ie)}})},67715:function(e,t,n){n.a(e,async function(e,i){try{n.d(t,{h:function(){return k}});var r=n(44734),o=n(43080),a=n(31432),s=(n(16280),n(28706),n(23792),n(62062),n(44114),n(18111),n(61701),n(36033),n(69085),n(26099),n(31415),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(47764),n(42762),n(62953),n(85745)),c=n(35999),l=n(57644),u=e([s,l]);function m(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.state,i=new Set,r=(0,a.A)(e.visibleRanges);try{for(r.s();!(t=r.n()).done;)for(var o=t.value,s=o.from,c=o.to,l=s;l<=c;){var u=n.doc.lineAt(l);i.has(u)||i.add(u),l=u.to+1}}catch(h){r.e(h)}finally{r.f()}return i}function v(e){var t=e.selection.main.head;return e.doc.lineAt(t)}function g(e,t){var n=0;e:for(var i=0;i<e.length;i++)switch(e[i]){case" ":case"Â ":n+=1;continue e;case"\t":n+=t-n%t;continue e;case"\r":continue e;default:break e}return n}[s,l]=u.then?(await u)():u;var h=c.sj.define({combine:function(e){return(0,c.QR)(e,{highlightActiveBlock:!0,hideFirstIndent:!1,markerType:"fullScope",thickness:1})}}),f=function(){return(0,o.A)(function e(t,n,i,o){(0,r.A)(this,e),this.lines=t,this.state=n,this.map=new Map,this.unitWidth=i,this.markerType=o;var s,c=(0,a.A)(this.lines);try{for(c.s();!(s=c.n()).done;){var l=s.value;this.add(l)}}catch(u){c.e(u)}finally{c.f()}this.state.facet(h).highlightActiveBlock&&this.findAndSetActiveLines()},[{key:"has",value:function(e){return this.map.has("number"==typeof e?e:e.number)}},{key:"get",value:function(e){var t=this.map.get("number"==typeof e?e:e.number);if(!t)throw new Error("Line not found in indentation map");return t}},{key:"set",value:function(e,t,n){var i=!e.text.trim().length,r={line:e,col:t,level:n,empty:i};return this.map.set(r.line.number,r),r}},{key:"add",value:function(e){if(this.has(e))return this.get(e);if(!e.length||!e.text.trim().length){if(1===e.number)return this.set(e,0,0);if(e.number===this.state.doc.lines){var t=this.closestNonEmpty(e,-1);return this.set(e,0,t.level)}var n=this.closestNonEmpty(e,-1),i=this.closestNonEmpty(e,1);return n.level>=i.level&&"codeOnly"!==this.markerType?this.set(e,0,n.level):n.empty&&0===n.level&&0!==i.level?this.set(e,0,0):i.level>n.level?this.set(e,0,n.level+1):this.set(e,0,i.level)}var r=g(e.text,this.state.tabSize),o=Math.floor(r/this.unitWidth);return this.set(e,r,o)}},{key:"closestNonEmpty",value:function(e,t){for(var n=e.number+t;-1===t?n>=1:n<=this.state.doc.lines;){if(this.has(n)){var i=this.get(n);if(!i.empty)return i}var r=this.state.doc.line(n);if(r.text.trim().length){var o=g(r.text,this.state.tabSize),a=Math.floor(o/this.unitWidth);return this.set(r,o,a)}n+=t}var s=this.state.doc.line(-1===t?1:this.state.doc.lines);return this.set(s,0,0)}},{key:"findAndSetActiveLines",value:function(){var e=v(this.state);if(this.has(e)){var t=this.get(e);if(this.has(t.line.number+1)){var n=this.get(t.line.number+1);n.level>t.level&&(t=n)}if(this.has(t.line.number-1)){var i=this.get(t.line.number-1);i.level>t.level&&(t=i)}if(0!==t.level){var r,o;for(t.active=t.level,r=t.line.number;r>1;r--)if(this.has(r-1)){var a=this.get(r-1);if(a.level<t.level)break;a.active=t.level}for(o=t.line.number;o<this.state.doc.lines;o++)if(this.has(o+1)){var s=this.get(o+1);if(s.level<t.level)break;s.active=t.level}}}}}])}();function y(e,t,n,i,r){var o="repeating-linear-gradient(to right, var(".concat(e,") 0 ").concat(t,"px, transparent ").concat(t,"px ").concat(n,"ch)");return"".concat(o," ").concat(i*n,".5ch/calc(").concat(n*r,"ch - 1px) no-repeat")}function b(e,t,n,i,r){var o=e.level,a=e.active;if(r=null!=r?r:i,n&&0===o)return[];var s=n?1:0,c=[];if(void 0!==a){var l=a-s-1;l>0&&c.push(y("--indent-marker-bg-color",i,t,s,l)),c.push(y("--indent-marker-active-bg-color",r,t,a-1,1)),a!==o&&c.push(y("--indent-marker-bg-color",i,t,a,o-a))}else c.push(y("--indent-marker-bg-color",i,t,s,o-s));return c.join(",")}var d=function(){return(0,o.A)(function e(t){(0,r.A)(this,e),this.view=t,this.unitWidth=(0,s.tp)(t.state),this.currentLineNumber=v(t.state).number,this.generate(t.state)},[{key:"update",value:function(e){var t=(0,s.tp)(e.state),n=t!==this.unitWidth;n&&(this.unitWidth=t);var i=v(e.state).number,r=i!==this.currentLineNumber;this.currentLineNumber=i;var o=e.state.facet(h).highlightActiveBlock&&r;(e.docChanged||e.viewportChanged||n||o)&&this.generate(e.state)}},{key:"generate",value:function(e){var t,n=new c.vB,i=m(this.view,e),r=e.facet(h),o=r.hideFirstIndent,s=r.markerType,u=r.thickness,d=r.activeThickness,p=new f(i,e,this.unitWidth,s),v=(0,a.A)(i);try{for(v.s();!(t=v.n()).done;){var g=t.value,y=p.get(g.number);if(null==y?void 0:y.level){var k=b(y,this.unitWidth,o,u,d);n.add(g.from,g.from,l.NZ.line({class:"cm-indent-markers",attributes:{style:"--indent-markers: ".concat(k)}}))}}}catch(x){v.e(x)}finally{v.f()}this.decorations=n.finish()}}])}();function k(){var e,t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[h.of(i),(e=i.colors,t={light:"#F0F1F2",dark:"#2B3245",activeLight:"#E4E5E6",activeDark:"#3C445C"},n=t,e&&(n=Object.assign(Object.assign({},t),e)),l.Lz.baseTheme({"&light":{"--indent-marker-bg-color":n.light,"--indent-marker-active-bg-color":n.activeLight},"&dark":{"--indent-marker-bg-color":n.dark,"--indent-marker-active-bg-color":n.activeDark},".cm-line":{position:"relative"},".cm-indent-markers::before":{content:'""',position:"absolute",top:0,left:"2px",right:0,bottom:0,background:"var(--indent-markers)",pointerEvents:"none",zIndex:"-1"}})),l.Z9.fromClass(d,{decorations:function(e){return e.decorations}})]}i()}catch(p){i(p)}})}}]);
//# sourceMappingURL=7195.5b5fe1b56654eb10.js.map