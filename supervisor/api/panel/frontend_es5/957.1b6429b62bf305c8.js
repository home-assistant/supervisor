"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["957"],{58349:function(e,t,i){var n,a,s=i(72153),r=i(61397),o=i(50264),l=i(44734),c=i(43080),h=i(69683),d=i(6454),u=i(25460),p=(i(28706),i(62826)),m=i(36387),g=i(34875),_=i(7731),f=i(96196),v=i(77845),y=i(94333),A=i(1087),b=(i(9503),function(e){function t(){var e;(0,l.A)(this,t);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=(0,h.A)(this,t,[].concat(n))).checkboxDisabled=!1,e.indeterminate=!1,e}return(0,d.A)(t,e),(0,c.A)(t,[{key:"onChange",value:(i=(0,o.A)((0,r.A)().m(function e(i){return(0,r.A)().w(function(e){for(;;)switch(e.n){case 0:(0,u.A)(t,"onChange",this,3)([i]),(0,A.r)(this,i.type);case 1:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"render",value:function(){var e={"mdc-deprecated-list-item__graphic":this.left,"mdc-deprecated-list-item__meta":!this.left},t=this.renderText(),i=this.graphic&&"control"!==this.graphic&&!this.left?this.renderGraphic():f.s6,a=this.hasMeta&&this.left?this.renderMeta():f.s6,r=this.renderRipple();return(0,f.qy)(n||(n=(0,s.A)([" "," "," ",' <span class="','"> <ha-checkbox reducedTouchTarget tabindex="','" .checked="','" .indeterminate="','" ?disabled="','" @change="','"> </ha-checkbox> </span> '," ",""])),r,i,this.left?"":t,(0,y.H)(e),this.tabindex,this.selected,this.indeterminate,this.disabled||this.checkboxDisabled,this.onChange,this.left?t:"",a)}}]);var i}(m.h));b.styles=[_.R,g.R,(0,f.AH)(a||(a=(0,s.A)([":host{--mdc-theme-secondary:var(--primary-color)}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic,:host([graphic=control]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic,:host([graphic=medium]) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,16px);margin-inline-start:0px;direction:var(--direction)}.mdc-deprecated-list-item__meta{flex-shrink:0;direction:var(--direction);margin-inline-start:auto;margin-inline-end:0}.mdc-deprecated-list-item__graphic{margin-top:var(--check-list-item-graphic-margin-top)}:host([graphic=icon]) .mdc-deprecated-list-item__graphic{margin-inline-start:0;margin-inline-end:var(--mdc-list-item-graphic-margin,32px)}"])))],(0,p.Cg)([(0,v.MZ)({type:Boolean,attribute:"checkbox-disabled"})],b.prototype,"checkboxDisabled",void 0),(0,p.Cg)([(0,v.MZ)({type:Boolean})],b.prototype,"indeterminate",void 0),b=(0,p.Cg)([(0,v.EM)("ha-check-list-item")],b)},9503:function(e,t,i){var n,a=i(72153),s=i(43080),r=i(44734),o=i(69683),l=i(6454),c=i(62826),h=i(69162),d=i(47191),u=i(96196),p=i(77845),m=function(e){function t(){return(0,r.A)(this,t),(0,o.A)(this,t,arguments)}return(0,l.A)(t,e),(0,s.A)(t)}(h.L);m.styles=[d.R,(0,u.AH)(n||(n=(0,a.A)([":host{--mdc-theme-secondary:var(--primary-color)}"])))],m=(0,c.Cg)([(0,p.EM)("ha-checkbox")],m)},93444:function(e,t,i){var n,a,s=i(72153),r=i(44734),o=i(43080),l=i(69683),c=i(6454),h=i(62826),d=i(96196),u=i(77845),p=function(e){function t(){return(0,r.A)(this,t),(0,l.A)(this,t,arguments)}return(0,c.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){return(0,d.qy)(n||(n=(0,s.A)([' <footer> <slot name="secondaryAction"></slot> <slot name="primaryAction"></slot> </footer> '])))}}],[{key:"styles",get:function(){return[(0,d.AH)(a||(a=(0,s.A)(["footer{display:flex;gap:var(--ha-space-3);justify-content:flex-end;align-items:center;width:100%}"])))]}}])}(d.WF);p=(0,h.Cg)([(0,u.EM)("ha-dialog-footer")],p)},67505:function(e,t,i){var n,a,s=i(72153),r=i(44734),o=i(43080),l=i(69683),c=i(6454),h=i(62826),d=i(96196),u=i(77845),p=(i(67094),function(e){function t(){return(0,r.A)(this,t),(0,l.A)(this,t,arguments)}return(0,c.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){return this.hass?(0,d.qy)(n||(n=(0,s.A)([' <ha-svg-icon .path="','"></ha-svg-icon> <span class="prefix">','</span> <span class="text"><slot></slot></span> '])),"M12,2A7,7 0 0,1 19,9C19,11.38 17.81,13.47 16,14.74V17A1,1 0 0,1 15,18H9A1,1 0 0,1 8,17V14.74C6.19,13.47 5,11.38 5,9A7,7 0 0,1 12,2M9,21V20H15V21A1,1 0 0,1 14,22H10A1,1 0 0,1 9,21M12,4A5,5 0 0,0 7,9C7,11.05 8.23,12.81 10,13.58V16H14V13.58C15.77,12.81 17,11.05 17,9A5,5 0 0,0 12,4Z",this.hass.localize("ui.panel.config.tips.tip")):d.s6}}])}(d.WF));p.styles=(0,d.AH)(a||(a=(0,s.A)([":host{display:block;text-align:center}.text{direction:var(--direction);margin-left:2px;margin-inline-start:2px;margin-inline-end:initial;color:var(--secondary-text-color)}.prefix{font-weight:var(--ha-font-weight-medium)}"]))),(0,h.Cg)([(0,u.MZ)({attribute:!1})],p.prototype,"hass",void 0),p=(0,h.Cg)([(0,u.EM)("ha-tip")],p)},71084:function(e,t,i){i.a(e,async function(e,n){try{i.r(t);var a,s,r,o,l,c,h,d,u,p,m,g,_,f=i(61397),v=i(50264),y=i(94741),A=i(72153),b=i(44734),k=i(43080),w=i(69683),C=i(6454),x=(i(28706),i(2008),i(23792),i(62062),i(44114),i(18111),i(22489),i(7588),i(61701),i(69085),i(26099),i(3362),i(31415),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698),i(47764),i(23500),i(62953),i(62826)),H=i(81446),M=i(96196),I=i(77845),L=i(4937),z=i(36312),V=i(1087),q=i(3129),Z=i(53072),D=i(17022),S=i(65063),E=i(18350),U=(i(58349),i(45331)),j=(i(76538),i(93444),i(50888),i(8630),i(65829)),F=(i(67094),i(67505),i(45098)),W=i(62176),R=e([E,U,j,F,W]);[E,U,j,F,W]=R.then?(await R)():R;var T=function(e){function t(){var e;(0,b.A)(this,t);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=(0,w.A)(this,t,[].concat(n)))._uploading=!1,e._deleting=!1,e._selected=new Set,e._open=!1,e._filteredChildren=[],e._filesChanged=!1,e}return(0,C.A)(t,e),(0,k.A)(t,[{key:"showDialog",value:function(e){this._params=e,this._refreshMedia(),this._open=!0}},{key:"closeDialog",value:function(){return this._open=!1,!0}},{key:"_dialogClosed",value:function(){this._filesChanged&&this._params.onClose&&this._params.onClose(),this._params=void 0,this._currentItem=void 0,this._uploading=!1,this._deleting=!1,this._filesChanged=!1,(0,V.r)(this,"dialog-closed",{dialog:this.localName})}},{key:"willUpdate",value:function(){var e;this._filteredChildren=(null===(e=this._currentItem)||void 0===e||null===(e=e.children)||void 0===e?void 0:e.filter(function(e){return!e.can_expand}))||[],0===this._filteredChildren.length&&0!==this._selected.size&&(this._selected=new Set)}},{key:"render",value:function(){var e,t,i,n=this;if(!this._params)return M.s6;var _=0;return(0,M.qy)(a||(a=(0,A.A)([' <ha-wa-dialog .hass="','" .open="','" ?prevent-scrim-close="','" @closed="','"> <ha-dialog-header slot="header"> ',' <span class="title" slot="title" id="dialog-box-title"> '," </span> "," </ha-dialog-header> "," "," </ha-wa-dialog> "])),this.hass,this._open,this._uploading||this._deleting,this._dialogClosed,this._uploading||this._deleting?M.s6:(0,M.qy)(s||(s=(0,A.A)(['<slot name="headerNavigationIcon" slot="navigationIcon"> <ha-icon-button data-dialog="close" .label="','" .path="','"></ha-icon-button></slot>'])),null!==(e=null===(t=this.hass)||void 0===t?void 0:t.localize("ui.common.close"))&&void 0!==e?e:"Close","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"),this.hass.localize("ui.components.media-browser.file_management.title"),0===this._selected.size?(0,M.qy)(r||(r=(0,A.A)(['<ha-media-upload-button .hass="','" .currentItem="','" @uploading="','" @media-refresh="','" slot="actionItems"></ha-media-upload-button>'])),this.hass,this._params.currentItem,this._startUploading,this._doneUploading):(0,M.qy)(o||(o=(0,A.A)(['<ha-button variant="danger" slot="actionItems" .disabled="','" @click="','"> <ha-svg-icon .path="','" slot="start"></ha-svg-icon> '," </ha-button>"])),this._deleting,this._handleDelete,"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",this.hass.localize("ui.components.media-browser.file_management.".concat(this._deleting?"deleting":"delete"),{count:this._selected.size})),this._currentItem?this._filteredChildren.length?(0,M.qy)(d||(d=(0,A.A)([' <div class="buttons" slot="footer"> <ha-button appearance="filled" @click="','" .disabled="','"> <ha-svg-icon .path="','" slot="start"></ha-svg-icon> ',' </ha-button> <ha-button appearance="filled" @click="','" .disabled="','"> <ha-svg-icon .path="','" slot="start"></ha-svg-icon> ',' </ha-button> </div> <ha-list multi @selected="','"> '," </ha-list> "])),this._handleDeselectAll,0===this._selected.size,"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z",this.hass.localize("ui.components.media-browser.file_management.deselect_all"),this._handleSelectAll,this._selected.size===this._filteredChildren.length,"M19,19H5V5H15V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V11H19M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z",this.hass.localize("ui.components.media-browser.file_management.select_all"),this._handleSelected,(0,L.u)(this._filteredChildren,function(e){return e.media_content_id},function(e){var t=(0,M.qy)(u||(u=(0,A.A)([' <ha-svg-icon slot="graphic" .path="','"></ha-svg-icon> '])),Z.EC["directory"===e.media_class&&e.children_media_class||e.media_class].icon);return(0,M.qy)(p||(p=(0,A.A)([" <ha-check-list-item ",' graphic="icon" .disabled="','" .selected="','" .item="','"> '," "," </ha-check-list-item> "])),(0,H.i0)({id:e.media_content_id,skipInitial:!0}),n._uploading||n._deleting,n._selected.has(_++),e,t,e.title)})):(0,M.qy)(c||(c=(0,A.A)(['<div class="no-items"> <p> '," </p> "," </div>"])),this.hass.localize("ui.components.media-browser.file_management.no_items"),null!==(i=this._currentItem)&&void 0!==i&&null!==(i=i.children)&&void 0!==i&&i.length?(0,M.qy)(h||(h=(0,A.A)(['<span class="folders">',"</span>"])),this.hass.localize("ui.components.media-browser.file_management.folders_not_supported")):""):(0,M.qy)(l||(l=(0,A.A)([' <div class="refresh"> <ha-spinner></ha-spinner> </div> ']))),(0,z.x)(this.hass,"hassio")?(0,M.qy)(m||(m=(0,A.A)(['<ha-tip .hass="','"> '," </ha-tip>"])),this.hass,this.hass.localize("ui.components.media-browser.file_management.tip_media_storage",{storage:(0,M.qy)(g||(g=(0,A.A)(['<a href="/config/storage" @click="','"> ',"</a>"])),this.closeDialog,this.hass.localize("ui.components.media-browser.file_management.tip_storage_panel"))})):M.s6)}},{key:"_handleSelected",value:function(e){this._selected=e.detail.index}},{key:"_startUploading",value:function(){this._uploading=!0,this._filesChanged=!0}},{key:"_doneUploading",value:function(){this._uploading=!1,this._refreshMedia()}},{key:"_handleDeselectAll",value:function(){this._selected.size&&(this._selected=new Set)}},{key:"_handleSelectAll",value:function(){this._selected=new Set((0,y.A)(Array(this._filteredChildren.length).keys()))}},{key:"_handleDelete",value:(n=(0,v.A)((0,f.A)().m(function e(){var t,i,n=this;return(0,f.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,(0,S.dk)(this,{text:this.hass.localize("ui.components.media-browser.file_management.confirm_delete",{count:this._selected.size}),warning:!0});case 1:if(e.v){e.n=2;break}return e.a(2);case 2:return this._filesChanged=!0,this._deleting=!0,t=[],i=0,this._currentItem.children.forEach(function(e){e.can_expand||n._selected.has(i++)&&t.push(e)}),e.p=3,e.n=4,Promise.all(t.map(function(){var e=(0,v.A)((0,f.A)().m(function e(t){var i;return(0,f.A)().w(function(e){for(;;)switch(e.n){case 0:if(!(0,D.Jz)(t.media_content_id)){e.n=2;break}return e.n=1,(0,D.WI)(n.hass,t.media_content_id);case 1:e.n=3;break;case 2:if(!(0,D.iY)(t.media_content_id)){e.n=3;break}if(!(i=(0,q.pD)(t.media_content_id))){e.n=3;break}return e.n=3,(0,q.vS)(n.hass,i);case 3:n._currentItem=Object.assign(Object.assign({},n._currentItem),{},{children:n._currentItem.children.filter(function(e){return e!==t})});case 4:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:return e.p=4,this._deleting=!1,this._selected=new Set,e.f(4);case 5:return e.a(2)}},e,this,[[3,,4,5]])})),function(){return n.apply(this,arguments)})},{key:"_refreshMedia",value:(i=(0,v.A)((0,f.A)().m(function e(){return(0,f.A)().w(function(e){for(;;)switch(e.n){case 0:return this._selected=new Set,this._currentItem=void 0,e.n=1,(0,D.Fn)(this.hass,this._params.currentItem.media_content_id);case 1:this._currentItem=e.v;case 2:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})}],[{key:"styles",get:function(){return[(0,M.AH)(_||(_=(0,A.A)(["ha-wa-dialog{--dialog-content-padding:0}ha-dialog-header ha-button,ha-dialog-header ha-media-upload-button{--mdc-theme-primary:var(--primary-text-color);margin:6px;display:block}ha-tip{margin:16px}.refresh{display:flex;height:200px;justify-content:center;align-items:center}.buttons{display:flex;justify-content:center;width:100%}.no-items{text-align:center;padding:16px}.folders{color:var(--secondary-text-color);font-style:italic}"])))]}}]);var i,n}(M.WF);(0,x.Cg)([(0,I.MZ)({attribute:!1})],T.prototype,"hass",void 0),(0,x.Cg)([(0,I.wk)()],T.prototype,"_currentItem",void 0),(0,x.Cg)([(0,I.wk)()],T.prototype,"_params",void 0),(0,x.Cg)([(0,I.wk)()],T.prototype,"_uploading",void 0),(0,x.Cg)([(0,I.wk)()],T.prototype,"_deleting",void 0),(0,x.Cg)([(0,I.wk)()],T.prototype,"_selected",void 0),(0,x.Cg)([(0,I.wk)()],T.prototype,"_open",void 0),(0,x.Cg)([(0,I.wk)()],T.prototype,"_filteredChildren",void 0),T=(0,x.Cg)([(0,I.EM)("dialog-media-manage")],T),n()}catch(B){n(B)}})},62176:function(e,t,i){i.a(e,async function(e,t){try{var n,a=i(61397),s=i(50264),r=i(72153),o=i(44734),l=i(43080),c=i(69683),h=i(6454),d=(i(28706),i(62826)),u=i(96196),p=i(77845),m=i(1087),g=i(17022),_=i(65063),f=i(18350),v=(i(67094),e([f]));f=(v.then?(await v)():v)[0];var y=function(e){function t(){var e;(0,o.A)(this,t);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=(0,c.A)(this,t,[].concat(n)))._uploading=0,e}return(0,h.A)(t,e),(0,l.A)(t,[{key:"render",value:function(){return this.currentItem&&(0,g.Jz)(this.currentItem.media_content_id||"")?(0,u.qy)(n||(n=(0,r.A)([' <ha-button .disabled="','" @click="','" .loading="','"> <ha-svg-icon .path="','" slot="start"></ha-svg-icon> '," </ha-button> "])),this._uploading>0,this._startUpload,this._uploading>0,"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z",this._uploading>0?this.hass.localize("ui.components.media-browser.file_management.uploading",{count:this._uploading}):this.hass.localize("ui.components.media-browser.file_management.add_media")):u.s6}},{key:"_startUpload",value:(i=(0,s.A)((0,a.A)().m(function e(){var t,i=this;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:if(!(this._uploading>0)){e.n=1;break}return e.a(2);case 1:(t=document.createElement("input")).type="file",t.accept="audio/*,video/*,image/*",t.multiple=!0,t.addEventListener("change",(0,s.A)((0,a.A)().m(function e(){var n,s,r,o;return(0,a.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:(0,m.r)(i,"uploading"),n=t.files,document.body.removeChild(t),s=i.currentItem.media_content_id,r=0;case 1:if(!(r<n.length)){e.n=6;break}return i._uploading=n.length-r,e.p=2,e.n=3,(0,g.VA)(i.hass,s,n[r]);case 3:e.n=5;break;case 4:return e.p=4,o=e.v,(0,_.K$)(i,{text:i.hass.localize("ui.components.media-browser.file_management.upload_failed",{reason:o.message||o})}),e.a(3,6);case 5:r++,e.n=1;break;case 6:i._uploading=0,(0,m.r)(i,"media-refresh");case 7:return e.a(2)}},e,null,[[2,4]])})),{once:!0}),t.style.display="none",document.body.append(t),t.click();case 2:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})}]);var i}(u.WF);(0,d.Cg)([(0,p.MZ)({attribute:!1})],y.prototype,"hass",void 0),(0,d.Cg)([(0,p.MZ)({attribute:!1})],y.prototype,"currentItem",void 0),(0,d.Cg)([(0,p.wk)()],y.prototype,"_uploading",void 0),y=(0,d.Cg)([(0,p.EM)("ha-media-upload-button")],y),t()}catch(A){t(A)}})}}]);
//# sourceMappingURL=957.1b6429b62bf305c8.js.map