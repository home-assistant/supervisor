"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["38"],{58125:function(t,e,i){i.d(e,{wZ:function(){return a},jL:function(){return s}});i(26847),i(81738),i(94814),i(6989),i(20655),i(27530);var n=i(28105),o=i(15459);i(67886),i(65451),i(46015),i(38334),i(94880),i(75643),i(29761);const s=t=>{var e;return null===(e=t.name_by_user||t.name)||void 0===e?void 0:e.trim()},a=(t,e,i)=>s(t)||i&&r(e,i)||e.localize("ui.panel.config.devices.unnamed_device",{type:e.localize(`ui.panel.config.devices.type.${t.entry_type||"device"}`)}),r=(t,e)=>{for(const i of e||[]){const e="string"==typeof i?i:i.entity_id,n=t.states[e];if(n)return(0,o.C)(n)}};(0,n.Z)(t=>function(t){const e=new Set,i=new Set;for(const n of t)i.has(n)?e.add(n):i.add(n);return e}(Object.values(t).map(t=>s(t)).filter(t=>void 0!==t)))},23378:function(t,e,i){i.d(e,{K:function(){return r}});var n=i(58125),o=i(15459);i(26847),i(44261),i(27530);const s=[" ",": "," - "],a=t=>t.toLowerCase()!==t,r=(t,e)=>{const i=e.entities[t.entity_id];return i?d(i,e):(0,o.C)(t)},d=(t,e)=>{const i=t.name||("original_name"in t?t.original_name:void 0),r=t.device_id?e.devices[t.device_id]:void 0;if(!r){if(i)return i;const n=e.states[t.entity_id];return n?(0,o.C)(n):void 0}const d=(0,n.jL)(r);if(d!==i)return d&&i&&((t,e)=>{const i=t.toLowerCase(),n=e.toLowerCase();for(const o of s){const e=`${n}${o}`;if(i.startsWith(e)){const i=t.substring(e.length);if(i.length)return a(i.substr(0,i.indexOf(" ")))?i:i[0].toUpperCase()+i.slice(1)}}})(i,d)||i}},51574:function(t,e,i){i.d(e,{U:function(){return n}});const n=(t,e)=>{const i=e.entities[t.entity_id];return i?o(i,e):{entity:null,device:null,area:null,floor:null}},o=(t,e)=>{const i=e.entities[t.entity_id],n=null==t?void 0:t.device_id,o=n?e.devices[n]:void 0,s=(null==t?void 0:t.area_id)||(null==o?void 0:o.area_id),a=s?e.areas[s]:void 0,r=null==a?void 0:a.floor_id;return{entity:i,device:o||null,area:a||null,floor:(r?e.floors[r]:void 0)||null}}},7334:function(t,e,i){i.d(e,{T:function(){return o}});i(64455),i(32192);const n=/^(\w+)\.(\w+)$/,o=t=>n.test(t)},55228:function(t,e,i){i.a(t,async function(t,e){try{i(39710),i(26847),i(73042),i(81738),i(94814),i(6989),i(1455),i(56389),i(44261),i(27530);var n=i(73742),o=i(59048),s=i(7616),a=i(28105),r=i(39884),d=i(86420),l=i(58125),c=i(44272),u=i(23378),h=i(15459),p=i(51574),_=i(7334),y=i(97050),v=i(96222),b=i(19331),f=i(612),m=(i(12692),i(64879)),g=(i(993),i(23476)),C=t([m,g]);[m,g]=C.then?(await C)():C;let $,w,j,O,I,k,L,x,E,B=t=>t;const V="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",D="M11,13.5V21.5H3V13.5H11M12,2L17.5,11H6.5L12,2M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13Z",H="___create-new-entity___";class A extends o.oi{firstUpdated(t){super.firstUpdated(t),this.hass.loadBackendTranslation("title")}get _showEntityId(){var t;return this.showEntityId||(null===(t=this.hass.userData)||void 0===t?void 0:t.showEntityIdPicker)}render(){var t;const e=null!==(t=this.placeholder)&&void 0!==t?t:this.hass.localize("ui.components.entity.entity-picker.placeholder"),i=this.hass.localize("ui.components.entity.entity-picker.no_match");return(0,o.dy)($||($=B` <ha-generic-picker .hass="${0}" .disabled="${0}" .autofocus="${0}" .allowCustomValue="${0}" .label="${0}" .helper="${0}" .searchLabel="${0}" .notFoundLabel="${0}" .placeholder="${0}" .value="${0}" .rowRenderer="${0}" .getItems="${0}" .getAdditionalItems="${0}" .hideClearIcon="${0}" .searchFn="${0}" .valueRenderer="${0}" @value-changed="${0}"> </ha-generic-picker> `),this.hass,this.disabled,this.autofocus,this.allowCustomEntity,this.label,this.helper,this.searchLabel,i,e,this.value,this._rowRenderer,this._getItems,this._getAdditionalItems,this.hideClearIcon,this._searchFn,this._valueRenderer,this._valueChanged)}async open(){var t;await this.updateComplete,await(null===(t=this._picker)||void 0===t?void 0:t.open())}_valueChanged(t){t.stopPropagation();const e=t.detail.value;if(e){if(e.startsWith(H)){const t=e.substring(H.length);return void(0,f.j)(this,{domain:t,dialogClosedCallback:t=>{t.entityId&&this._setValue(t.entityId)}})}(0,_.T)(e)&&this._setValue(e)}else this._setValue(void 0)}_setValue(t){this.value=t,(0,r.B)(this,"value-changed",{value:t}),(0,r.B)(this,"change")}constructor(...t){super(...t),this.autofocus=!1,this.disabled=!1,this.required=!1,this.showEntityId=!1,this.hideClearIcon=!1,this._valueRenderer=t=>{const e=t||"",i=this.hass.states[e];if(!i)return(0,o.dy)(w||(w=B` <ha-svg-icon slot="start" .path="${0}" style="margin:0 4px"></ha-svg-icon> <span slot="headline">${0}</span> `),D,e);const{area:n,device:s}=(0,p.U)(i,this.hass),a=(0,u.K)(i,this.hass),r=s?(0,l.jL)(s):void 0,c=n?(0,d.D)(n):void 0,h=(0,y.HE)(this.hass),_=a||r||e,v=[c,a?r:void 0].filter(Boolean).join(h?" ◂ ":" ▸ ");return(0,o.dy)(j||(j=B` <state-badge .hass="${0}" .stateObj="${0}" slot="start"></state-badge> <span slot="headline">${0}</span> <span slot="supporting-text">${0}</span> `),this.hass,i,_,v)},this._rowRenderer=(t,{index:e})=>{const i=this._showEntityId;return(0,o.dy)(O||(O=B` <ha-combo-box-item type="button" compact="compact" .borderTop="${0}"> ${0} <span slot="headline">${0}</span> ${0} ${0} ${0} </ha-combo-box-item> `),0!==e,t.icon_path?(0,o.dy)(I||(I=B` <ha-svg-icon slot="start" style="margin:0 4px" .path="${0}"></ha-svg-icon> `),t.icon_path):(0,o.dy)(k||(k=B` <state-badge slot="start" .stateObj="${0}" .hass="${0}"></state-badge> `),t.stateObj,this.hass),t.primary,t.secondary?(0,o.dy)(L||(L=B`<span slot="supporting-text">${0}</span>`),t.secondary):o.Ld,t.stateObj&&i?(0,o.dy)(x||(x=B` <span slot="supporting-text" class="code"> ${0} </span> `),t.stateObj.entity_id):o.Ld,t.domain_name&&!i?(0,o.dy)(E||(E=B` <div slot="trailing-supporting-text" class="domain"> ${0} </div> `),t.domain_name):o.Ld)},this._getAdditionalItems=()=>this._getCreateItems(this.hass.localize,this.createDomains),this._getCreateItems=(0,a.Z)((t,e)=>null!=e&&e.length?e.map(e=>{const i=t("ui.components.entity.entity-picker.create_helper",{domain:(0,b.X)(e)?t(`ui.panel.config.helpers.types.${e}`):(0,v.Lh)(t,e)});return{id:H+e,primary:i,secondary:t("ui.components.entity.entity-picker.new_entity"),icon_path:V}}):[]),this._getItems=()=>this._getEntities(this.hass,this.includeDomains,this.excludeDomains,this.entityFilter,this.includeDeviceClasses,this.includeUnitOfMeasurement,this.includeEntities,this.excludeEntities),this._getEntities=(0,a.Z)((t,e,i,n,o,s,a,r)=>{let _=[],b=Object.keys(t.states);a&&(b=b.filter(t=>a.includes(t))),r&&(b=b.filter(t=>!r.includes(t))),e&&(b=b.filter(t=>e.includes((0,c.M)(t)))),i&&(b=b.filter(t=>!i.includes((0,c.M)(t))));const f=(0,y.HE)(this.hass);return _=b.map(e=>{const i=t.states[e],{area:n,device:o}=(0,p.U)(i,t),s=(0,h.C)(i),a=(0,u.K)(i,t),r=o?(0,l.jL)(o):void 0,_=n?(0,d.D)(n):void 0,y=(0,v.Lh)(this.hass.localize,(0,c.M)(e)),b=a||r||e,m=[_,a?r:void 0].filter(Boolean).join(f?" ◂ ":" ▸ "),g=[r,a].filter(Boolean).join(" - ");return{id:e,primary:b,secondary:m,domain_name:y,sorting_label:[r,a].filter(Boolean).join("_"),search_labels:[a,r,_,y,s,e].filter(Boolean),a11y_label:g,stateObj:i}}),o&&(_=_.filter(t=>{var e;return t.id===this.value||(null===(e=t.stateObj)||void 0===e?void 0:e.attributes.device_class)&&o.includes(t.stateObj.attributes.device_class)})),s&&(_=_.filter(t=>{var e;return t.id===this.value||(null===(e=t.stateObj)||void 0===e?void 0:e.attributes.unit_of_measurement)&&s.includes(t.stateObj.attributes.unit_of_measurement)})),n&&(_=_.filter(t=>t.id===this.value||t.stateObj&&n(t.stateObj))),_}),this._searchFn=(t,e)=>{const i=e.findIndex(e=>{var i;return(null===(i=e.stateObj)||void 0===i?void 0:i.entity_id)===t});if(-1===i)return e;const[n]=e.splice(i,1);return e.unshift(n),e}}}(0,n.__decorate)([(0,s.Cb)({attribute:!1})],A.prototype,"hass",void 0),(0,n.__decorate)([(0,s.Cb)({type:Boolean})],A.prototype,"autofocus",void 0),(0,n.__decorate)([(0,s.Cb)({type:Boolean})],A.prototype,"disabled",void 0),(0,n.__decorate)([(0,s.Cb)({type:Boolean})],A.prototype,"required",void 0),(0,n.__decorate)([(0,s.Cb)({type:Boolean,attribute:"allow-custom-entity"})],A.prototype,"allowCustomEntity",void 0),(0,n.__decorate)([(0,s.Cb)({type:Boolean,attribute:"show-entity-id"})],A.prototype,"showEntityId",void 0),(0,n.__decorate)([(0,s.Cb)()],A.prototype,"label",void 0),(0,n.__decorate)([(0,s.Cb)()],A.prototype,"value",void 0),(0,n.__decorate)([(0,s.Cb)()],A.prototype,"helper",void 0),(0,n.__decorate)([(0,s.Cb)()],A.prototype,"placeholder",void 0),(0,n.__decorate)([(0,s.Cb)({type:String,attribute:"search-label"})],A.prototype,"searchLabel",void 0),(0,n.__decorate)([(0,s.Cb)({attribute:!1,type:Array})],A.prototype,"createDomains",void 0),(0,n.__decorate)([(0,s.Cb)({type:Array,attribute:"include-domains"})],A.prototype,"includeDomains",void 0),(0,n.__decorate)([(0,s.Cb)({type:Array,attribute:"exclude-domains"})],A.prototype,"excludeDomains",void 0),(0,n.__decorate)([(0,s.Cb)({type:Array,attribute:"include-device-classes"})],A.prototype,"includeDeviceClasses",void 0),(0,n.__decorate)([(0,s.Cb)({type:Array,attribute:"include-unit-of-measurement"})],A.prototype,"includeUnitOfMeasurement",void 0),(0,n.__decorate)([(0,s.Cb)({type:Array,attribute:"include-entities"})],A.prototype,"includeEntities",void 0),(0,n.__decorate)([(0,s.Cb)({type:Array,attribute:"exclude-entities"})],A.prototype,"excludeEntities",void 0),(0,n.__decorate)([(0,s.Cb)({attribute:!1})],A.prototype,"entityFilter",void 0),(0,n.__decorate)([(0,s.Cb)({attribute:"hide-clear-icon",type:Boolean})],A.prototype,"hideClearIcon",void 0),(0,n.__decorate)([(0,s.IO)("ha-generic-picker")],A.prototype,"_picker",void 0),A=(0,n.__decorate)([(0,s.Mo)("ha-entity-picker")],A),e()}catch($){e($)}})},60673:function(t,e,i){i.d(e,{iI:function(){return o},oT:function(){return n}});i(39710),i(81738),i(6989),i(21700),i(87799),i(1455),i(26086),i(56389);const n=t=>t.map(t=>{if("string"!==t.type)return t;switch(t.name){case"username":return Object.assign(Object.assign({},t),{},{autocomplete:"username",autofocus:!0});case"password":return Object.assign(Object.assign({},t),{},{autocomplete:"current-password"});case"code":return Object.assign(Object.assign({},t),{},{autocomplete:"one-time-code",autofocus:!0});default:return t}}),o=(t,e)=>t.callWS({type:"auth/sign_path",path:e})},16230:function(t,e,i){i.d(e,{ON:function(){return a},PX:function(){return r},V_:function(){return d},lz:function(){return s},nZ:function(){return o},rk:function(){return c}});var n=i(54731);const o="unavailable",s="unknown",a="on",r="off",d=[o,s],l=[o,s,r],c=(0,n.z)(d);(0,n.z)(l)},96222:function(t,e,i){i.d(e,{F3:function(){return o},Lh:function(){return n},t4:function(){return s}});i(87639);const n=(t,e,i)=>t(`component.${e}.title`)||(null==i?void 0:i.name)||e,o=(t,e)=>{const i={type:"manifest/list"};return e&&(i.integrations=e),t.callWS(i)},s=(t,e)=>t.callWS({type:"manifest/get",integration:e})},612:function(t,e,i){i.d(e,{j:function(){return s}});i(26847),i(1455),i(27530);var n=i(39884);const o=()=>Promise.all([i.e("5696"),i.e("2092"),i.e("9687")]).then(i.bind(i,86138)),s=(t,e)=>{(0,n.B)(t,"show-dialog",{dialogTag:"dialog-helper-detail",dialogImport:o,dialogParams:e})}}}]);
//# sourceMappingURL=38.8e0122eee604163d.js.map