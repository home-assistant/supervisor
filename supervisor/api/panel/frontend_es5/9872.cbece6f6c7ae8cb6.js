"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["9872"],{79:function(e,t,i){i.d(t,{xn:function(){return c},T:function(){return s}});var n=i(31432),r=(i(2008),i(62062),i(18111),i(22489),i(61701),i(26099),i(16034),i(42762),i(22786));i(23792),i(31415),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698),i(47764),i(62953);var a=i(28978),c=function(e){var t;return null===(t=e.name_by_user||e.name)||void 0===t?void 0:t.trim()},s=function(e,t,i){return c(e)||i&&o(t,i)||t.localize("ui.panel.config.devices.unnamed_device",{type:t.localize("ui.panel.config.devices.type.".concat(e.entry_type||"device"))})},o=function(e,t){var i,r=(0,n.A)(t||[]);try{for(r.s();!(i=r.n()).done;){var c=i.value,s="string"==typeof c?c:c.entity_id,o=e.states[s];if(o)return(0,a.u)(o)}}catch(u){r.e(u)}finally{r.f()}};(0,r.A)(function(e){return function(e){var t,i=new Set,r=new Set,a=(0,n.A)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;r.has(c)?i.add(c):r.add(c)}}catch(s){a.e(s)}finally{a.f()}return i}(Object.values(e).map(function(e){return c(e)}).filter(function(e){return void 0!==e}))})},41665:function(e,t,i){i.a(e,async function(e,t){try{var n,r,a,c=i(94741),s=i(61397),o=i(50264),u=i(72153),l=i(44734),v=i(43080),d=i(69683),h=i(6454),p=(i(28706),i(2008),i(74423),i(62062),i(18111),i(22489),i(61701),i(26099),i(21699),i(62826)),f=i(96196),y=i(77845),g=i(1087),b=i(1798),_=e([b]);b=(_.then?(await _)():_)[0];var A=function(e){function t(){var e;(0,l.A)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=(0,d.A)(this,t,[].concat(n))).disabled=!1,e.required=!1,e}return(0,h.A)(t,e),(0,v.A)(t,[{key:"render",value:function(){var e=this;if(!this.hass)return f.s6;var t=this._currentDevices;return(0,f.qy)(n||(n=(0,u.A)([" ",' <div> <ha-device-picker .hass="','" .helper="','" .deviceFilter="','" .entityFilter="','" .includeDomains="','" .excludeDomains="','" .excludeDevices="','" .includeDeviceClasses="','" .label="','" .disabled="','" .required="','" @value-changed="','"></ha-device-picker> </div> '])),t.map(function(t){return(0,f.qy)(r||(r=(0,u.A)([' <div> <ha-device-picker .curValue="','" .hass="','" .deviceFilter="','" .entityFilter="','" .includeDomains="','" .excludeDomains="','" .includeDeviceClasses="','" .value="','" .label="','" .disabled="','" @value-changed="','"></ha-device-picker> </div> '])),t,e.hass,e.deviceFilter,e.entityFilter,e.includeDomains,e.excludeDomains,e.includeDeviceClasses,t,e.pickedDeviceLabel,e.disabled,e._deviceChanged)}),this.hass,this.helper,this.deviceFilter,this.entityFilter,this.includeDomains,this.excludeDomains,t,this.includeDeviceClasses,this.pickDeviceLabel,this.disabled,this.required&&!t.length,this._addDevice)}},{key:"_currentDevices",get:function(){return this.value||[]}},{key:"_updateDevices",value:(a=(0,o.A)((0,s.A)().m(function e(t){return(0,s.A)().w(function(e){for(;;)switch(e.n){case 0:(0,g.r)(this,"value-changed",{value:t}),this.value=t;case 1:return e.a(2)}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"_deviceChanged",value:function(e){e.stopPropagation();var t=e.currentTarget.curValue,i=e.detail.value;i!==t&&(void 0===i?this._updateDevices(this._currentDevices.filter(function(e){return e!==t})):this._updateDevices(this._currentDevices.map(function(e){return e===t?i:e})))}},{key:"_addDevice",value:(i=(0,o.A)((0,s.A)().m(function e(t){var i,n;return(0,s.A)().w(function(e){for(;;)switch(e.n){case 0:if(t.stopPropagation(),i=t.detail.value,t.currentTarget.value="",i){e.n=1;break}return e.a(2);case 1:if(!(n=this._currentDevices).includes(i)){e.n=2;break}return e.a(2);case 2:this._updateDevices([].concat((0,c.A)(n),[i]));case 3:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})}]);var i,a}(f.WF);A.styles=(0,f.AH)(a||(a=(0,u.A)(["div{margin-top:8px}"]))),(0,p.Cg)([(0,y.MZ)({attribute:!1})],A.prototype,"hass",void 0),(0,p.Cg)([(0,y.MZ)({type:Array})],A.prototype,"value",void 0),(0,p.Cg)([(0,y.MZ)()],A.prototype,"helper",void 0),(0,p.Cg)([(0,y.MZ)({type:Boolean})],A.prototype,"disabled",void 0),(0,p.Cg)([(0,y.MZ)({type:Boolean})],A.prototype,"required",void 0),(0,p.Cg)([(0,y.MZ)({type:Array,attribute:"include-domains"})],A.prototype,"includeDomains",void 0),(0,p.Cg)([(0,y.MZ)({type:Array,attribute:"exclude-domains"})],A.prototype,"excludeDomains",void 0),(0,p.Cg)([(0,y.MZ)({type:Array,attribute:"include-device-classes"})],A.prototype,"includeDeviceClasses",void 0),(0,p.Cg)([(0,y.MZ)({attribute:"picked-device-label"})],A.prototype,"pickedDeviceLabel",void 0),(0,p.Cg)([(0,y.MZ)({attribute:"pick-device-label"})],A.prototype,"pickDeviceLabel",void 0),(0,p.Cg)([(0,y.MZ)({attribute:!1})],A.prototype,"deviceFilter",void 0),(0,p.Cg)([(0,y.MZ)({attribute:!1})],A.prototype,"entityFilter",void 0),A=(0,p.Cg)([(0,y.EM)("ha-devices-picker")],A),t()}catch(m){t(m)}})},2270:function(e,t,i){i.a(e,async function(e,n){try{i.r(t),i.d(t,{HaDeviceSelector:function(){return Z}});var r,a,c,s=i(72153),o=i(44734),u=i(43080),l=i(69683),v=i(6454),d=i(25460),h=(i(28706),i(2008),i(18111),i(22489),i(13579),i(26099),i(16034),i(62826)),p=i(96196),f=i(77845),y=i(22786),g=i(44537),b=i(1087),_=i(77423),A=i(44927),m=i(55053),k=i(95311),D=i(1798),C=i(41665),M=e([D,C]);[D,C]=M.then?(await M)():M;var Z=function(e){function t(){var e;(0,o.A)(this,t);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=(0,l.A)(this,t,[].concat(n))).disabled=!1,e.required=!0,e._deviceIntegrationLookup=(0,y.A)(A.fk),e._filterDevices=function(t){var i;if(null===(i=e.selector.device)||void 0===i||!i.filter)return!0;var n=e._entitySources?e._deviceIntegrationLookup(e._entitySources,Object.values(e.hass.entities),Object.values(e.hass.devices),e._configEntries):void 0;return(0,g.e)(e.selector.device.filter).some(function(e){return(0,k.vX)(e,t,n)})},e._filterEntities=function(t){return(0,g.e)(e.selector.device.entity).some(function(i){return(0,k.Ru)(i,t,e._entitySources)})},e}return(0,v.A)(t,e),(0,u.A)(t,[{key:"_hasIntegration",value:function(e){var t,i;return(null===(t=e.device)||void 0===t?void 0:t.filter)&&(0,g.e)(e.device.filter).some(function(e){return e.integration})||(null===(i=e.device)||void 0===i?void 0:i.entity)&&(0,g.e)(e.device.entity).some(function(e){return e.integration})}},{key:"willUpdate",value:function(e){var t,i;e.get("selector")&&void 0!==this.value&&(null!==(t=this.selector.device)&&void 0!==t&&t.multiple&&!Array.isArray(this.value)?(this.value=[this.value],(0,b.r)(this,"value-changed",{value:this.value})):null!==(i=this.selector.device)&&void 0!==i&&i.multiple||!Array.isArray(this.value)||(this.value=this.value[0],(0,b.r)(this,"value-changed",{value:this.value})))}},{key:"updated",value:function(e){var i=this;(0,d.A)(t,"updated",this,3)([e]),e.has("selector")&&this._hasIntegration(this.selector)&&!this._entitySources&&(0,m.c)(this.hass).then(function(e){i._entitySources=e}),!this._configEntries&&this._hasIntegration(this.selector)&&(this._configEntries=[],(0,_.VN)(this.hass).then(function(e){i._configEntries=e}))}},{key:"render",value:function(){var e,t,i;return this._hasIntegration(this.selector)&&!this._entitySources?p.s6:null!==(e=this.selector.device)&&void 0!==e&&e.multiple?(0,p.qy)(a||(a=(0,s.A)([" ",' <ha-devices-picker .hass="','" .value="','" .helper="','" .deviceFilter="','" .entityFilter="','" .disabled="','" .required="','"></ha-devices-picker> '])),this.label?(0,p.qy)(c||(c=(0,s.A)(["<label>","</label>"])),this.label):"",this.hass,this.value,this.helper,this._filterDevices,null!==(t=this.selector.device)&&void 0!==t&&t.entity?this._filterEntities:void 0,this.disabled,this.required):(0,p.qy)(r||(r=(0,s.A)([' <ha-device-picker .hass="','" .value="','" .label="','" .helper="','" .deviceFilter="','" .entityFilter="','" .placeholder="','" .disabled="','" .required="','"></ha-device-picker> '])),this.hass,this.value,this.label,this.helper,this._filterDevices,null!==(i=this.selector.device)&&void 0!==i&&i.entity?this._filterEntities:void 0,this.placeholder,this.disabled,this.required)}}])}(p.WF);(0,h.Cg)([(0,f.MZ)({attribute:!1})],Z.prototype,"hass",void 0),(0,h.Cg)([(0,f.MZ)({attribute:!1})],Z.prototype,"selector",void 0),(0,h.Cg)([(0,f.wk)()],Z.prototype,"_entitySources",void 0),(0,h.Cg)([(0,f.wk)()],Z.prototype,"_configEntries",void 0),(0,h.Cg)([(0,f.MZ)()],Z.prototype,"value",void 0),(0,h.Cg)([(0,f.MZ)()],Z.prototype,"label",void 0),(0,h.Cg)([(0,f.MZ)()],Z.prototype,"helper",void 0),(0,h.Cg)([(0,f.MZ)()],Z.prototype,"placeholder",void 0),(0,h.Cg)([(0,f.MZ)({type:Boolean})],Z.prototype,"disabled",void 0),(0,h.Cg)([(0,f.MZ)({type:Boolean})],Z.prototype,"required",void 0),Z=(0,h.Cg)([(0,f.EM)("ha-selector-device")],Z),n()}catch(w){n(w)}})},55053:function(e,t,i){i.d(t,{c:function(){return s}});i(79432);var n=i(61397),r=i(50264),a=(i(28706),i(26099),i(3362),function(){var e=(0,r.A)((0,n.A)().m(function e(t,i,r,c,s){var o,u,l,v,d,h,p,f=arguments;return(0,n.A)().w(function(e){for(;;)switch(e.n){case 0:for(o=f.length,u=new Array(o>5?o-5:0),l=5;l<o;l++)u[l-5]=f[l];if(d=(v=s)[t],h=function(e){return c&&c(s,e.result)!==e.cacheKey?(v[t]=void 0,a.apply(void 0,[t,i,r,c,s].concat(u))):e.result},!d){e.n=1;break}return e.a(2,d instanceof Promise?d.then(h):h(d));case 1:return p=r.apply(void 0,[s].concat(u)),v[t]=p,p.then(function(e){v[t]={result:e,cacheKey:null==c?void 0:c(s,e)},setTimeout(function(){v[t]=void 0},i)},function(){v[t]=void 0}),e.a(2,p)}},e)}));return function(t,i,n,r,a){return e.apply(this,arguments)}}()),c=function(e){return e.callWS({type:"entity/source"})},s=function(e){return a("_entitySources",3e4,c,function(e){return Object.keys(e.states).length},e)}},95350:function(e,t,i){i.d(t,{QC:function(){return a},fK:function(){return r},p$:function(){return n}});var n=function(e,t,i){return e("component.".concat(t,".title"))||(null==i?void 0:i.name)||t},r=function(e,t){var i={type:"manifest/list"};return t&&(i.integrations=t),e.callWS(i)},a=function(e,t){return e.callWS({type:"manifest/get",integration:t})}},53921:function(e,t,i){var n=i(46518),r=i(72652),a=i(97040);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return r(e,function(e,i){a(t,e,i)},{AS_ENTRIES:!0}),t}})}}]);
//# sourceMappingURL=9872.cbece6f6c7ae8cb6.js.map