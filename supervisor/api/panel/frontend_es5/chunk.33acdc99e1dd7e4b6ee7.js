(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[690],{57690:function(t,i,e){"use strict";function s(t,i,e,s,n,r,o){try{var h=t[r](o),a=h.value}catch(l){return void e(l)}h.done?i(a):Promise.resolve(a).then(s,n)}function n(t){return function(){var i=this,e=arguments;return new Promise((function(n,r){var o=t.apply(i,e);function h(t){s(o,n,r,h,a,"next",t)}function a(t){s(o,n,r,h,a,"throw",t)}h(void 0)}))}}var r;function o(){return(o=n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r||h());case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(){return a.apply(this,arguments)}function a(){return(a=n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=window.EventTarget,t.prev=1,new r,t.next=10;break;case 5:return t.prev=5,t.t0=t.catch(1),t.next=9,e.e(251).then(e.t.bind(e,98251,23));case 9:r=t.sent.default.EventTarget;case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}}),t,null,[[1,5]])})))).apply(this,arguments)}function l(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function c(t,i,e,s,n,r,o){try{var h=t[r](o),a=h.value}catch(l){return void e(l)}h.done?i(a):Promise.resolve(a).then(s,n)}function _(t){return function(){var i=this,e=arguments;return new Promise((function(s,n){var r=t.apply(i,e);function o(t){c(r,s,n,o,h,"next",t)}function h(t){c(r,s,n,o,h,"throw",t)}o(void 0)}))}}function u(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function v(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function p(t,i,e){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,i,e){var s=function(t,i){for(;!Object.prototype.hasOwnProperty.call(t,i)&&null!==(t=w(t)););return t}(t,i);if(s){var n=Object.getOwnPropertyDescriptor(s,i);return n.get?n.get.call(e):n.value}})(t,i,e||t)}function d(t,i){return(d=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function y(t){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,s=w(t);if(i){var n=w(this).constructor;e=Reflect.construct(s,arguments,n)}else e=s.apply(this,arguments);return g(this,e)}}function g(t,i){return!i||"object"!==f(i)&&"function"!=typeof i?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):i}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}e.r(i),e.d(i,{Layout1d:function(){return b}});var b=function(t){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&d(t,i)}(r,t);var i,e,s,n=y(r);function r(t){var i;return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,r),(i=n.call(this,t))._physicalItems=new Map,i._newPhysicalItems=new Map,i._metrics=new Map,i._anchorIdx=null,i._anchorPos=null,i._stable=!0,i._needsRemeasure=!1,i._nMeasured=0,i._tMeasured=0,i._estimate=!0,i}return i=r,(e=[{key:"updateItemSizes",value:function(t){var i=this;Object.keys(t).forEach((function(e){var s=t[e],n=i._getMetrics(Number(e)),r=n[i._sizeDim];n.width=s.width+(s.marginLeft||0)+(s.marginRight||0),n.height=s.height+(s.marginTop||0)+(s.marginBottom||0);var o,h=n[i._sizeDim],a=i._getPhysicalItem(Number(e));a&&(void 0!==h&&(a.size=h,void 0===r?(o=h,i._nMeasured++):o=h-r),i._tMeasured=i._tMeasured+o)})),this._nMeasured?(this._updateItemSize(),this._scheduleReflow()):console.warn("No items measured yet.")}},{key:"_updateItemSize",value:function(){this._itemSize[this._sizeDim]=Math.round(this._tMeasured/this._nMeasured)}},{key:"_getMetrics",value:function(t){return this._metrics[t]=this._metrics[t]||{}}},{key:"_getPhysicalItem",value:function(t){return this._newPhysicalItems.get(t)||this._physicalItems.get(t)}},{key:"_getSize",value:function(t){var i=this._getPhysicalItem(t);return i&&i.size}},{key:"_getPosition",value:function(t){var i=this._physicalItems.get(t);return i?i.pos:t*this._delta+this._spacing}},{key:"_calculateAnchor",value:function(t,i){return 0===t?0:i>this._scrollSize-this._viewDim1?this._totalItems-1:Math.max(0,Math.min(this._totalItems-1,Math.floor((t+i)/2/this._delta)))}},{key:"_getAnchor",value:function(t,i){if(0===this._physicalItems.size)return this._calculateAnchor(t,i);if(this._first<0)return console.error("_getAnchor: negative _first"),this._calculateAnchor(t,i);if(this._last<0)return console.error("_getAnchor: negative _last"),this._calculateAnchor(t,i);var e=this._getPhysicalItem(this._first),s=this._getPhysicalItem(this._last),n=e.pos,r=n+e.size,o=s.pos,h=o+s.size;if(h<t)return this._calculateAnchor(t,i);if(n>i)return this._calculateAnchor(t,i);if(n>=t||r>=t)return this._first;if(h<=i||o<=i)return this._last;for(var a=this._last,l=this._first;;){var c=Math.round((a+l)/2),_=this._physicalItems.get(c),u=_.pos,f=u+_.size;if(u>=t&&u<=i||f>=t&&f<=i)return c;f<t?l=c+1:u>i&&(a=c-1)}}},{key:"_getActiveItems",value:function(){if(0===this._viewDim1||0===this._totalItems)this._clearItems();else{var t=Math.min(this._scrollSize,this._scrollPosition+this._viewDim1+this._overhang),i=Math.max(0,t-this._viewDim1-2*this._overhang);this._getItems(i,t)}}},{key:"_clearItems",value:function(){this._first=-1,this._last=-1,this._physicalMin=0,this._physicalMax=0;var t=this._newPhysicalItems;this._newPhysicalItems=this._physicalItems,this._newPhysicalItems.clear(),this._physicalItems=t,this._stable=!0}},{key:"_getItems",value:function(t,i){var e=this._newPhysicalItems;null!==this._anchorIdx&&null!==this._anchorPos||(this._anchorIdx=this._getAnchor(t,i),this._anchorPos=this._getPosition(this._anchorIdx));var s=this._getSize(this._anchorIdx);void 0===s&&(s=this._itemDim1);var n=0;for(this._anchorPos+s+this._spacing<t&&(n=t-(this._anchorPos+s+this._spacing)),this._anchorPos>i&&(n=i-this._anchorPos),n&&(this._scrollPosition-=n,t-=n,i-=n,this._scrollError+=n),e.set(this._anchorIdx,{pos:this._anchorPos,size:s}),this._first=this._last=this._anchorIdx,this._physicalMin=this._physicalMax=this._anchorPos,this._stable=!0;this._physicalMin>t&&this._first>0;){var r=this._getSize(--this._first);void 0===r&&(this._stable=!1,r=this._itemDim1);var o=this._physicalMin-=r+this._spacing;if(e.set(this._first,{pos:o,size:r}),!1===this._stable&&!1===this._estimate)break}for(;this._physicalMax<i&&this._last<this._totalItems;){var h=this._getSize(this._last);if(void 0===h&&(this._stable=!1,h=this._itemDim1),e.set(this._last++,{pos:this._physicalMax,size:h}),!1===this._stable&&!1===this._estimate)break;this._physicalMax+=h+this._spacing}this._last--;var a=this._calculateError();a&&(this._physicalMin-=a,this._physicalMax-=a,this._anchorPos-=a,this._scrollPosition-=a,e.forEach((function(t){return t.pos-=a})),this._scrollError+=a),this._stable&&(this._newPhysicalItems=this._physicalItems,this._newPhysicalItems.clear(),this._physicalItems=e)}},{key:"_calculateError",value:function(){return 0===this._first?this._physicalMin:this._physicalMin<=0?this._physicalMin-this._first*this._delta:this._last===this._totalItems-1?this._physicalMax-this._scrollSize:this._physicalMax>=this._scrollSize?this._physicalMax-this._scrollSize+(this._totalItems-1-this._last)*this._delta:0}},{key:"_updateScrollSize",value:function(){p(w(r.prototype),"_updateScrollSize",this).call(this),this._scrollSize=Math.max(this._physicalMax,this._scrollSize)}},{key:"_reflow",value:function(){var t=this._first,i=this._last,e=this._scrollSize;this._updateScrollSize(),this._getActiveItems(),this._scrollIfNeeded(),this._scrollSize!==e&&this._emitScrollSize(),this._updateVisibleIndices(),this._emitRange(),-1===this._first&&-1===this._last?this._resetReflowState():this._first!==t||this._last!==i||this._needsRemeasure?(this._emitChildPositions(),this._emitScrollError()):(this._emitChildPositions(),this._emitScrollError(),this._resetReflowState())}},{key:"_resetReflowState",value:function(){this._anchorIdx=null,this._anchorPos=null,this._stable=!0}},{key:"_getItemPosition",value:function(t){var i;return m(i={},this._positionDim,this._getPosition(t)),m(i,this._secondaryPositionDim,0),i}},{key:"_getItemSize",value:function(t){var i;return m(i={},this._sizeDim,this._getSize(t)||this._itemDim1),m(i,this._secondarySizeDim,this._itemDim2),i}},{key:"_viewDim2Changed",value:function(){this._needsRemeasure=!0,this._scheduleReflow()}},{key:"_emitRange",value:function(){var t=this._needsRemeasure,i=this._stable;this._needsRemeasure=!1,p(w(r.prototype),"_emitRange",this).call(this,{remeasure:t,stable:i})}}])&&v(i.prototype,e),s&&v(i,s),r}(function(){function t(i){var e=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._latestCoords={left:0,top:0},this._direction="vertical",this._viewportSize={width:0,height:0},this._pendingReflow=!1,this._scrollToIndex=-1,this._scrollToAnchor=0,this._eventTargetPromise=function(){return o.apply(this,arguments)}().then((function(t){return e._eventTarget=new t})),this._physicalMin=0,this._physicalMax=0,this._first=-1,this._last=-1,this._itemSize={width:100,height:100},this._spacing=0,this._sizeDim="height",this._secondarySizeDim="width",this._positionDim="top",this._secondaryPositionDim="left",this._scrollPosition=0,this._scrollError=0,this._totalItems=0,this._scrollSize=1,this._overhang=150,Object.assign(this,i)}var i,e,s,n,r,h;return i=t,(e=[{key:"totalItems",get:function(){return this._totalItems},set:function(t){t!==this._totalItems&&(this._totalItems=t,this._scheduleReflow())}},{key:"direction",get:function(){return this._direction},set:function(t){(t="horizontal"===t?t:"vertical")!==this._direction&&(this._direction=t,this._sizeDim="horizontal"===t?"width":"height",this._secondarySizeDim="horizontal"===t?"height":"width",this._positionDim="horizontal"===t?"left":"top",this._secondaryPositionDim="horizontal"===t?"top":"left",this._scheduleReflow())}},{key:"itemSize",get:function(){return this._itemSize},set:function(t){var i=this._itemDim1,e=this._itemDim2;Object.assign(this._itemSize,t),i===this._itemDim1&&e===this._itemDim2||(e!==this._itemDim2?this._itemDim2Changed():this._scheduleReflow())}},{key:"spacing",get:function(){return this._spacing},set:function(t){t!==this._spacing&&(this._spacing=t,this._scheduleReflow())}},{key:"viewportSize",get:function(){return this._viewportSize},set:function(t){var i=this._viewDim1,e=this._viewDim2;Object.assign(this._viewportSize,t),e!==this._viewDim2?this._viewDim2Changed():i!==this._viewDim1&&this._checkThresholds()}},{key:"viewportScroll",get:function(){return this._latestCoords},set:function(t){Object.assign(this._latestCoords,t);var i=this._scrollPosition;this._scrollPosition=this._latestCoords[this._positionDim],i!==this._scrollPosition&&(this._scrollPositionChanged(i,this._scrollPosition),this._updateVisibleIndices()),this._checkThresholds()}},{key:"reflowIfNeeded",value:function(){this._pendingReflow&&(this._pendingReflow=!1,this._reflow())}},{key:"scrollToIndex",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"start";if(Number.isFinite(t)){switch(t=Math.min(this.totalItems,Math.max(0,t)),this._scrollToIndex=t,"nearest"===i&&(i=t>this._first+this._num/2?"end":"start"),i){case"start":this._scrollToAnchor=0;break;case"center":this._scrollToAnchor=.5;break;case"end":this._scrollToAnchor=1;break;default:throw new TypeError("position must be one of: start, center, end, nearest")}this._scheduleReflow(),this.reflowIfNeeded()}}},{key:"dispatchEvent",value:(h=_(regeneratorRuntime.mark((function t(){var i,e=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._eventTargetPromise;case 2:(i=this._eventTarget).dispatchEvent.apply(i,e);case 3:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})},{key:"addEventListener",value:(r=_(regeneratorRuntime.mark((function t(){var i,e=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._eventTargetPromise;case 2:(i=this._eventTarget).addEventListener.apply(i,e);case 3:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"removeEventListener",value:(n=_(regeneratorRuntime.mark((function t(){var i,e=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._eventTargetPromise;case 2:(i=this._eventTarget).removeEventListener.apply(i,e);case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"updateItemSizes",value:function(t){}},{key:"_itemDim2Changed",value:function(){}},{key:"_viewDim2Changed",value:function(){}},{key:"_getItemSize",value:function(t){var i;return l(i={},this._sizeDim,this._itemDim1),l(i,this._secondarySizeDim,this._itemDim2),i}},{key:"_delta",get:function(){return this._itemDim1+this._spacing}},{key:"_itemDim1",get:function(){return this._itemSize[this._sizeDim]}},{key:"_itemDim2",get:function(){return this._itemSize[this._secondarySizeDim]}},{key:"_viewDim1",get:function(){return this._viewportSize[this._sizeDim]}},{key:"_viewDim2",get:function(){return this._viewportSize[this._secondarySizeDim]}},{key:"_scheduleReflow",value:function(){this._pendingReflow=!0}},{key:"_reflow",value:function(){var t=this._first,i=this._last,e=this._scrollSize;this._updateScrollSize(),this._getActiveItems(),this._scrollIfNeeded(),this._scrollSize!==e&&this._emitScrollSize(),-1===this._first&&-1===this._last?this._emitRange():(this._first!==t||this._last!==i||this._spacingChanged)&&(this._emitRange(),this._emitChildPositions()),this._emitScrollError()}},{key:"_updateScrollSize",value:function(){this._scrollSize=Math.max(1,this._totalItems*this._delta)}},{key:"_scrollIfNeeded",value:function(){if(-1!==this._scrollToIndex){var t=this._scrollToIndex,i=this._scrollToAnchor,e=this._getItemPosition(t)[this._positionDim],s=this._getItemSize(t)[this._sizeDim],n=this._scrollPosition+this._viewDim1*i,r=e+s*i,o=Math.floor(Math.min(this._scrollSize-this._viewDim1,Math.max(0,this._scrollPosition-n+r)));this._scrollError+=this._scrollPosition-o,this._scrollPosition=o}}},{key:"_emitRange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=Object.assign({first:this._first,last:this._last,num:this._num,stable:!0,firstVisible:this._firstVisible,lastVisible:this._lastVisible},t);this.dispatchEvent(new CustomEvent("rangechange",{detail:i}))}},{key:"_emitScrollSize",value:function(){var t=l({},this._sizeDim,this._scrollSize);this.dispatchEvent(new CustomEvent("scrollsizechange",{detail:t}))}},{key:"_emitScrollError",value:function(){if(this._scrollError){var t,i=(l(t={},this._positionDim,this._scrollError),l(t,this._secondaryPositionDim,0),t);this.dispatchEvent(new CustomEvent("scrollerrorchange",{detail:i})),this._scrollError=0}}},{key:"_emitChildPositions",value:function(){for(var t={},i=this._first;i<=this._last;i++)t[i]=this._getItemPosition(i);this.dispatchEvent(new CustomEvent("itempositionchange",{detail:t}))}},{key:"_num",get:function(){return-1===this._first||-1===this._last?0:this._last-this._first+1}},{key:"_checkThresholds",value:function(){if(0===this._viewDim1&&this._num>0)this._scheduleReflow();else{var t=Math.max(0,this._scrollPosition-this._overhang),i=Math.min(this._scrollSize,this._scrollPosition+this._viewDim1+this._overhang);(this._physicalMin>t||this._physicalMax<i)&&this._scheduleReflow()}}},{key:"_updateVisibleIndices",value:function(){for(var t=this._firstVisible,i=this._lastVisible,e=this._first;e<=this._last;e++){var s=this._getItemPosition(e)[this._positionDim];s<=this._scrollPosition&&(t=e),s<this._scrollPosition+this._viewDim1&&(i=e)}t>i||t===this._firstVisible&&i===this._lastVisible||(this._firstVisible=t,this._lastVisible=i,this._emitRange())}},{key:"_scrollPositionChanged",value:function(t,i){var e=this._scrollSize-this._viewDim1;(t<e||i<e)&&(this._scrollToIndex=-1)}}])&&u(i.prototype,e),s&&u(i,s),t}())}}]);
//# sourceMappingURL=chunk.33acdc99e1dd7e4b6ee7.js.map