{"version":3,"sources":["webpack:///./src/resources/styles.ts","webpack:///./src/layouts/hass-error-screen.ts","webpack:///./src/layouts/hass-router-page.ts","webpack:///./src/layouts/hass-subpage.ts","webpack:///./src/layouts/hass-loading-screen.ts","webpack:///./src/components/buttons/ha-progress-button.js","webpack:///./src/data/hassio/snapshot.ts","webpack:///./src/data/hassio/hardware.ts","webpack:///./hassio/src/dialogs/markdown/show-dialog-hassio-markdown.ts","webpack:///./src/common/dom/fire_event.ts","webpack:///./hassio/src/components/hassio-ansi-to-html.ts","webpack:///./hassio/src/resources/hassio-style.ts","webpack:///./hassio/src/dialogs/repositories/dialog-hassio-repositories.ts","webpack:///./src/data/hassio/addon.ts","webpack:///./src/components/ha-svg-icon.ts","webpack:///./src/components/ha-card.ts","webpack:///./src/common/dom/apply_themes_on_element.ts","webpack:///./src/data/hassio/host.ts","webpack:///./src/dialogs/make-dialog-manager.ts","webpack:///./src/resources/ha-style.ts","webpack:///./src/common/search/search-input.ts","webpack:///./src/components/ha-button-menu.ts","webpack:///./hassio/src/addon-store/hassio-addon-repository.ts","webpack:///./hassio/src/components/hassio-filter-addons.ts","webpack:///./hassio/src/addon-store/hassio-addon-store.ts","webpack:///./hassio/src/dialogs/repositories/show-dialog-repositories.ts","webpack:///./hassio/src/dashboard/hassio-addons.ts","webpack:///./hassio/src/dashboard/hassio-update.ts","webpack:///./hassio/src/dashboard/hassio-dashboard.ts","webpack:///./hassio/src/snapshots/hassio-snapshots.ts","webpack:///./hassio/src/dialogs/snapshot/show-dialog-hassio-snapshot.ts","webpack:///./hassio/src/system/hassio-host-info.ts","webpack:///./hassio/src/system/hassio-supervisor-info.ts","webpack:///./hassio/src/system/hassio-supervisor-log.ts","webpack:///./hassio/src/system/hassio-system.ts","webpack:///./hassio/src/hassio-panel-router.ts","webpack:///./hassio/src/hassio-panel.ts","webpack:///./src/mixins/provide-hass-lit-mixin.ts","webpack:///./hassio/src/hassio-main.ts","webpack:///./src/common/navigate.ts","webpack:///./src/dialogs/generic/show-dialog-box.ts","webpack:///./src/data/hassio/common.ts","webpack:///./src/data/hassio/supervisor.ts","webpack:///./src/layouts/hass-tabs-subpage.ts","webpack:///./src/common/config/is_component_loaded.ts","webpack:///./src/components/buttons/ha-call-api-button.js","webpack:///./src/common/datetime/relative_time.ts","webpack:///./src/mixins/localize-mixin.js","webpack:///./src/components/ha-relative-time.js","webpack:///./hassio/src/components/hassio-card-content.ts","webpack:///./src/components/ha-icon-button.ts","webpack:///./src/components/ha-icon-button-arrow-prev.ts","webpack:///./src/layouts/loading-screen.ts","webpack:///./src/components/ha-dialog.ts","webpack:///./src/common/config/version.ts","webpack:///./src/data/persistent_notification.ts","webpack:///./src/components/ha-menu-button.ts","webpack:///./src/common/entity/compute_domain.ts","webpack:///./src/resources/icon-metadata.ts","webpack:///./src/components/ha-icon.ts","webpack:///./src/common/util/debounce.ts"],"names":["derivedStyles","paper-spinner-color","error-state-color","state-icon-unavailable-color","sidebar-text-color","sidebar-background-color","sidebar-selected-text-color","sidebar-selected-icon-color","sidebar-icon-color","switch-checked-color","switch-checked-button-color","switch-checked-track-color","switch-unchecked-button-color","switch-unchecked-track-color","slider-color","slider-secondary-color","slider-bar-color","label-badge-grey","label-badge-background-color","label-badge-text-color","paper-card-background-color","paper-listbox-background-color","paper-item-icon-color","paper-item-icon-active-color","table-row-background-color","table-row-alternative-background-color","paper-slider-knob-color","paper-slider-knob-start-color","paper-slider-pin-color","paper-slider-active-color","paper-slider-secondary-color","paper-slider-container-color","data-table-background-color","mdc-theme-primary","mdc-theme-secondary","mdc-theme-background","mdc-theme-surface","mdc-theme-on-primary","mdc-theme-on-secondary","mdc-theme-on-surface","mdc-theme-text-primary-on-background","app-header-text-color","app-header-background-color","material-body-text-color","material-background-color","material-secondary-background-color","haStyle","css","_templateObject","haStyleDialog","_templateObject2","customElement","property","html","this","error","_backTapped","history","back","LitElement","HassRouterPage","hass_router_page_decorate","_initialize","_UpdatingElement","_UpdatingElement2","hass_router_page_inherits","_super","hass_router_page_createSuper","_this","hass_router_page_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","hass_router_page_assertThisInitialized","F","d","kind","decorators","key","value","memoizeOne","route","dividerPos","path","indexOf","prefix","substr","changedProps","_this2","_get","hass_router_page_getPrototypeOf","prototype","routerOptions","routes","initialLoad","_initialLoadDone","has","defaultPage","undefined","navigate","newPage","subpathStart","extractPage","routeOptions","beforeRender","result","_currentPage","lastChild","removeChild","loadProm","load","Promise","resolve","err","console","errorEl","document","createElement","appendChild","showLoading","created","setTimeout","createLoadingScreen","_currentLoadProm","then","_createPanel","updatePageEl","_this3","options","preloadAll","Object","values","forEach","hass_router_page_typeof","requestUpdate","_rebuild","regeneratorRuntime","mark","_callee","oldRoute","wrap","_context","prev","next","abrupt","updateComplete","stop","_this4","tag","_pageEl","_changedProps","_computeTail","page","panelEl","_cache","cacheAll","cache","UpdatingElement","type","Boolean","classMap","hidden","showBackButton","header","rootnav","hass","narrow","_templateObject3","_handleBack","_templateObject4","HaProgressButton","PolymerElement","progress","disabled","className","classList","$","container","add","remove","_getPrototypeOf","addEventListener","ev","buttonTapped","stopPropagation","tempClass","customElements","define","fetchHassioSnapshots","_ref","_asyncToGenerator","t0","hassioApiResultExtractor","callApi","t1","sent","snapshots","_x","fetchHassioSnapshotInfo","_ref2","_callee2","snapshot","_context2","_x2","_x3","reloadHassioSnapshots","_ref3","_callee3","_context3","_x4","createHassioFullSnapshot","_ref4","_callee4","data","_context4","_x5","_x6","createHassioPartialSnapshot","_ref5","_callee5","_context5","_x7","_x8","fetchHassioHardwareAudio","fetchHassioHardwareInfo","__webpack_require__","__webpack_exports__","showHassioMarkdownDialog","_src_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__","element","dialogParams","fireEvent","dialogTag","dialogImport","e","bind","node","detail","event","Event","bubbles","cancelable","composed","dispatchEvent","_parseTextToColoredPre","content","text","match","pre","re","i","state","bold","italic","underline","strikethrough","foregroundColor","backgroundColor","addSpan","span","createTextNode","exec","j","index","substring","split","colorCode","parseInt","hassioStyle","attribute","query","_dialogParams","_repos","repos","_opened","_error","filter","repo","slug","sort","a","b","name","repositories","_filteredRepositories","closeDialog","map","maintainer","url","_removeRepository","mdiDelete","_handleKeyAdd","_addRepository","_prosessing","_templateObject5","_templateObject6","_this3$shadowRoot","shadowRoot","querySelector","focus","keyCode","input","newRepositories","addonsInfo","_optionInput","source","push","setSupervisorOption","addons_repositories","fetchHassioAddonsInfo","loadData","message","repository","target","find","reloadHassioAddons","fetchHassioAddonInfo","fetchHassioAddonChangelog","fetchHassioAddonLogs","fetchHassioAddonDocumentation","_ref6","_callee6","_context6","_x9","_x10","setHassioAddonOption","_ref7","_callee7","_context7","_x11","_x12","_x13","setHassioAddonSecurity","_ref8","_callee8","_context8","_x14","_x15","_x16","installHassioAddon","_ref9","_callee9","_context9","_x17","_x18","restartHassioAddon","_ref10","_callee10","_context10","_x19","_x20","uninstallHassioAddon","_ref11","_callee11","_context11","_x21","_x22","_decorate","_LitElement","_LitElement2","_inherits","HaSvgIcon","_createSuper","_classCallCheck","_assertThisInitialized","svg","static","PROCESSED_THEMES","processTheme","themeName","themes","checkHex","theme","assign","styles","keys","_i","_Object$keys","prefixedKey","startsWith","rgbKey","rgbValue","replace","_m","r","g","prefixedRgbKey","fetchHassioHostInfo","response","fetchHassioHassOsInfo","rebootHost","shutdownHost","updateOS","changeHostOptions","LOADED","showDialog","make_dialog_manager_asyncToGenerator","root","dialogEl","provideHass","documentContainer","setAttribute","innerHTML","entries","_slicedToArray","join","cssText","head","no-underline","noUnderline","autofocus","_filterInputChanged","noLabelFloat","mdiMagnify","_clearSearch","mdiClose","String","_filterChanged","ha_button_menu_decorate","ha_button_menu_inherits","HaButtonMenu","ha_button_menu_createSuper","ha_button_menu_classCallCheck","ha_button_menu_assertThisInitialized","ha_button_menu_templateObject","_handleClick","corner","_menu","anchor","show","ha_button_menu_templateObject2","HassioAddonRepositoryEl","addons","Fuse","caseSensitive","minMatchCharLength","threshold","search","filterAndSort","toUpperCase","_this$hass$userData","_addons","userData","showAdvanced","addon","advanced","_getAddons","hassio_addon_repository_templateObject","hassio_addon_repository_templateObject2","hassio_addon_repository_templateObject3","available","_addonTapped","description","installed","version","mdiArrowUpBoldCircle","mdiPuzzle","atLeastVersion","config","icon","currentTarget","sortRepos","HassioAddonStore","_filter","_loadData","_step","_iterator","_createForOfIteratorHelper","_loop","hassio_addon_store_templateObject","s","n","done","f","hassio_addon_store_templateObject2","supervisorTabs","mdiDotsVertical","_manageRepositories","refreshData","hassio_addon_store_templateObject3","hassio_addon_store_templateObject4","hassio_addon_store_get","hassio_addon_store_getPrototypeOf","apiCalled","success","alert","hassio_addons_templateObject","hassio_addons_templateObject3","hassio_addons_templateObject2","_openStore","hassio_addons_templateObject4","hassio_update_decorate","hassio_update_inherits","HassioUpdate","hassio_update_createSuper","hassio_update_classCallCheck","hassio_update_assertThisInitialized","updatesAvailable","hassInfo","supervisorInfo","hassOsInfo","version_latest","hassio_update_templateObject2","hassio_update_templateObject3","_renderUpdateCard","includes","mdiHomeAssistant","hassio_update_templateObject","curVersion","lastVersion","apiPath","releaseNotesUrl","hassio_update_templateObject5","hassio_update_templateObject6","_apiCalled","hassio_update_templateObject4","hassio_update_typeof","body","_templateObject7","hassio_dashboard_templateObject","hassio_dashboard_templateObject2","HassioSnapshots","checked","_updateSnapshots","hassio_snapshots_templateObject","mdiReload","_snapshotName","_handleTextValueChanged","_snapshotType","_handleRadioValueChanged","hassio_snapshots_templateObject2","_folderList","folder","idx","hassio_snapshots_templateObject3","_folderChecked","_addonList","hassio_snapshots_templateObject4","_addonChecked","_snapshotHasPassword","_handleCheckboxValueChanged","hassio_snapshots_templateObject5","_snapshotPassword","hassio_snapshots_templateObject6","_creatingSnapshot","_createSnapshot","_snapshots","hassio_snapshots_templateObject7","_templateObject8","_snapshotClicked","_computeDetails","date","mdiPackageVariantClosed","mdiPackageVariant","hassio_snapshots_get","hassio_snapshots_getPrototypeOf","getAttribute","curIdx","folders","_data","Date","toLocaleDateString","navigator","language","weekday","year","month","day","password","finish","onDelete","_templateObject9","hassio_host_info_templateObject","hostInfo","hostname","operating_system","deployment","hassio_host_info_templateObject2","_showHardware","features","hassio_host_info_templateObject3","_changeHostnameClicked","_errors","hassio_host_info_templateObject4","hassio_host_info_templateObject5","_rebootHost","hassio_host_info_templateObject6","_shutdownHost","hassio_host_info_templateObject7","hassio_host_info_templateObject8","_updateOS","hassio_host_info_templateObject9","hassio_host_info_typeof","_objectToMarkdown","title","t2","showConfirmationDialog","confirmText","dismissText","showAlertDialog","obj","indent","isArray","curHostname","showPromptDialog","inputLabel","inputType","defaultValue","hassio_supervisor_info_templateObject","channel","hassio_supervisor_info_templateObject2","hassio_supervisor_info_templateObject3","hassio_supervisor_info_templateObject4","hassio_supervisor_info_templateObject5","hassio_supervisor_info_templateObject6","_joinBeta","hassio_supervisor_info_templateObject7","hassio_supervisor_info_typeof","eventdata","_err$body","hassio_supervisor_info_templateObject8","logProviders","HassioSupervisorLog","hassio_supervisor_log_get","hassio_supervisor_log_getPrototypeOf","hassio_supervisor_log_templateObject","hassio_supervisor_log_templateObject2","hassio_supervisor_log_templateObject3","_setLogProvider","_selectedLogProvider","provider","hassio_supervisor_log_templateObject4","_content","hassio_supervisor_log_templateObject5","hassio_supervisor_log_templateObject6","_refresh","hassio_supervisor_log_templateObject7","item","fetchHassioLogs","hassio_system_templateObject","hassio_system_templateObject2","dashboard","store","system","el","iconPath","mdiViewDashboard","mdiStore","mdiBackupRestore","mdiCogs","hassio_panel_templateObject","superClass","HassioMain","_fetchData","all","ingress","hassio_main_get","hassio_main_getPrototypeOf","selectedTheme","newTheme","_themes","updateStyles","window","ShadyCSS","styleSubtree","applyThemesOnElement","parentElement","default_theme","style","setProperty","parent","customPanel","dockedSidebar","_e$detail","nodeName","routeTail","setProperties","_supervisorInfo","_hostInfo","_hassInfo","_hassOsInfo","_yield$Promise$all","_yield$Promise$all2","panel","_redirectIngress","fetchHassioSupervisorInfo","fetchHassioHomeAssistantInfo","hassio_main_slicedToArray","addonSlug","awaitAlert","createSessionPromise","hassio_main_asyncToGenerator","alertParams","action","confirm","createHassioSession","ingress_url","location","_this5","tries","tryUpdate","Math","min","_superClass","_temp","_defineProperty","__provideHass","_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__","_node","replaceState","pushState","_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__","loadGenericDialog","showDialogHelper","extra","origCancel","cancel","origConfirm","prompt","out","confirmation","cookie","session","HassTabsSubpage","reflect","tabs","activeTab","_components","_language","_narrow","component","core","components","advancedOnly","active","_tabTapped","translationKey","localize","changedProperties","_activeTab","tab","_getTabs","mainPage","hassio","bottom-bar","backPath","backCallback","_templateObject10","HaCallApiButton","method","_buttonTapped","eventData","resp","progressButton","actionSuccess","actionError","renderRoot","tests","langKey","dedupingMixin","_class","get","Function","computed","HaRelativeTime","LocalizeMixin","ha_relative_time_classCallCheck","updateRelative","ha_relative_time_assertThisInitialized","datetime","observer","datetimeObj","parsedDateTime","ha_relative_time_getPrototypeOf","updateInterval","setInterval","clearInterval","newVal","dom","dateObj","timeDesc","delta","compareTime","getTime","tense","abs","floor","includeTense","relativeTime","mdiHelpCircle","showTopbar","topbarClass","iconImage","iconClass","iconTitle","HaIconButton","attachShadow","mode","delegatesFocus","label","HaIconButtonArrowPrev","mdiArrowLeft","_icon","getComputedStyle","direction","mdiArrowRight","MwcDialog","createCloseHeading","_MwcDialog","_MwcDialog2","HaDialog","major","minor","_version$split2","haMajor","haMinor","Number","fetchNotifications","conn","sendMessagePromise","subscribeUpdates","subscribeEvents","ntf","setState","HaMenuButton","_attachNotifOnConnect","_subscribeNotifications","_unsubNotifications","hasNotifications","_hasNotifications","states","some","entityId","computeDomain","_toggleMenu","mdiMenu","_alwaysVisible","frontendVersion","oldHass","oldNarrow","newNarrow","visibility","onChange","connection","notifications","createCollection","iconMetadata","iconStore","Store","clear","set","chunks","MDI_PREFIXES","toRead","getIcon","iconName","results","_withIDBStore","_step$value","iconName_","resolve_","_step2","_iterator2","_step2$value","findIconChunk","lastChunk","_step3","_iterator3","parts","chunk","start","file","debouncedWriteCache","func","wait","timeout","immediate","context","callNow","clearTimeout","debounce","iconsSets","icons","put","HaIcon","_path","_loadIcon","_noMdi","_loadIcon2","cachedPath","iconPromise","_setPath","fetch","json","_setPath2","promise","iconPack"],"mappings":"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","file":"chunk.21c40e328e283f71a3a9.js","sourcesContent":["import { css } from \"lit-element\";\n\nexport const derivedStyles = {\n  \"paper-spinner-color\": \"var(--primary-color)\",\n  \"error-state-color\": \"var(--error-color)\",\n  \"state-icon-unavailable-color\": \"var(--disabled-text-color)\",\n  \"sidebar-text-color\": \"var(--primary-text-color)\",\n  \"sidebar-background-color\": \"var(--card-background-color)\",\n  \"sidebar-selected-text-color\": \"var(--primary-color)\",\n  \"sidebar-selected-icon-color\": \"var(--primary-color)\",\n  \"sidebar-icon-color\": \"rgba(var(--rgb-primary-text-color), 0.6)\",\n  \"switch-checked-color\": \"var(--primary-color)\",\n  \"switch-checked-button-color\":\n    \"var(--switch-checked-color, var(--primary-background-color))\",\n  \"switch-checked-track-color\": \"var(--switch-checked-color, #000000)\",\n  \"switch-unchecked-button-color\":\n    \"var(--switch-unchecked-color, var(--primary-background-color))\",\n  \"switch-unchecked-track-color\": \"var(--switch-unchecked-color, #000000)\",\n  \"slider-color\": \"var(--primary-color)\",\n  \"slider-secondary-color\": \"var(--light-primary-color)\",\n  \"slider-bar-color\": \"var(--disabled-text-color)\",\n  \"label-badge-grey\": \"var(--paper-grey-500)\",\n  \"label-badge-background-color\": \"var(--card-background-color)\",\n  \"label-badge-text-color\": \"rgba(var(--rgb-primary-text-color), 0.8)\",\n  \"paper-card-background-color\": \"var(--card-background-color)\",\n  \"paper-listbox-background-color\": \"var(--card-background-color)\",\n  \"paper-item-icon-color\": \"var(--state-icon-color)\",\n  \"paper-item-icon-active-color\": \"var(--state-icon-active-color)\",\n  \"table-row-background-color\": \"var(--primary-background-color)\",\n  \"table-row-alternative-background-color\": \"var(--secondary-background-color)\",\n  \"paper-slider-knob-color\": \"var(--slider-color)\",\n  \"paper-slider-knob-start-color\": \"var(--slider-color)\",\n  \"paper-slider-pin-color\": \"var(--slider-color)\",\n  \"paper-slider-active-color\": \"var(--slider-color)\",\n  \"paper-slider-secondary-color\": \"var(--slider-secondary-color)\",\n  \"paper-slider-container-color\": \"var(--slider-bar-color)\",\n  \"data-table-background-color\": \"var(--card-background-color)\",\n  \"mdc-theme-primary\": \"var(--primary-color)\",\n  \"mdc-theme-secondary\": \"var(--accent-color)\",\n  \"mdc-theme-background\": \"var(--primary-background-color)\",\n  \"mdc-theme-surface\": \"var(--card-background-color)\",\n  \"mdc-theme-on-primary\": \"var(--text-primary-color)\",\n  \"mdc-theme-on-secondary\": \"var(--text-primary-color)\",\n  \"mdc-theme-on-surface\": \"var(--primary-text-color)\",\n  \"mdc-theme-text-primary-on-background\": \"var(--primary-text-color)\",\n  \"app-header-text-color\": \"var(--text-primary-color)\",\n  \"app-header-background-color\": \"var(--primary-color)\",\n  \"material-body-text-color\": \"var(--primary-text-color)\",\n  \"material-background-color\": \"var(--card-background-color)\",\n  \"material-secondary-background-color\": \"var(--secondary-background-color)\",\n};\n\nexport const haStyle = css`\n  :host {\n    font-family: var(--paper-font-body1_-_font-family);\n    -webkit-font-smoothing: var(--paper-font-body1_-_-webkit-font-smoothing);\n    font-size: var(--paper-font-body1_-_font-size);\n    font-weight: var(--paper-font-body1_-_font-weight);\n    line-height: var(--paper-font-body1_-_line-height);\n  }\n\n  app-header-layout,\n  ha-app-layout {\n    background-color: var(--primary-background-color);\n  }\n\n  app-header,\n  app-toolbar {\n    background-color: var(--app-header-background-color);\n    font-weight: 400;\n    color: var(--app-header-text-color, white);\n  }\n\n  app-toolbar ha-menu-button + [main-title],\n  app-toolbar ha-icon-button-arrow-prev + [main-title],\n  app-toolbar ha-icon-button + [main-title] {\n    margin-left: 24px;\n  }\n\n  h1 {\n    font-family: var(--paper-font-title_-_font-family);\n    -webkit-font-smoothing: var(--paper-font-title_-_-webkit-font-smoothing);\n    white-space: var(--paper-font-title_-_white-space);\n    overflow: var(--paper-font-title_-_overflow);\n    text-overflow: var(--paper-font-title_-_text-overflow);\n    font-size: var(--paper-font-title_-_font-size);\n    font-weight: var(--paper-font-title_-_font-weight);\n    line-height: var(--paper-font-title_-_line-height);\n  }\n\n  h2 {\n    font-family: var(--paper-font-subhead_-_font-family);\n    -webkit-font-smoothing: var(--paper-font-subhead_-_-webkit-font-smoothing);\n    white-space: var(--paper-font-subhead_-_white-space);\n    overflow: var(--paper-font-subhead_-_overflow);\n    text-overflow: var(--paper-font-subhead_-_text-overflow);\n    font-size: var(--paper-font-subhead_-_font-size);\n    font-weight: var(--paper-font-subhead_-_font-weight);\n    line-height: var(--paper-font-subhead_-_line-height);\n  }\n\n  .secondary {\n    color: var(--secondary-text-color);\n  }\n\n  .error {\n    color: var(--google-red-500);\n  }\n\n  .warning {\n    color: var(--google-red-500);\n  }\n\n  mwc-button.warning {\n    --mdc-theme-primary: var(--google-red-500);\n  }\n\n  button.link {\n    background: none;\n    color: inherit;\n    border: none;\n    padding: 0;\n    font: inherit;\n    text-align: left;\n    text-decoration: underline;\n    cursor: pointer;\n  }\n\n  .card-actions a {\n    text-decoration: none;\n  }\n\n  .card-actions .warning {\n    --mdc-theme-primary: var(--google-red-500);\n  }\n\n  .layout.horizontal,\n  .layout.vertical {\n    display: flex;\n  }\n  .layout.inline {\n    display: inline-flex;\n  }\n  .layout.horizontal {\n    flex-direction: row;\n  }\n  .layout.vertical {\n    flex-direction: column;\n  }\n  .layout.wrap {\n    flex-wrap: wrap;\n  }\n  .layout.no-wrap {\n    flex-wrap: nowrap;\n  }\n  .layout.center,\n  .layout.center-center {\n    align-items: center;\n  }\n  .layout.bottom {\n    align-items: flex-end;\n  }\n  .layout.center-justified,\n  .layout.center-center {\n    justify-content: center;\n  }\n  .flex {\n    flex: 1;\n    flex-basis: 0.000000001px;\n  }\n  .flex-auto {\n    flex: 1 1 auto;\n  }\n  .flex-none {\n    flex: none;\n  }\n  .layout.justified {\n    justify-content: space-between;\n  }\n`;\n\nexport const haStyleDialog = css`\n  /* prevent clipping of positioned elements */\n  paper-dialog-scrollable {\n    --paper-dialog-scrollable: {\n      -webkit-overflow-scrolling: auto;\n    }\n  }\n\n  /* force smooth scrolling for iOS 10 */\n  paper-dialog-scrollable.can-scroll {\n    --paper-dialog-scrollable: {\n      -webkit-overflow-scrolling: touch;\n    }\n  }\n\n  .paper-dialog-buttons {\n    align-items: flex-end;\n    padding: 8px;\n  }\n\n  @media all and (min-width: 450px) {\n    ha-paper-dialog {\n      min-width: 400px;\n    }\n  }\n\n  @media all and (max-width: 450px), all and (max-height: 500px) {\n    paper-dialog,\n    ha-paper-dialog {\n      margin: 0;\n      width: 100% !important;\n      max-height: calc(100% - 64px);\n\n      position: fixed !important;\n      bottom: 0px;\n      left: 0px;\n      right: 0px;\n      overflow: scroll;\n      border-bottom-left-radius: 0px;\n      border-bottom-right-radius: 0px;\n    }\n  }\n\n  /* mwc-dialog (ha-dialog) styles */\n  ha-dialog {\n    --mdc-dialog-min-width: 400px;\n    --mdc-dialog-max-width: 600px;\n    --mdc-dialog-heading-ink-color: var(--primary-text-color);\n    --mdc-dialog-content-ink-color: var(--primary-text-color);\n    --justify-action-buttons: space-between;\n  }\n\n  ha-dialog .form {\n    padding-bottom: 24px;\n    color: var(--primary-text-color);\n  }\n\n  /* make dialog fullscreen on small screens */\n  @media all and (max-width: 450px), all and (max-height: 500px) {\n    ha-dialog {\n      --mdc-dialog-min-width: 100vw;\n      --mdc-dialog-max-height: 100vh;\n      --mdc-dialog-shape-radius: 0px;\n      --vertial-align-dialog: flex-end;\n    }\n  }\n  mwc-button.warning {\n    --mdc-theme-primary: var(--google-red-500);\n  }\n  .error {\n    color: var(--google-red-500);\n  }\n`;\n","import \"@material/mwc-button\";\nimport {\n  css,\n  CSSResultArray,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport \"./hass-subpage\";\n\n@customElement(\"hass-error-screen\")\nclass HassErrorScreen extends LitElement {\n  @property()\n  public error?: string;\n\n  protected render(): TemplateResult {\n    return html`\n      <hass-subpage>\n        <div class=\"content\">\n          <h3>${this.error}</h3>\n          <slot>\n            <mwc-button @click=${this._backTapped}>go back</mwc-button>\n          </slot>\n        </div>\n      </hass-subpage>\n    `;\n  }\n\n  private _backTapped(): void {\n    history.back();\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      css`\n        .content {\n          height: calc(100% - 64px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-direction: column;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-error-screen\": HassErrorScreen;\n  }\n}\n","import { property, PropertyValues, UpdatingElement } from \"lit-element\";\nimport memoizeOne from \"memoize-one\";\nimport { navigate } from \"../common/navigate\";\nimport { Route } from \"../types\";\nimport \"./hass-error-screen\";\nimport \"./hass-loading-screen\";\n\nconst extractPage = (path: string, defaultPage: string) => {\n  if (path === \"\") {\n    return defaultPage;\n  }\n  const subpathStart = path.indexOf(\"/\", 1);\n  return subpathStart === -1\n    ? path.substr(1)\n    : path.substr(1, subpathStart - 1);\n};\n\nexport interface RouteOptions {\n  // HTML tag of the route page.\n  tag: string;\n  // Function to load the page.\n  load?: () => Promise<unknown>;\n  cache?: boolean;\n}\n\nexport interface RouterOptions {\n  // The default route to show if path does not define a page.\n  defaultPage?: string;\n  // If all routes should be preloaded\n  preloadAll?: boolean;\n  // If a route has been shown, should we keep the element in memory\n  cacheAll?: boolean;\n  // Should we show a loading spinner while we load the element for the route\n  showLoading?: boolean;\n  // Promise that resolves when the initial data is loaded which is needed to show any route.\n  initialLoad?: () => Promise<unknown>;\n  // Hook that is called before rendering a new route. Allowing redirects.\n  // If string returned, that page will be rendered instead.\n  beforeRender?: (page: string) => string | undefined;\n  routes: {\n    // If it's a string, it is another route whose options should be adopted.\n    [route: string]: RouteOptions | string;\n  };\n}\n\n// Time to wait for code to load before we show loading screen.\nconst LOADING_SCREEN_THRESHOLD = 400; // ms\n\nexport class HassRouterPage extends UpdatingElement {\n  @property() public route?: Route;\n\n  protected routerOptions!: RouterOptions;\n\n  protected _currentPage = \"\";\n\n  private _currentLoadProm?: Promise<void>;\n\n  private _cache = {};\n\n  private _initialLoadDone = false;\n\n  private _computeTail = memoizeOne((route: Route) => {\n    const dividerPos = route.path.indexOf(\"/\", 1);\n    return dividerPos === -1\n      ? {\n          prefix: route.prefix + route.path,\n          path: \"\",\n        }\n      : {\n          prefix: route.prefix + route.path.substr(0, dividerPos),\n          path: route.path.substr(dividerPos),\n        };\n  });\n\n  protected update(changedProps: PropertyValues) {\n    super.update(changedProps);\n\n    const routerOptions = this.routerOptions || { routes: {} };\n\n    if (routerOptions && routerOptions.initialLoad && !this._initialLoadDone) {\n      return;\n    }\n\n    if (!changedProps.has(\"route\")) {\n      // Do not update if we have a currentLoadProm, because that means\n      // that there is still an old panel shown and we're moving to a new one.\n      if (this.lastChild && !this._currentLoadProm) {\n        this.updatePageEl(this.lastChild, changedProps);\n      }\n      return;\n    }\n\n    const route = this.route;\n    const defaultPage = routerOptions.defaultPage;\n\n    if (route && route.path === \"\" && defaultPage !== undefined) {\n      navigate(this, `${route.prefix}/${defaultPage}`, true);\n    }\n\n    let newPage = route\n      ? extractPage(route.path, defaultPage || \"\")\n      : \"not_found\";\n    let routeOptions = routerOptions.routes[newPage];\n\n    // Handle redirects\n    while (typeof routeOptions === \"string\") {\n      newPage = routeOptions;\n      routeOptions = routerOptions.routes[newPage];\n    }\n\n    if (routerOptions.beforeRender) {\n      const result = routerOptions.beforeRender(newPage);\n      if (result !== undefined) {\n        newPage = result;\n        routeOptions = routerOptions.routes[newPage];\n\n        // Handle redirects\n        while (typeof routeOptions === \"string\") {\n          newPage = routeOptions;\n          routeOptions = routerOptions.routes[newPage];\n        }\n\n        // Update the url if we know where we're mounted.\n        if (route) {\n          navigate(this, `${route.prefix}/${result}`, true);\n        }\n      }\n    }\n\n    if (this._currentPage === newPage) {\n      if (this.lastChild) {\n        this.updatePageEl(this.lastChild, changedProps);\n      }\n      return;\n    }\n\n    if (!routeOptions) {\n      this._currentPage = \"\";\n      if (this.lastChild) {\n        this.removeChild(this.lastChild);\n      }\n      return;\n    }\n\n    this._currentPage = newPage;\n    const loadProm = routeOptions.load\n      ? routeOptions.load()\n      : Promise.resolve();\n\n    // Check when loading the page source failed.\n    loadProm.catch((err) => {\n      // eslint-disable-next-line\n      console.error(\"Error loading page\", newPage, err);\n\n      // Verify that we're still trying to show the same page.\n      if (this._currentPage !== newPage) {\n        return;\n      }\n\n      // Removes either loading screen or the panel\n      this.removeChild(this.lastChild!);\n\n      // Show error screen\n      const errorEl = document.createElement(\"hass-error-screen\");\n      errorEl.error = `Error while loading page ${newPage}.`;\n      this.appendChild(errorEl);\n    });\n\n    // If we don't show loading screen, just show the panel.\n    // It will be automatically upgraded when loading done.\n    if (!routerOptions.showLoading) {\n      this._createPanel(routerOptions, newPage, routeOptions);\n      return;\n    }\n\n    // We are only going to show the loading screen after some time.\n    // That way we won't have a double fast flash on fast connections.\n    let created = false;\n\n    setTimeout(() => {\n      if (created || this._currentPage !== newPage) {\n        return;\n      }\n\n      // Show a loading screen.\n      if (this.lastChild) {\n        this.removeChild(this.lastChild);\n      }\n      this.appendChild(this.createLoadingScreen());\n    }, LOADING_SCREEN_THRESHOLD);\n\n    this._currentLoadProm = loadProm.then(\n      () => {\n        this._currentLoadProm = undefined;\n        // Check if we're still trying to show the same page.\n        if (this._currentPage !== newPage) {\n          return;\n        }\n\n        created = true;\n        this._createPanel(\n          routerOptions,\n          newPage,\n          // @ts-ignore TS forgot this is not a string.\n          routeOptions\n        );\n      },\n      () => {\n        this._currentLoadProm = undefined;\n      }\n    );\n  }\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n\n    const options = this.routerOptions;\n\n    if (!options) {\n      return;\n    }\n\n    if (options.preloadAll) {\n      Object.values(options.routes).forEach(\n        (route) => typeof route === \"object\" && route.load && route.load()\n      );\n    }\n\n    if (options.initialLoad) {\n      setTimeout(() => {\n        if (!this._initialLoadDone) {\n          this.appendChild(this.createLoadingScreen());\n        }\n      }, LOADING_SCREEN_THRESHOLD);\n\n      options.initialLoad().then(() => {\n        this._initialLoadDone = true;\n        this.requestUpdate(\"route\");\n      });\n    }\n  }\n\n  protected createLoadingScreen() {\n    return document.createElement(\"hass-loading-screen\");\n  }\n\n  /**\n   * Rebuild the current panel.\n   *\n   * Promise will resolve when rebuilding is done and DOM updated.\n   */\n  protected async rebuild(): Promise<void> {\n    const oldRoute = this.route;\n\n    if (oldRoute === undefined) {\n      return;\n    }\n\n    this.route = undefined;\n    await this.updateComplete;\n    // Make sure that the parent didn't override this in the meanwhile.\n    if (this.route === undefined) {\n      this.route = oldRoute;\n    }\n  }\n\n  /**\n   * Promise that resolves when the page has rendered.\n   */\n  protected get pageRendered(): Promise<void> {\n    return this.updateComplete.then(() => this._currentLoadProm);\n  }\n\n  protected createElement(tag: string) {\n    return document.createElement(tag);\n  }\n\n  protected updatePageEl(_pageEl, _changedProps?: PropertyValues) {\n    // default we do nothing\n  }\n\n  protected get routeTail(): Route {\n    return this._computeTail(this.route!);\n  }\n\n  private _createPanel(\n    routerOptions: RouterOptions,\n    page: string,\n    routeOptions: RouteOptions\n  ) {\n    if (this.lastChild) {\n      this.removeChild(this.lastChild);\n    }\n\n    const panelEl = this._cache[page] || this.createElement(routeOptions.tag);\n    this.updatePageEl(panelEl);\n    this.appendChild(panelEl);\n\n    if (routerOptions.cacheAll || routeOptions.cache) {\n      this._cache[page] = panelEl;\n    }\n  }\n}\n","import {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport { classMap } from \"lit-html/directives/class-map\";\nimport \"../components/ha-menu-button\";\nimport \"../components/ha-icon-button-arrow-prev\";\n\n@customElement(\"hass-subpage\")\nclass HassSubpage extends LitElement {\n  @property()\n  public header?: string;\n\n  @property({ type: Boolean })\n  public showBackButton = true;\n\n  @property({ type: Boolean })\n  public hassio = false;\n\n  protected render(): TemplateResult {\n    return html`\n      <div class=\"toolbar\">\n        <ha-icon-button-arrow-prev\n          aria-label=\"Back\"\n          @click=${this._backTapped}\n          class=${classMap({ hidden: !this.showBackButton })}\n        ></ha-icon-button-arrow-prev>\n\n        <div main-title>${this.header}</div>\n        <slot name=\"toolbar-icon\"></slot>\n      </div>\n      <div class=\"content\"><slot></slot></div>\n    `;\n  }\n\n  private _backTapped(): void {\n    history.back();\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        display: block;\n        height: 100%;\n        background-color: var(--primary-background-color);\n      }\n\n      .toolbar {\n        display: flex;\n        align-items: center;\n        font-size: 20px;\n        height: 65px;\n        padding: 0 16px;\n        pointer-events: none;\n        background-color: var(--app-header-background-color);\n        font-weight: 400;\n        color: var(--app-header-text-color, white);\n        border-bottom: var(--app-header-border-bottom, none);\n        box-sizing: border-box;\n      }\n\n      ha-menu-button,\n      ha-icon-button-arrow-prev,\n      ::slotted([slot=\"toolbar-icon\"]) {\n        pointer-events: auto;\n      }\n\n      ha-icon-button-arrow-prev.hidden {\n        visibility: hidden;\n      }\n\n      [main-title] {\n        margin: 0 0 0 24px;\n        line-height: 20px;\n        flex-grow: 1;\n      }\n\n      .content {\n        position: relative;\n        width: 100%;\n        height: calc(100% - 65px);\n        overflow-y: auto;\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-subpage\": HassSubpage;\n  }\n}\n","import \"@polymer/app-layout/app-toolbar/app-toolbar\";\nimport \"@polymer/paper-spinner/paper-spinner-lite\";\nimport {\n  css,\n  CSSResultArray,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport \"../components/ha-menu-button\";\nimport \"../components/ha-icon-button-arrow-prev\";\nimport { haStyle } from \"../resources/styles\";\nimport { HomeAssistant } from \"../types\";\n\n@customElement(\"hass-loading-screen\")\nclass HassLoadingScreen extends LitElement {\n  @property({ type: Boolean }) public rootnav? = false;\n\n  @property() public hass?: HomeAssistant;\n\n  @property() public narrow?: boolean;\n\n  protected render(): TemplateResult {\n    return html`\n      <app-toolbar>\n        ${this.rootnav\n          ? html`\n              <ha-menu-button\n                .hass=${this.hass}\n                .narrow=${this.narrow}\n              ></ha-menu-button>\n            `\n          : html`\n              <ha-icon-button-arrow-prev\n                @click=${this._handleBack}\n              ></ha-icon-button-arrow-prev>\n            `}\n      </app-toolbar>\n      <div class=\"content\">\n        <paper-spinner-lite active></paper-spinner-lite>\n      </div>\n    `;\n  }\n\n  private _handleBack() {\n    history.back();\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      haStyle,\n      css`\n        :host {\n          display: block;\n          height: 100%;\n          background-color: var(--primary-background-color);\n        }\n        .content {\n          height: calc(100% - 64px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-loading-screen\": HassLoadingScreen;\n  }\n}\n","import \"@material/mwc-button\";\nimport \"@polymer/paper-spinner/paper-spinner\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\n/* eslint-plugin-disable lit */\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nclass HaProgressButton extends PolymerElement {\n  static get template() {\n    return html`\n      <style>\n        .container {\n          position: relative;\n          display: inline-block;\n        }\n\n        mwc-button {\n          transition: all 1s;\n        }\n\n        .success mwc-button {\n          --mdc-theme-primary: white;\n          background-color: var(--google-green-500);\n          transition: none;\n        }\n\n        .error mwc-button {\n          --mdc-theme-primary: white;\n          background-color: var(--google-red-500);\n          transition: none;\n        }\n\n        .progress {\n          @apply --layout;\n          @apply --layout-center-center;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n        }\n      </style>\n      <div class=\"container\" id=\"container\">\n        <mwc-button\n          id=\"button\"\n          disabled=\"[[computeDisabled(disabled, progress)]]\"\n          on-click=\"buttonTapped\"\n        >\n          <slot></slot>\n        </mwc-button>\n        <template is=\"dom-if\" if=\"[[progress]]\">\n          <div class=\"progress\"><paper-spinner active=\"\"></paper-spinner></div>\n        </template>\n      </div>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      progress: {\n        type: Boolean,\n        value: false,\n      },\n\n      disabled: {\n        type: Boolean,\n        value: false,\n      },\n    };\n  }\n\n  tempClass(className) {\n    var classList = this.$.container.classList;\n    classList.add(className);\n    setTimeout(() => {\n      classList.remove(className);\n    }, 1000);\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener(\"click\", (ev) => this.buttonTapped(ev));\n  }\n\n  buttonTapped(ev) {\n    if (this.progress) ev.stopPropagation();\n  }\n\n  actionSuccess() {\n    this.tempClass(\"success\");\n  }\n\n  actionError() {\n    this.tempClass(\"error\");\n  }\n\n  computeDisabled(disabled, progress) {\n    return disabled || progress;\n  }\n}\n\ncustomElements.define(\"ha-progress-button\", HaProgressButton);\n","import { HomeAssistant } from \"../../types\";\nimport { hassioApiResultExtractor, HassioResponse } from \"./common\";\n\nexport interface HassioSnapshot {\n  slug: string;\n  date: string;\n  name: string;\n  type: \"full\" | \"partial\";\n  protected: boolean;\n}\n\nexport interface HassioSnapshotDetail extends HassioSnapshot {\n  size: number;\n  homeassistant: string;\n  addons: Array<{\n    slug: \"ADDON_SLUG\";\n    name: \"NAME\";\n    version: \"INSTALLED_VERSION\";\n    size: \"SIZE_IN_MB\";\n  }>;\n  repositories: string[];\n  folders: string[];\n}\n\nexport interface HassioFullSnapshotCreateParams {\n  name: string;\n  password?: string;\n}\nexport interface HassioPartialSnapshotCreateParams {\n  name: string;\n  folders: string[];\n  addons: string[];\n  password?: string;\n}\n\nexport const fetchHassioSnapshots = async (hass: HomeAssistant) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<{ snapshots: HassioSnapshot[] }>>(\n      \"GET\",\n      \"hassio/snapshots\"\n    )\n  ).snapshots;\n};\n\nexport const fetchHassioSnapshotInfo = async (\n  hass: HomeAssistant,\n  snapshot: string\n) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<HassioSnapshotDetail>>(\n      \"GET\",\n      `hassio/snapshots/${snapshot}/info`\n    )\n  );\n};\n\nexport const reloadHassioSnapshots = async (hass: HomeAssistant) => {\n  await hass.callApi<HassioResponse<void>>(\"POST\", `hassio/snapshots/reload`);\n};\n\nexport const createHassioFullSnapshot = async (\n  hass: HomeAssistant,\n  data: HassioFullSnapshotCreateParams\n) => {\n  await hass.callApi<HassioResponse<void>>(\n    \"POST\",\n    `hassio/snapshots/new/full`,\n    data\n  );\n};\n\nexport const createHassioPartialSnapshot = async (\n  hass: HomeAssistant,\n  data: HassioFullSnapshotCreateParams\n) => {\n  await hass.callApi<HassioResponse<void>>(\n    \"POST\",\n    `hassio/snapshots/new/partial`,\n    data\n  );\n};\n","import { HomeAssistant } from \"../../types\";\nimport { hassioApiResultExtractor, HassioResponse } from \"./common\";\n\nexport interface HassioHardwareAudioDevice {\n  device?: string | null;\n  name: string;\n}\n\ninterface HassioHardwareAudioList {\n  audio: {\n    input: { [key: string]: string };\n    output: { [key: string]: string };\n  };\n}\n\nexport interface HassioHardwareInfo {\n  serial: string[];\n  input: string[];\n  disk: string[];\n  gpio: string[];\n  audio: object;\n}\n\nexport const fetchHassioHardwareAudio = async (hass: HomeAssistant) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<HassioHardwareAudioList>>(\n      \"GET\",\n      \"hassio/hardware/audio\"\n    )\n  );\n};\n\nexport const fetchHassioHardwareInfo = async (hass: HomeAssistant) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<HassioHardwareInfo>>(\n      \"GET\",\n      \"hassio/hardware/info\"\n    )\n  );\n};\n","import { fireEvent } from \"../../../../src/common/dom/fire_event\";\n\nexport interface HassioMarkdownDialogParams {\n  title: string;\n  content: string;\n}\n\nexport const showHassioMarkdownDialog = (\n  element: HTMLElement,\n  dialogParams: HassioMarkdownDialogParams\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"dialog-hassio-markdown\",\n    dialogImport: () =>\n      import(\n        /* webpackChunkName: \"dialog-hassio-markdown\" */ \"./dialog-hassio-markdown\"\n      ),\n    dialogParams,\n  });\n};\n","// Polymer legacy event helpers used courtesy of the Polymer project.\n//\n// Copyright (c) 2017 The Polymer Authors. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//    * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//    * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//    * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\ndeclare global {\n  // eslint-disable-next-line\n  interface HASSDomEvents {}\n}\n\nexport type ValidHassDomEvent = keyof HASSDomEvents;\n\nexport interface HASSDomEvent<T> extends Event {\n  detail: T;\n}\n\n/**\n * Dispatches a custom event with an optional detail value.\n *\n * @param {string} type Name of event type.\n * @param {*=} detail Detail value containing event-specific\n *   payload.\n * @param {{ bubbles: (boolean|undefined),\n *           cancelable: (boolean|undefined),\n *           composed: (boolean|undefined) }=}\n *  options Object specifying options.  These may include:\n *  `bubbles` (boolean, defaults to `true`),\n *  `cancelable` (boolean, defaults to false), and\n *  `node` on which to fire the event (HTMLElement, defaults to `this`).\n * @return {Event} The new event that was fired.\n */\nexport const fireEvent = <HassEvent extends ValidHassDomEvent>(\n  node: HTMLElement | Window,\n  type: HassEvent,\n  detail?: HASSDomEvents[HassEvent],\n  options?: {\n    bubbles?: boolean;\n    cancelable?: boolean;\n    composed?: boolean;\n  }\n) => {\n  options = options || {};\n  // @ts-ignore\n  detail = detail === null || detail === undefined ? {} : detail;\n  const event = new Event(type, {\n    bubbles: options.bubbles === undefined ? true : options.bubbles,\n    cancelable: Boolean(options.cancelable),\n    composed: options.composed === undefined ? true : options.composed,\n  });\n  (event as any).detail = detail;\n  node.dispatchEvent(event);\n  return event;\n};\n","import {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\n\ninterface State {\n  bold: boolean;\n  italic: boolean;\n  underline: boolean;\n  strikethrough: boolean;\n  foregroundColor: null | string;\n  backgroundColor: null | string;\n}\n\n@customElement(\"hassio-ansi-to-html\")\nclass HassioAnsiToHtml extends LitElement {\n  @property() public content!: string;\n\n  public render(): TemplateResult | void {\n    return html`${this._parseTextToColoredPre(this.content)}`;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      pre {\n        overflow-x: auto;\n        white-space: pre-wrap;\n        overflow-wrap: break-word;\n      }\n      .bold {\n        font-weight: bold;\n      }\n      .italic {\n        font-style: italic;\n      }\n      .underline {\n        text-decoration: underline;\n      }\n      .strikethrough {\n        text-decoration: line-through;\n      }\n      .underline.strikethrough {\n        text-decoration: underline line-through;\n      }\n      .fg-red {\n        color: rgb(222, 56, 43);\n      }\n      .fg-green {\n        color: rgb(57, 181, 74);\n      }\n      .fg-yellow {\n        color: rgb(255, 199, 6);\n      }\n      .fg-blue {\n        color: rgb(0, 111, 184);\n      }\n      .fg-magenta {\n        color: rgb(118, 38, 113);\n      }\n      .fg-cyan {\n        color: rgb(44, 181, 233);\n      }\n      .fg-white {\n        color: rgb(204, 204, 204);\n      }\n      .bg-black {\n        background-color: rgb(0, 0, 0);\n      }\n      .bg-red {\n        background-color: rgb(222, 56, 43);\n      }\n      .bg-green {\n        background-color: rgb(57, 181, 74);\n      }\n      .bg-yellow {\n        background-color: rgb(255, 199, 6);\n      }\n      .bg-blue {\n        background-color: rgb(0, 111, 184);\n      }\n      .bg-magenta {\n        background-color: rgb(118, 38, 113);\n      }\n      .bg-cyan {\n        background-color: rgb(44, 181, 233);\n      }\n      .bg-white {\n        background-color: rgb(204, 204, 204);\n      }\n    `;\n  }\n\n  private _parseTextToColoredPre(text) {\n    const pre = document.createElement(\"pre\");\n    const re = /\\033(?:\\[(.*?)[@-~]|\\].*?(?:\\007|\\033\\\\))/g;\n    let i = 0;\n\n    const state: State = {\n      bold: false,\n      italic: false,\n      underline: false,\n      strikethrough: false,\n      foregroundColor: null,\n      backgroundColor: null,\n    };\n\n    const addSpan = (content) => {\n      const span = document.createElement(\"span\");\n      if (state.bold) {\n        span.classList.add(\"bold\");\n      }\n      if (state.italic) {\n        span.classList.add(\"italic\");\n      }\n      if (state.underline) {\n        span.classList.add(\"underline\");\n      }\n      if (state.strikethrough) {\n        span.classList.add(\"strikethrough\");\n      }\n      if (state.foregroundColor !== null) {\n        span.classList.add(`fg-${state.foregroundColor}`);\n      }\n      if (state.backgroundColor !== null) {\n        span.classList.add(`bg-${state.backgroundColor}`);\n      }\n      span.appendChild(document.createTextNode(content));\n      pre.appendChild(span);\n    };\n\n    /* eslint-disable no-cond-assign */\n    let match;\n    // eslint-disable-next-line\n    while ((match = re.exec(text)) !== null) {\n      const j = match!.index;\n      addSpan(text.substring(i, j));\n      i = j + match[0].length;\n\n      if (match[1] === undefined) {\n        continue;\n      }\n\n      match[1].split(\";\").forEach((colorCode: string) => {\n        switch (parseInt(colorCode, 10)) {\n          case 0:\n            // reset\n            state.bold = false;\n            state.italic = false;\n            state.underline = false;\n            state.strikethrough = false;\n            state.foregroundColor = null;\n            state.backgroundColor = null;\n            break;\n          case 1:\n            state.bold = true;\n            break;\n          case 3:\n            state.italic = true;\n            break;\n          case 4:\n            state.underline = true;\n            break;\n          case 9:\n            state.strikethrough = true;\n            break;\n          case 22:\n            state.bold = false;\n            break;\n          case 23:\n            state.italic = false;\n            break;\n          case 24:\n            state.underline = false;\n            break;\n          case 29:\n            state.strikethrough = false;\n            break;\n          case 30:\n            // foreground black\n            state.foregroundColor = null;\n            break;\n          case 31:\n            state.foregroundColor = \"red\";\n            break;\n          case 32:\n            state.foregroundColor = \"green\";\n            break;\n          case 33:\n            state.foregroundColor = \"yellow\";\n            break;\n          case 34:\n            state.foregroundColor = \"blue\";\n            break;\n          case 35:\n            state.foregroundColor = \"magenta\";\n            break;\n          case 36:\n            state.foregroundColor = \"cyan\";\n            break;\n          case 37:\n            state.foregroundColor = \"white\";\n            break;\n          case 39:\n            // foreground reset\n            state.foregroundColor = null;\n            break;\n          case 40:\n            state.backgroundColor = \"black\";\n            break;\n          case 41:\n            state.backgroundColor = \"red\";\n            break;\n          case 42:\n            state.backgroundColor = \"green\";\n            break;\n          case 43:\n            state.backgroundColor = \"yellow\";\n            break;\n          case 44:\n            state.backgroundColor = \"blue\";\n            break;\n          case 45:\n            state.backgroundColor = \"magenta\";\n            break;\n          case 46:\n            state.backgroundColor = \"cyan\";\n            break;\n          case 47:\n            state.backgroundColor = \"white\";\n            break;\n          case 49:\n            // background reset\n            state.backgroundColor = null;\n            break;\n        }\n      });\n    }\n    addSpan(text.substring(i));\n\n    return pre;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-ansi-to-html\": HassioAnsiToHtml;\n  }\n}\n","import { css } from \"lit-element\";\n\nexport const hassioStyle = css`\n  .content {\n    margin: 8px;\n  }\n  h1,\n  .description,\n  .card-content {\n    color: var(--primary-text-color);\n  }\n  h1 {\n    font-size: 2em;\n    margin-bottom: 8px;\n    font-family: var(--paper-font-headline_-_font-family);\n    -webkit-font-smoothing: var(--paper-font-headline_-_-webkit-font-smoothing);\n    font-size: var(--paper-font-headline_-_font-size);\n    font-weight: var(--paper-font-headline_-_font-weight);\n    letter-spacing: var(--paper-font-headline_-_letter-spacing);\n    line-height: var(--paper-font-headline_-_line-height);\n    padding-left: 8px;\n  }\n  .description {\n    margin-top: 4px;\n    padding-left: 8px;\n  }\n  .card-group {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n    grid-gap: 8px;\n  }\n  @media screen and (min-width: 640px) {\n    .card-group {\n      grid-template-columns: repeat(auto-fit, minmax(300px, 0.5fr));\n    }\n  }\n  @media screen and (min-width: 1020px) {\n    .card-group {\n      grid-template-columns: repeat(auto-fit, minmax(300px, 0.333fr));\n    }\n  }\n  @media screen and (min-width: 1300px) {\n    .card-group {\n      grid-template-columns: repeat(auto-fit, minmax(300px, 0.25fr));\n    }\n  }\n  ha-call-api-button {\n    font-weight: 500;\n    color: var(--primary-color);\n  }\n  .error {\n    color: var(--error-color);\n    margin-top: 16px;\n  }\n`;\n","import \"@material/mwc-button/mwc-button\";\nimport \"@material/mwc-icon-button/mwc-icon-button\";\nimport { mdiDelete } from \"@mdi/js\";\nimport \"@polymer/paper-input/paper-input\";\nimport type { PaperInputElement } from \"@polymer/paper-input/paper-input\";\nimport \"@polymer/paper-item/paper-item\";\nimport \"@polymer/paper-item/paper-item-body\";\nimport \"@polymer/paper-spinner/paper-spinner\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  query,\n  TemplateResult,\n} from \"lit-element\";\nimport memoizeOne from \"memoize-one\";\nimport \"../../../../src/components/ha-dialog\";\nimport \"../../../../src/components/ha-svg-icon\";\nimport {\n  fetchHassioAddonsInfo,\n  HassioAddonRepository,\n} from \"../../../../src/data/hassio/addon\";\nimport { setSupervisorOption } from \"../../../../src/data/hassio/supervisor\";\nimport { haStyle, haStyleDialog } from \"../../../../src/resources/styles\";\nimport type { HomeAssistant } from \"../../../../src/types\";\nimport { HassioRepositoryDialogParams } from \"./show-dialog-repositories\";\n\n@customElement(\"dialog-hassio-repositories\")\nclass HassioRepositoriesDialog extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) private _repos: HassioAddonRepository[] = [];\n\n  @property({ attribute: false })\n  private _dialogParams?: HassioRepositoryDialogParams;\n\n  @query(\"#repository_input\") private _optionInput?: PaperInputElement;\n\n  @property() private _opened = false;\n\n  @property() private _prosessing = false;\n\n  @property() private _error?: string;\n\n  public async showDialog(_dialogParams: any): Promise<void> {\n    this._dialogParams = _dialogParams;\n    this._repos = _dialogParams.repos;\n    this._opened = true;\n    await this.updateComplete;\n  }\n\n  public closeDialog(): void {\n    this._opened = false;\n    this._error = \"\";\n  }\n\n  private _filteredRepositories = memoizeOne((repos: HassioAddonRepository[]) =>\n    repos\n      .filter((repo) => repo.slug !== \"core\" && repo.slug !== \"local\")\n      .sort((a, b) => (a.name < b.name ? -1 : 1))\n  );\n\n  protected render(): TemplateResult {\n    const repositories = this._filteredRepositories(this._repos);\n    return html`\n      <ha-dialog\n        .open=${this._opened}\n        @closing=${this.closeDialog}\n        scrimClickAction\n        escapeKeyAction\n        heading=\"Manage add-on repositories\"\n      >\n        ${this._error ? html`<div class=\"error\">${this._error}</div>` : \"\"}\n        <div class=\"form\">\n          ${repositories.length\n            ? repositories.map((repo) => {\n                return html`\n                  <paper-item class=\"option\">\n                    <paper-item-body three-line>\n                      <div>${repo.name}</div>\n                      <div secondary>${repo.maintainer}</div>\n                      <div secondary>${repo.url}</div>\n                    </paper-item-body>\n                    <mwc-icon-button\n                      .slug=${repo.slug}\n                      title=\"Remove\"\n                      @click=${this._removeRepository}\n                    >\n                      <ha-svg-icon path=${mdiDelete}></ha-svg-icon>\n                    </mwc-icon-button>\n                  </paper-item>\n                `;\n              })\n            : html`\n                <paper-item>\n                  No repositories\n                </paper-item>\n              `}\n          <div class=\"layout horizontal bottom\">\n            <paper-input\n              class=\"flex-auto\"\n              id=\"repository_input\"\n              label=\"Add repository\"\n              @keydown=${this._handleKeyAdd}\n            ></paper-input>\n            <mwc-button @click=${this._addRepository}>\n              ${this._prosessing\n                ? html`<paper-spinner active></paper-spinner>`\n                : \"Add\"}\n            </mwc-button>\n          </div>\n        </div>\n        <mwc-button slot=\"primaryAction\" @click=\"${this.closeDialog}\">\n          Close\n        </mwc-button>\n      </ha-dialog>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      haStyleDialog,\n      css`\n        ha-dialog.button-left {\n          --justify-action-buttons: flex-start;\n        }\n        paper-icon-item {\n          cursor: pointer;\n        }\n        .form {\n          color: var(--primary-text-color);\n        }\n        .option {\n          border: 1px solid var(--divider-color);\n          border-radius: 4px;\n          margin-top: 4px;\n        }\n        mwc-button {\n          margin-left: 8px;\n        }\n        ha-paper-dropdown-menu {\n          display: block;\n        }\n      `,\n    ];\n  }\n\n  public focus() {\n    this.updateComplete.then(() =>\n      (this.shadowRoot?.querySelector(\n        \"[dialogInitialFocus]\"\n      ) as HTMLElement)?.focus()\n    );\n  }\n\n  private _handleKeyAdd(ev: KeyboardEvent) {\n    ev.stopPropagation();\n    if (ev.keyCode !== 13) {\n      return;\n    }\n    this._addRepository();\n  }\n\n  private async _addRepository() {\n    const input = this._optionInput;\n    if (!input || !input.value) {\n      return;\n    }\n    this._prosessing = true;\n    const repositories = this._filteredRepositories(this._repos);\n    const newRepositories = repositories.map((repo) => {\n      return repo.source;\n    });\n    newRepositories.push(input.value);\n\n    try {\n      await setSupervisorOption(this.hass, {\n        addons_repositories: newRepositories,\n      });\n\n      const addonsInfo = await fetchHassioAddonsInfo(this.hass);\n      this._repos = addonsInfo.repositories;\n\n      await this._dialogParams!.loadData();\n\n      input.value = \"\";\n    } catch (err) {\n      this._error = err.message;\n    }\n    this._prosessing = false;\n  }\n\n  private async _removeRepository(ev: Event) {\n    const slug = (ev.target as any).slug;\n    const repositories = this._filteredRepositories(this._repos);\n    const repository = repositories.find((repo) => {\n      return repo.slug === slug;\n    });\n    if (!repository) {\n      return;\n    }\n    const newRepositories = repositories\n      .map((repo) => {\n        return repo.source;\n      })\n      .filter((repo) => {\n        return repo !== repository.source;\n      });\n\n    try {\n      await setSupervisorOption(this.hass, {\n        addons_repositories: newRepositories,\n      });\n\n      const addonsInfo = await fetchHassioAddonsInfo(this.hass);\n      this._repos = addonsInfo.repositories;\n\n      await this._dialogParams!.loadData();\n    } catch (err) {\n      this._error = err.message;\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"dialog-hassio-repositories\": HassioRepositoriesDialog;\n  }\n}\n","import { HomeAssistant } from \"../../types\";\nimport { hassioApiResultExtractor, HassioResponse } from \"./common\";\n\nexport interface HassioAddonInfo {\n  name: string;\n  slug: string;\n  description: string;\n  repository: \"core\" | \"local\" | string;\n  version: string;\n  state: \"none\" | \"started\" | \"stopped\";\n  installed: string | undefined;\n  detached: boolean;\n  available: boolean;\n  build: boolean;\n  advanced: boolean;\n  url: string | null;\n  icon: boolean;\n  logo: boolean;\n}\n\nexport interface HassioAddonDetails extends HassioAddonInfo {\n  name: string;\n  slug: string;\n  description: string;\n  long_description: null | string;\n  auto_update: boolean;\n  url: null | string;\n  detached: boolean;\n  documentation: boolean;\n  available: boolean;\n  arch: \"armhf\" | \"aarch64\" | \"i386\" | \"amd64\";\n  machine: any;\n  homeassistant: string;\n  version_latest: string;\n  boot: \"auto\" | \"manual\";\n  build: boolean;\n  options: object;\n  network: null | object;\n  network_description: null | object;\n  host_network: boolean;\n  host_pid: boolean;\n  host_ipc: boolean;\n  host_dbus: boolean;\n  privileged: any;\n  apparmor: \"disable\" | \"default\" | \"profile\";\n  devices: string[];\n  auto_uart: boolean;\n  icon: boolean;\n  logo: boolean;\n  stage: \"stable\" | \"experimental\" | \"deprecated\";\n  changelog: boolean;\n  hassio_api: boolean;\n  hassio_role: \"default\" | \"homeassistant\" | \"manager\" | \"admin\";\n  homeassistant_api: boolean;\n  auth_api: boolean;\n  full_access: boolean;\n  protected: boolean;\n  rating: \"1-6\";\n  stdin: boolean;\n  webui: null | string;\n  gpio: boolean;\n  kernel_modules: boolean;\n  devicetree: boolean;\n  docker_api: boolean;\n  audio: boolean;\n  audio_input: null | string;\n  audio_output: null | string;\n  services_role: string[];\n  discovery: string[];\n  ip_address: string;\n  ingress: boolean;\n  ingress_panel: boolean;\n  ingress_entry: null | string;\n  ingress_url: null | string;\n}\n\nexport interface HassioAddonsInfo {\n  addons: HassioAddonInfo[];\n  repositories: HassioAddonRepository[];\n}\n\nexport interface HassioAddonSetSecurityParams {\n  protected?: boolean;\n}\n\nexport interface HassioAddonRepository {\n  slug: string;\n  name: string;\n  source: string;\n  url: string;\n  maintainer: string;\n}\n\nexport interface HassioAddonSetOptionParams {\n  audio_input?: string | null;\n  audio_output?: string | null;\n  options?: object | null;\n  boot?: \"auto\" | \"manual\";\n  auto_update?: boolean;\n  ingress_panel?: boolean;\n  network?: object | null;\n}\n\nexport const reloadHassioAddons = async (hass: HomeAssistant) => {\n  await hass.callApi<HassioResponse<void>>(\"POST\", `hassio/addons/reload`);\n};\n\nexport const fetchHassioAddonsInfo = async (hass: HomeAssistant) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<HassioAddonsInfo>>(\"GET\", `hassio/addons`)\n  );\n};\n\nexport const fetchHassioAddonInfo = async (\n  hass: HomeAssistant,\n  slug: string\n) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<HassioAddonDetails>>(\n      \"GET\",\n      `hassio/addons/${slug}/info`\n    )\n  );\n};\n\nexport const fetchHassioAddonChangelog = async (\n  hass: HomeAssistant,\n  slug: string\n) => {\n  return hass.callApi<string>(\"GET\", `hassio/addons/${slug}/changelog`);\n};\n\nexport const fetchHassioAddonLogs = async (\n  hass: HomeAssistant,\n  slug: string\n) => {\n  return hass.callApi<string>(\"GET\", `hassio/addons/${slug}/logs`);\n};\n\nexport const fetchHassioAddonDocumentation = async (\n  hass: HomeAssistant,\n  slug: string\n) => {\n  return hass.callApi<string>(\"GET\", `hassio/addons/${slug}/documentation`);\n};\n\nexport const setHassioAddonOption = async (\n  hass: HomeAssistant,\n  slug: string,\n  data: HassioAddonSetOptionParams\n) => {\n  await hass.callApi<HassioResponse<void>>(\n    \"POST\",\n    `hassio/addons/${slug}/options`,\n    data\n  );\n};\n\nexport const setHassioAddonSecurity = async (\n  hass: HomeAssistant,\n  slug: string,\n  data: HassioAddonSetSecurityParams\n) => {\n  await hass.callApi<HassioResponse<void>>(\n    \"POST\",\n    `hassio/addons/${slug}/security`,\n    data\n  );\n};\n\nexport const installHassioAddon = async (hass: HomeAssistant, slug: string) => {\n  return hass.callApi<HassioResponse<void>>(\n    \"POST\",\n    `hassio/addons/${slug}/install`\n  );\n};\n\nexport const restartHassioAddon = async (hass: HomeAssistant, slug: string) => {\n  return hass.callApi<HassioResponse<void>>(\n    \"POST\",\n    `hassio/addons/${slug}/restart`\n  );\n};\n\nexport const uninstallHassioAddon = async (\n  hass: HomeAssistant,\n  slug: string\n) => {\n  await hass.callApi<HassioResponse<void>>(\n    \"POST\",\n    `hassio/addons/${slug}/uninstall`\n  );\n};\n","import {\n  css,\n  CSSResult,\n  customElement,\n  LitElement,\n  property,\n  svg,\n  SVGTemplateResult,\n} from \"lit-element\";\n\n@customElement(\"ha-svg-icon\")\nexport class HaSvgIcon extends LitElement {\n  @property() public path?: string;\n\n  protected render(): SVGTemplateResult {\n    return svg`\n    <svg \n      viewBox=\"0 0 24 24\" \n      preserveAspectRatio=\"xMidYMid meet\"\n      focusable=\"false\">\n      <g>\n      ${this.path ? svg`<path d=${this.path}></path>` : \"\"}\n      </g>\n    </svg>`;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        display: var(--ha-icon-display, inline-flex);\n        align-items: center;\n        justify-content: center;\n        position: relative;\n        vertical-align: middle;\n        fill: currentcolor;\n        width: var(--mdc-icon-size, 24px);\n        height: var(--mdc-icon-size, 24px);\n      }\n      svg {\n        width: 100%;\n        height: 100%;\n        pointer-events: none;\n        display: block;\n      }\n    `;\n  }\n}\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-svg-icon\": HaSvgIcon;\n  }\n}\n","import {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\n\n@customElement(\"ha-card\")\nclass HaCard extends LitElement {\n  @property() public header?: string;\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        background: var(\n          --ha-card-background,\n          var(--paper-card-background-color, white)\n        );\n        border-radius: var(--ha-card-border-radius, 2px);\n        box-shadow: var(\n          --ha-card-box-shadow,\n          0 2px 2px 0 rgba(0, 0, 0, 0.14),\n          0 1px 5px 0 rgba(0, 0, 0, 0.12),\n          0 3px 1px -2px rgba(0, 0, 0, 0.2)\n        );\n        color: var(--primary-text-color);\n        display: block;\n        transition: all 0.3s ease-out;\n        position: relative;\n      }\n\n      .card-header,\n      :host ::slotted(.card-header) {\n        color: var(--ha-card-header-color, --primary-text-color);\n        font-family: var(--ha-card-header-font-family, inherit);\n        font-size: var(--ha-card-header-font-size, 24px);\n        letter-spacing: -0.012em;\n        line-height: 32px;\n        padding: 24px 16px 16px;\n        display: block;\n      }\n\n      :host ::slotted(.card-content:not(:first-child)),\n      slot:not(:first-child)::slotted(.card-content) {\n        padding-top: 0px;\n        margin-top: -8px;\n      }\n\n      :host ::slotted(.card-content) {\n        padding: 16px;\n      }\n\n      :host ::slotted(.card-actions) {\n        border-top: 1px solid #e8e8e8;\n        padding: 5px 16px;\n      }\n    `;\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      ${this.header\n        ? html` <div class=\"card-header\">${this.header}</div> `\n        : html``}\n      <slot></slot>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-card\": HaCard;\n  }\n}\n","import { derivedStyles } from \"../../resources/styles\";\nimport { HomeAssistant, Theme } from \"../../types\";\n\ninterface ProcessedTheme {\n  keys: { [key: string]: \"\" };\n  styles: { [key: string]: string };\n}\n\nconst hexToRgb = (hex: string): string | null => {\n  const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  const checkHex = hex.replace(shorthandRegex, (_m, r, g, b) => {\n    return r + r + g + g + b + b;\n  });\n\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(checkHex);\n  return result\n    ? `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(\n        result[3],\n        16\n      )}`\n    : null;\n};\n\nlet PROCESSED_THEMES: { [key: string]: ProcessedTheme } = {};\n\n/**\n * Apply a theme to an element by setting the CSS variables on it.\n *\n * element: Element to apply theme on.\n * themes: HASS Theme information\n * selectedTheme: selected theme.\n */\nexport const applyThemesOnElement = (\n  element,\n  themes: HomeAssistant[\"themes\"],\n  selectedTheme?: string\n) => {\n  const newTheme = selectedTheme\n    ? PROCESSED_THEMES[selectedTheme] || processTheme(selectedTheme, themes)\n    : undefined;\n\n  if (!element._themes && !newTheme) {\n    // No styles to reset, and no styles to set\n    return;\n  }\n\n  // Add previous set keys to reset them, and new theme\n  const styles = { ...element._themes, ...newTheme?.styles };\n  element._themes = newTheme?.keys;\n\n  // Set and/or reset styles\n  if (element.updateStyles) {\n    element.updateStyles(styles);\n  } else if (window.ShadyCSS) {\n    // Implement updateStyles() method of Polymer elements\n    window.ShadyCSS.styleSubtree(/** @type {!HTMLElement} */ element, styles);\n  }\n};\n\nconst processTheme = (\n  themeName: string,\n  themes: HomeAssistant[\"themes\"]\n): ProcessedTheme | undefined => {\n  if (!themes.themes[themeName]) {\n    return undefined;\n  }\n  const theme: Theme = {\n    ...derivedStyles,\n    ...themes.themes[themeName],\n  };\n  const styles = {};\n  const keys = {};\n  for (const key of Object.keys(theme)) {\n    const prefixedKey = `--${key}`;\n    const value = theme[key];\n    styles[prefixedKey] = value;\n    keys[prefixedKey] = \"\";\n\n    // Try to create a rgb value for this key if it is a hex color\n    if (!value.startsWith(\"#\")) {\n      // Not a hex color\n      continue;\n    }\n    const rgbKey = `rgb-${key}`;\n    if (theme[rgbKey] !== undefined) {\n      // Theme has it's own rgb value\n      continue;\n    }\n    const rgbValue = hexToRgb(value);\n    if (rgbValue !== null) {\n      const prefixedRgbKey = `--${rgbKey}`;\n      styles[prefixedRgbKey] = rgbValue;\n      keys[prefixedRgbKey] = \"\";\n    }\n  }\n  PROCESSED_THEMES[themeName] = { styles, keys };\n  return { styles, keys };\n};\n\nexport const invalidateThemeCache = () => {\n  PROCESSED_THEMES = {};\n};\n","import { HomeAssistant } from \"../../types\";\nimport { hassioApiResultExtractor, HassioResponse } from \"./common\";\n\nexport type HassioHostInfo = any;\n\nexport interface HassioHassOSInfo {\n  version: string;\n  version_cli: string;\n  version_latest: string;\n  version_cli_latest: string;\n  board: \"ova\" | \"rpi\";\n}\n\nexport const fetchHassioHostInfo = async (hass: HomeAssistant) => {\n  const response = await hass.callApi<HassioResponse<HassioHostInfo>>(\n    \"GET\",\n    \"hassio/host/info\"\n  );\n  return hassioApiResultExtractor(response);\n};\n\nexport const fetchHassioHassOsInfo = async (hass: HomeAssistant) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<HassioHassOSInfo>>(\n      \"GET\",\n      \"hassio/os/info\"\n    )\n  );\n};\n\nexport const rebootHost = async (hass: HomeAssistant) => {\n  return hass.callApi<HassioResponse<void>>(\"POST\", \"hassio/host/reboot\");\n};\n\nexport const shutdownHost = async (hass: HomeAssistant) => {\n  return hass.callApi<HassioResponse<void>>(\"POST\", \"hassio/host/shutdown\");\n};\n\nexport const updateOS = async (hass: HomeAssistant) => {\n  return hass.callApi<HassioResponse<void>>(\"POST\", \"hassio/os/update\");\n};\n\nexport const changeHostOptions = async (hass: HomeAssistant, options: any) => {\n  return hass.callApi<HassioResponse<void>>(\n    \"POST\",\n    \"hassio/host/options\",\n    options\n  );\n};\n","import { HASSDomEvent, ValidHassDomEvent } from \"../common/dom/fire_event\";\nimport { ProvideHassElement } from \"../mixins/provide-hass-lit-mixin\";\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    \"show-dialog\": ShowDialogParams<unknown>;\n    \"close-dialog\": undefined;\n  }\n  // for add event listener\n  interface HTMLElementEventMap {\n    \"show-dialog\": HASSDomEvent<ShowDialogParams<unknown>>;\n  }\n}\n\ninterface HassDialog<T = HASSDomEvents[ValidHassDomEvent]> extends HTMLElement {\n  showDialog(params: T);\n}\n\ninterface ShowDialogParams<T> {\n  dialogTag: keyof HTMLElementTagNameMap;\n  dialogImport: () => Promise<unknown>;\n  dialogParams: T;\n}\n\nconst LOADED = {};\n\nexport const showDialog = async (\n  element: HTMLElement & ProvideHassElement,\n  root: ShadowRoot | HTMLElement,\n  dialogImport: () => Promise<unknown>,\n  dialogTag: string,\n  dialogParams: unknown\n) => {\n  if (!(dialogTag in LOADED)) {\n    LOADED[dialogTag] = dialogImport().then(() => {\n      const dialogEl = document.createElement(dialogTag) as HassDialog;\n      element.provideHass(dialogEl);\n      root.appendChild(dialogEl);\n      return dialogEl;\n    });\n  }\n  const dialogElement = await LOADED[dialogTag];\n  dialogElement.showDialog(dialogParams);\n};\n\nexport const makeDialogManager = (\n  element: HTMLElement & ProvideHassElement,\n  root: ShadowRoot | HTMLElement\n) => {\n  element.addEventListener(\n    \"show-dialog\",\n    async (e: HASSDomEvent<ShowDialogParams<unknown>>) => {\n      const { dialogTag, dialogImport, dialogParams } = e.detail;\n      showDialog(element, root, dialogImport, dialogTag, dialogParams);\n    }\n  );\n};\n","import \"@polymer/paper-styles/paper-styles\";\nimport \"@polymer/polymer/lib/elements/custom-style\";\nimport { derivedStyles, haStyle, haStyleDialog } from \"./styles\";\n\nconst documentContainer = document.createElement(\"template\");\ndocumentContainer.setAttribute(\"style\", \"display: none;\");\n\ndocumentContainer.innerHTML = `<custom-style>\n  <style>\n    /*\n      Home Assistant default styles.\n\n      In Polymer 2.0, default styles should to be set on the html selector.\n      (Setting all default styles only on body breaks shadyCSS polyfill.)\n      See: https://github.com/home-assistant/home-assistant-polymer/pull/901\n    */\n    html {\n      font-size: 14px;\n      height: 100vh;\n\n      /* text */\n      --primary-text-color: #212121;\n      --secondary-text-color: #727272;\n      --text-primary-color: #ffffff;\n      --disabled-text-color: #bdbdbd;\n\n      /* main interface colors */\n      --primary-color: #03a9f4;\n      --dark-primary-color: #0288d1;\n      --light-primary-color: #b3e5fC;\n      --accent-color: #ff9800;\n      --divider-color: rgba(0, 0, 0, .12);\n\n      --scrollbar-thumb-color: rgb(194, 194, 194);\n\n      --error-color: #db4437;\n\n      /* states and badges */\n      --state-icon-color: #44739e;\n      --state-icon-active-color: #FDD835;\n\n      /* background and sidebar */\n      --card-background-color: #ffffff;\n      --primary-background-color: #fafafa;\n      --secondary-background-color: #e5e5e5; /* behind the cards on state */\n\n      /* for label-badge */\n      --label-badge-red: #DF4C1E;\n      --label-badge-blue: #039be5;\n      --label-badge-green: #0DA035;\n      --label-badge-yellow: #f4b400;\n\n      /*\n        Paper-styles color.html dependency is stripped on build.\n        When a default paper-style color is used, it needs to be copied\n        from paper-styles/color.html to here.\n      */\n\n      --paper-grey-50: #fafafa; /* default for: --mwc-switch-unchecked-button-color */\n      --paper-grey-200: #eeeeee;  /* for ha-date-picker-style */\n      --paper-grey-500: #9e9e9e;  /* --label-badge-grey */\n\n      /* for paper-spinner */\n      --google-red-500: #db4437;\n      --google-blue-500: #4285f4;\n      --google-green-500: #0f9d58;\n      --google-yellow-500: #f4b400;\n\n      /* for paper-slider */\n      --paper-green-400: #66bb6a;\n      --paper-blue-400: #42a5f5;\n      --paper-orange-400: #ffa726;\n\n      /* opacity for dark text on a light background */\n      --dark-divider-opacity: 0.12;\n      --dark-disabled-opacity: 0.38; /* or hint text or icon */\n      --dark-secondary-opacity: 0.54;\n      --dark-primary-opacity: 0.87;\n\n      /* opacity for light text on a dark background */\n      --light-divider-opacity: 0.12;\n      --light-disabled-opacity: 0.3; /* or hint text or icon */\n      --light-secondary-opacity: 0.7;\n      --light-primary-opacity: 1.0;\n\n      /* set our slider style */\n      --ha-paper-slider-pin-font-size: 15px;\n\n      /* rgb */\n      --rgb-primary-color: 3, 169, 244;\n      --rgb-accent-color: 255, 152, 0;\n      --rgb-primary-text-color: 33, 33, 33;\n      --rgb-secondary-text-color: 114, 114, 114;\n      --rgb-text-primary-color: 255, 255, 255;\n\n      ${Object.entries(derivedStyles)\n        .map(([key, value]) => `--${key}: ${value};`)\n        .join(\"\")}\n    }\n  </style>\n\n  <style shady-unscoped=\"\">\n    /*\n      prevent clipping of positioned elements in a small scrollable\n      force smooth scrolling if can scroll\n      use non-shady selectors so this only targets iOS 9\n      conditional mixin set in ha-style-dialog does not work with shadyCSS\n    */\n    paper-dialog-scrollable:not(.can-scroll) &gt; .scrollable {\n      -webkit-overflow-scrolling: auto !important;\n    }\n\n    paper-dialog-scrollable.can-scroll &gt; .scrollable {\n      -webkit-overflow-scrolling: touch !important;\n    }\n  </style>\n</custom-style><dom-module id=\"ha-style\">\n  <template>\n    <style>\n    ${haStyle.cssText}\n    </style>\n  </template>\n</dom-module><dom-module id=\"ha-style-dialog\">\n  <template>\n    <style>\n      ${haStyleDialog.cssText}\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild(documentContainer.content);\n","import \"@polymer/paper-input/paper-input\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  LitElement,\n  property,\n} from \"lit-element\";\nimport { html, TemplateResult } from \"lit-html\";\nimport { classMap } from \"lit-html/directives/class-map\";\nimport \"../../components/ha-svg-icon\";\nimport { fireEvent } from \"../dom/fire_event\";\nimport { mdiMagnify, mdiClose } from \"@mdi/js\";\nimport \"@material/mwc-icon-button/mwc-icon-button\";\n\n@customElement(\"search-input\")\nclass SearchInput extends LitElement {\n  @property() public filter?: string;\n\n  @property({ type: Boolean, attribute: \"no-label-float\" })\n  public noLabelFloat? = false;\n\n  @property({ type: Boolean, attribute: \"no-underline\" })\n  public noUnderline = false;\n\n  @property({ type: Boolean })\n  public autofocus = false;\n\n  public focus() {\n    this.shadowRoot!.querySelector(\"paper-input\")!.focus();\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <style>\n        .no-underline:not(.focused) {\n          --paper-input-container-underline: {\n            display: none;\n            height: 0;\n          }\n        }\n      </style>\n      <paper-input\n        class=${classMap({ \"no-underline\": this.noUnderline })}\n        .autofocus=${this.autofocus}\n        label=\"Search\"\n        .value=${this.filter}\n        @value-changed=${this._filterInputChanged}\n        .noLabelFloat=${this.noLabelFloat}\n      >\n        <ha-svg-icon\n          path=${mdiMagnify}\n          slot=\"prefix\"\n          class=\"prefix\"\n        ></ha-svg-icon>\n        ${this.filter &&\n        html`\n          <mwc-icon-button\n            slot=\"suffix\"\n            class=\"suffix\"\n            @click=${this._clearSearch}\n            alt=\"Clear\"\n            title=\"Clear\"\n          >\n            <ha-svg-icon path=${mdiClose}></ha-svg-icon>\n          </mwc-icon-button>\n        `}\n      </paper-input>\n    `;\n  }\n\n  private async _filterChanged(value: string) {\n    fireEvent(this, \"value-changed\", { value: String(value) });\n  }\n\n  private async _filterInputChanged(e) {\n    this._filterChanged(e.target.value);\n  }\n\n  private async _clearSearch() {\n    this._filterChanged(\"\");\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      ha-svg-icon,\n      mwc-icon-button {\n        color: var(--primary-text-color);\n      }\n      mwc-icon-button {\n        --mdc-icon-button-size: 24px;\n      }\n      ha-svg-icon.prefix {\n        margin: 8px;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"search-input\": SearchInput;\n  }\n}\n","import {\n  customElement,\n  html,\n  TemplateResult,\n  LitElement,\n  CSSResult,\n  css,\n  query,\n  property,\n} from \"lit-element\";\nimport \"@material/mwc-button\";\nimport \"@material/mwc-menu\";\nimport \"@material/mwc-list/mwc-list-item\";\nimport type { Menu, Corner } from \"@material/mwc-menu\";\n\nimport \"./ha-icon-button\";\n\n@customElement(\"ha-button-menu\")\nexport class HaButtonMenu extends LitElement {\n  @property() public corner: Corner = \"TOP_START\";\n\n  @query(\"mwc-menu\") private _menu?: Menu;\n\n  protected render(): TemplateResult {\n    return html`\n      <div @click=${this._handleClick}>\n        <slot name=\"trigger\"></slot>\n      </div>\n      <mwc-menu .corner=${this.corner}>\n        <slot></slot>\n      </mwc-menu>\n    `;\n  }\n\n  private _handleClick(): void {\n    this._menu!.anchor = this;\n    this._menu!.show();\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        display: block;\n        position: relative;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-button-menu\": HaButtonMenu;\n  }\n}\n","import { mdiArrowUpBoldCircle, mdiPuzzle } from \"@mdi/js\";\nimport {\n  css,\n  CSSResultArray,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport memoizeOne from \"memoize-one\";\nimport { atLeastVersion } from \"../../../src/common/config/version\";\nimport { navigate } from \"../../../src/common/navigate\";\nimport \"../../../src/components/ha-card\";\nimport {\n  HassioAddonInfo,\n  HassioAddonRepository,\n} from \"../../../src/data/hassio/addon\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport \"../components/hassio-card-content\";\nimport { filterAndSort } from \"../components/hassio-filter-addons\";\nimport { hassioStyle } from \"../resources/hassio-style\";\n\nclass HassioAddonRepositoryEl extends LitElement {\n  @property() public hass!: HomeAssistant;\n\n  @property() public repo!: HassioAddonRepository;\n\n  @property() public addons!: HassioAddonInfo[];\n\n  @property() public filter!: string;\n\n  private _getAddons = memoizeOne(\n    (addons: HassioAddonInfo[], filter?: string) => {\n      if (filter) {\n        return filterAndSort(addons, filter);\n      }\n      return addons.sort((a, b) =>\n        a.name.toUpperCase() < b.name.toUpperCase() ? -1 : 1\n      );\n    }\n  );\n\n  protected render(): TemplateResult {\n    const repo = this.repo;\n    let _addons = this.addons;\n    if (!this.hass.userData?.showAdvanced) {\n      _addons = _addons.filter((addon) => {\n        return !addon.advanced;\n      });\n    }\n    const addons = this._getAddons(_addons, this.filter);\n\n    if (this.filter && addons.length < 1) {\n      return html`\n        <div class=\"content\">\n          <p class=\"description\">\n            No results found in \"${repo.name}.\"\n          </p>\n        </div>\n      `;\n    }\n    return html`\n      <div class=\"content\">\n        <h1>\n          ${repo.name}\n        </h1>\n        <div class=\"card-group\">\n          ${addons.map(\n            (addon) => html`\n              <ha-card\n                .addon=${addon}\n                class=${addon.available ? \"\" : \"not_available\"}\n                @click=${this._addonTapped}\n              >\n                <div class=\"card-content\">\n                  <hassio-card-content\n                    .hass=${this.hass}\n                    .title=${addon.name}\n                    .description=${addon.description}\n                    .available=${addon.available}\n                    .icon=${addon.installed && addon.installed !== addon.version\n                      ? mdiArrowUpBoldCircle\n                      : mdiPuzzle}\n                    .iconTitle=${addon.installed\n                      ? addon.installed !== addon.version\n                        ? \"New version available\"\n                        : \"Add-on is installed\"\n                      : addon.available\n                      ? \"Add-on is not installed\"\n                      : \"Add-on is not available on your system\"}\n                    .iconClass=${addon.installed\n                      ? addon.installed !== addon.version\n                        ? \"update\"\n                        : \"installed\"\n                      : !addon.available\n                      ? \"not_available\"\n                      : \"\"}\n                    .iconImage=${atLeastVersion(\n                      this.hass.config.version,\n                      0,\n                      105\n                    ) && addon.icon\n                      ? `/api/hassio/addons/${addon.slug}/icon`\n                      : undefined}\n                    .showTopbar=${addon.installed || !addon.available}\n                    .topbarClass=${addon.installed\n                      ? addon.installed !== addon.version\n                        ? \"update\"\n                        : \"installed\"\n                      : !addon.available\n                      ? \"unavailable\"\n                      : \"\"}\n                  ></hassio-card-content>\n                </div>\n              </ha-card>\n            `\n          )}\n        </div>\n      </div>\n    `;\n  }\n\n  private _addonTapped(ev) {\n    navigate(this, `/hassio/addon/${ev.currentTarget.addon.slug}`);\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      hassioStyle,\n      css`\n        ha-card {\n          cursor: pointer;\n        }\n        .not_available {\n          opacity: 0.6;\n        }\n        a.repo {\n          color: var(--primary-text-color);\n        }\n      `,\n    ];\n  }\n}\n\ncustomElements.define(\"hassio-addon-repository\", HassioAddonRepositoryEl);\n","import * as Fuse from \"fuse.js\";\nimport { HassioAddonInfo } from \"../../../src/data/hassio/addon\";\n\nexport function filterAndSort(addons: HassioAddonInfo[], filter: string) {\n  const options: Fuse.FuseOptions<HassioAddonInfo> = {\n    keys: [\"name\", \"description\", \"slug\"],\n    caseSensitive: false,\n    minMatchCharLength: 2,\n    threshold: 0.2,\n  };\n  const fuse = new Fuse(addons, options);\n  return fuse.search(filter);\n}\n","import \"@material/mwc-icon-button/mwc-icon-button\";\nimport \"@material/mwc-list/mwc-list-item\";\nimport { mdiDotsVertical } from \"@mdi/js\";\nimport {\n  css,\n  CSSResult,\n  LitElement,\n  property,\n  PropertyValues,\n} from \"lit-element\";\nimport { html, TemplateResult } from \"lit-html\";\nimport \"../../../src/common/search/search-input\";\nimport \"../../../src/components/ha-button-menu\";\nimport \"../../../src/components/ha-svg-icon\";\nimport {\n  fetchHassioAddonsInfo,\n  HassioAddonInfo,\n  HassioAddonRepository,\n  reloadHassioAddons,\n} from \"../../../src/data/hassio/addon\";\nimport \"../../../src/layouts/hass-tabs-subpage\";\nimport \"../../../src/layouts/loading-screen\";\nimport { HomeAssistant, Route } from \"../../../src/types\";\nimport { showRepositoriesDialog } from \"../dialogs/repositories/show-dialog-repositories\";\nimport { supervisorTabs } from \"../hassio-panel\";\nimport \"./hassio-addon-repository\";\n\nconst sortRepos = (a: HassioAddonRepository, b: HassioAddonRepository) => {\n  if (a.slug === \"local\") {\n    return -1;\n  }\n  if (b.slug === \"local\") {\n    return 1;\n  }\n  if (a.slug === \"core\") {\n    return -1;\n  }\n  if (b.slug === \"core\") {\n    return 1;\n  }\n  return a.name.toUpperCase() < b.name.toUpperCase() ? -1 : 1;\n};\n\nclass HassioAddonStore extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ type: Boolean }) public narrow!: boolean;\n\n  @property({ attribute: false }) public route!: Route;\n\n  @property({ attribute: false }) private _addons?: HassioAddonInfo[];\n\n  @property({ attribute: false }) private _repos?: HassioAddonRepository[];\n\n  @property() private _filter?: string;\n\n  public async refreshData() {\n    this._repos = undefined;\n    this._addons = undefined;\n    this._filter = undefined;\n    await reloadHassioAddons(this.hass);\n    await this._loadData();\n  }\n\n  protected render(): TemplateResult {\n    const repos: TemplateResult[] = [];\n\n    if (this._repos) {\n      for (const repo of this._repos) {\n        const addons = this._addons!.filter(\n          (addon) => addon.repository === repo.slug\n        );\n\n        if (addons.length === 0) {\n          continue;\n        }\n\n        repos.push(html`\n          <hassio-addon-repository\n            .hass=${this.hass}\n            .repo=${repo}\n            .addons=${addons}\n            .filter=${this._filter!}\n          ></hassio-addon-repository>\n        `);\n      }\n    }\n\n    return html`\n      <hass-tabs-subpage\n        .hass=${this.hass}\n        .narrow=${this.narrow}\n        .route=${this.route}\n        hassio\n        main-page\n        .tabs=${supervisorTabs}\n      >\n        <span slot=\"header\">Add-on store</span>\n        <ha-button-menu corner=\"BOTTOM_START\" slot=\"toolbar-icon\">\n          <mwc-icon-button slot=\"trigger\" alt=\"menu\">\n            <ha-svg-icon path=${mdiDotsVertical}></ha-svg-icon>\n          </mwc-icon-button>\n          <mwc-list-item @tap=${this._manageRepositories}>\n            Repositories\n          </mwc-list-item>\n          <mwc-list-item @tap=${this.refreshData}>\n            Reload\n          </mwc-list-item>\n        </ha-button-menu>\n        ${repos.length === 0\n          ? html`<loading-screen></loading-screen>`\n          : html`\n              <div class=\"search\">\n                <search-input\n                  no-label-float\n                  no-underline\n                  .filter=${this._filter}\n                  @value-changed=${this._filterChanged}\n                ></search-input>\n              </div>\n\n              ${repos}\n            `}\n        ${!this.hass.userData?.showAdvanced\n          ? html`\n              <div class=\"advanced\">\n                Missing add-ons? Enable advanced mode on\n                <a href=\"/profile\" target=\"_top\">\n                  your profile page\n                </a>\n                .\n              </div>\n            `\n          : \"\"}\n      </hass-tabs-subpage>\n    `;\n  }\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n    this.addEventListener(\"hass-api-called\", (ev) => this.apiCalled(ev));\n    this._loadData();\n  }\n\n  private apiCalled(ev) {\n    if (ev.detail.success) {\n      this._loadData();\n    }\n  }\n\n  private async _manageRepositories() {\n    showRepositoriesDialog(this, {\n      repos: this._repos!,\n      loadData: () => this._loadData(),\n    });\n  }\n\n  private async _loadData() {\n    try {\n      const addonsInfo = await fetchHassioAddonsInfo(this.hass);\n      this._repos = addonsInfo.repositories;\n      this._repos.sort(sortRepos);\n      this._addons = addonsInfo.addons;\n    } catch (err) {\n      alert(\"Failed to fetch add-on info\");\n    }\n  }\n\n  private async _filterChanged(e) {\n    this._filter = e.detail.value;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      hassio-addon-repository {\n        margin-top: 24px;\n      }\n      .search {\n        padding: 0 16px;\n        background: var(--sidebar-background-color);\n        border-bottom: 1px solid var(--divider-color);\n      }\n      .search search-input {\n        position: relative;\n        top: 2px;\n      }\n      .advanced {\n        padding: 12px;\n        display: flex;\n        flex-wrap: wrap;\n        color: var(--primary-text-color);\n      }\n      .advanced a {\n        margin-left: 0.5em;\n        color: var(--primary-color);\n      }\n    `;\n  }\n}\n\ncustomElements.define(\"hassio-addon-store\", HassioAddonStore);\n","import { fireEvent } from \"../../../../src/common/dom/fire_event\";\nimport { HassioAddonRepository } from \"../../../../src/data/hassio/addon\";\nimport \"./dialog-hassio-repositories\";\n\nexport interface HassioRepositoryDialogParams {\n  repos: HassioAddonRepository[];\n  loadData: () => Promise<void>;\n}\n\nexport const showRepositoriesDialog = (\n  element: HTMLElement,\n  dialogParams: HassioRepositoryDialogParams\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"dialog-hassio-repositories\",\n    dialogImport: () =>\n      import(\n        /* webpackChunkName: \"dialog-hassio-repositories\" */ \"./dialog-hassio-repositories\"\n      ),\n    dialogParams,\n  });\n};\n","import { mdiArrowUpBoldCircle, mdiPuzzle } from \"@mdi/js\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport { atLeastVersion } from \"../../../src/common/config/version\";\nimport { navigate } from \"../../../src/common/navigate\";\nimport \"../../../src/components/ha-card\";\nimport { HassioAddonInfo } from \"../../../src/data/hassio/addon\";\nimport { haStyle } from \"../../../src/resources/styles\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport \"../components/hassio-card-content\";\nimport { hassioStyle } from \"../resources/hassio-style\";\n\n@customElement(\"hassio-addons\")\nclass HassioAddons extends LitElement {\n  @property() public hass!: HomeAssistant;\n\n  @property() public addons?: HassioAddonInfo[];\n\n  protected render(): TemplateResult {\n    return html`\n      <div class=\"content\">\n        <h1>Add-ons</h1>\n        <div class=\"card-group\">\n          ${!this.addons\n            ? html`\n                <ha-card>\n                  <div class=\"card-content\">\n                    You don't have any add-ons installed yet. Head over to\n                    <a href=\"#\" @click=${this._openStore}>the add-on store</a>\n                    to get started!\n                  </div>\n                </ha-card>\n              `\n            : this.addons\n                .sort((a, b) => (a.name > b.name ? 1 : -1))\n                .map(\n                  (addon) => html`\n                    <ha-card .addon=${addon} @click=${this._addonTapped}>\n                      <div class=\"card-content\">\n                        <hassio-card-content\n                          .hass=${this.hass}\n                          .title=${addon.name}\n                          .description=${addon.description}\n                          available\n                          .showTopbar=${addon.installed !== addon.version}\n                          topbarClass=\"update\"\n                          .icon=${addon.installed !== addon.version\n                            ? mdiArrowUpBoldCircle\n                            : mdiPuzzle}\n                          .iconTitle=${addon.state !== \"started\"\n                            ? \"Add-on is stopped\"\n                            : addon.installed !== addon.version\n                            ? \"New version available\"\n                            : \"Add-on is running\"}\n                          .iconClass=${addon.installed &&\n                          addon.installed !== addon.version\n                            ? addon.state === \"started\"\n                              ? \"update\"\n                              : \"update stopped\"\n                            : addon.installed && addon.state === \"started\"\n                            ? \"running\"\n                            : \"stopped\"}\n                          .iconImage=${atLeastVersion(\n                            this.hass.config.version,\n                            0,\n                            105\n                          ) && addon.icon\n                            ? `/api/hassio/addons/${addon.slug}/icon`\n                            : undefined}\n                        ></hassio-card-content>\n                      </div>\n                    </ha-card>\n                  `\n                )}\n        </div>\n      </div>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        ha-card {\n          cursor: pointer;\n        }\n      `,\n    ];\n  }\n\n  private _addonTapped(ev: any): void {\n    navigate(this, `/hassio/addon/${ev.currentTarget.addon.slug}/info`);\n  }\n\n  private _openStore(): void {\n    navigate(this, \"/hassio/store\");\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-addons\": HassioAddons;\n  }\n}\n","import \"@material/mwc-button\";\nimport { mdiHomeAssistant } from \"@mdi/js\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport \"../../../src/components/buttons/ha-call-api-button\";\nimport \"../../../src/components/ha-card\";\nimport \"../../../src/components/ha-svg-icon\";\nimport { HassioHassOSInfo } from \"../../../src/data/hassio/host\";\nimport {\n  HassioHomeAssistantInfo,\n  HassioSupervisorInfo,\n} from \"../../../src/data/hassio/supervisor\";\nimport { haStyle } from \"../../../src/resources/styles\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport { hassioStyle } from \"../resources/hassio-style\";\n\n@customElement(\"hassio-update\")\nexport class HassioUpdate extends LitElement {\n  @property() public hass!: HomeAssistant;\n\n  @property() public hassInfo: HassioHomeAssistantInfo;\n\n  @property() public hassOsInfo?: HassioHassOSInfo;\n\n  @property() public supervisorInfo: HassioSupervisorInfo;\n\n  @property() private _error?: string;\n\n  protected render(): TemplateResult {\n    const updatesAvailable: number = [\n      this.hassInfo,\n      this.supervisorInfo,\n      this.hassOsInfo,\n    ].filter((value) => {\n      return (\n        !!value &&\n        (value.version_latest\n          ? value.version !== value.version_latest\n          : value.version_latest\n          ? value.version !== value.version_latest\n          : false)\n      );\n    }).length;\n\n    if (!updatesAvailable) {\n      return html``;\n    }\n\n    return html`\n      <div class=\"content\">\n        ${this._error\n          ? html` <div class=\"error\">Error: ${this._error}</div> `\n          : \"\"}\n        <h1>\n          ${updatesAvailable > 1\n            ? \"Updates Available 🎉\"\n            : \"Update Available 🎉\"}\n        </h1>\n        <div class=\"card-group\">\n          ${this._renderUpdateCard(\n            \"Home Assistant Core\",\n            this.hassInfo.version,\n            this.hassInfo.version_latest,\n            \"hassio/homeassistant/update\",\n            `https://${\n              this.hassInfo.version_latest.includes(\"b\") ? \"rc\" : \"www\"\n            }.home-assistant.io/latest-release-notes/`,\n            mdiHomeAssistant\n          )}\n          ${this._renderUpdateCard(\n            \"Supervisor\",\n            this.supervisorInfo.version,\n            this.supervisorInfo.version_latest,\n            \"hassio/supervisor/update\",\n            `https://github.com//home-assistant/hassio/releases/tag/${this.supervisorInfo.version_latest}`\n          )}\n          ${this.hassOsInfo\n            ? this._renderUpdateCard(\n                \"Operating System\",\n                this.hassOsInfo.version,\n                this.hassOsInfo.version_latest,\n                \"hassio/os/update\",\n                `https://github.com//home-assistant/hassos/releases/tag/${this.hassOsInfo.version_latest}`\n              )\n            : \"\"}\n        </div>\n      </div>\n    `;\n  }\n\n  private _renderUpdateCard(\n    name: string,\n    curVersion: string,\n    lastVersion: string,\n    apiPath: string,\n    releaseNotesUrl: string,\n    icon?: string\n  ): TemplateResult {\n    if (!lastVersion || lastVersion === curVersion) {\n      return html``;\n    }\n    return html`\n      <ha-card>\n        <div class=\"card-content\">\n          ${icon\n            ? html`\n                <div class=\"icon\">\n                  <ha-svg-icon .path=${icon}></ha-svg-icon>\n                </div>\n              `\n            : \"\"}\n          <div class=\"update-heading\">${name} ${lastVersion}</div>\n          <div class=\"warning\">\n            You are currently running version ${curVersion}\n          </div>\n        </div>\n        <div class=\"card-actions\">\n          <a href=\"${releaseNotesUrl}\" target=\"_blank\" rel=\"noreferrer\">\n            <mwc-button>Release notes</mwc-button>\n          </a>\n          <ha-call-api-button\n            .hass=${this.hass}\n            .path=${apiPath}\n            @hass-api-called=${this._apiCalled}\n          >\n            Update\n          </ha-call-api-button>\n        </div>\n      </ha-card>\n    `;\n  }\n\n  private _apiCalled(ev): void {\n    if (ev.detail.success) {\n      this._error = \"\";\n      return;\n    }\n\n    const response = ev.detail.response;\n\n    if (typeof response.body === \"object\") {\n      this._error = response.body.message || \"Unknown error\";\n    } else {\n      this._error = response.body;\n    }\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        .icon {\n          --mdc-icon-size: 48px;\n          float: right;\n          margin: 0 0 2px 10px;\n          color: var(--primary-text-color);\n        }\n        .update-heading {\n          font-size: var(--paper-font-subhead_-_font-size);\n          font-weight: 500;\n          margin-bottom: 0.5em;\n          color: var(--primary-text-color);\n        }\n        .warning {\n          color: var(--secondary-text-color);\n        }\n        .card-content {\n          height: calc(100% - 47px);\n          box-sizing: border-box;\n        }\n        .card-actions {\n          text-align: right;\n        }\n        .errors {\n          color: var(--google-red-500);\n          padding: 16px;\n        }\n        a {\n          text-decoration: none;\n        }\n      `,\n    ];\n  }\n}\n","import {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport { HassioHassOSInfo } from \"../../../src/data/hassio/host\";\nimport {\n  HassioHomeAssistantInfo,\n  HassioSupervisorInfo,\n} from \"../../../src/data/hassio/supervisor\";\nimport \"../../../src/layouts/hass-tabs-subpage\";\nimport { haStyle } from \"../../../src/resources/styles\";\nimport { HomeAssistant, Route } from \"../../../src/types\";\nimport { supervisorTabs } from \"../hassio-panel\";\nimport \"./hassio-addons\";\nimport \"./hassio-update\";\n\n@customElement(\"hassio-dashboard\")\nclass HassioDashboard extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ type: Boolean }) public narrow!: boolean;\n\n  @property({ attribute: false }) public route!: Route;\n\n  @property({ attribute: false }) public supervisorInfo!: HassioSupervisorInfo;\n\n  @property({ attribute: false }) public hassInfo!: HassioHomeAssistantInfo;\n\n  @property({ attribute: false }) public hassOsInfo!: HassioHassOSInfo;\n\n  protected render(): TemplateResult {\n    return html`\n      <hass-tabs-subpage\n        .hass=${this.hass}\n        .narrow=${this.narrow}\n        hassio\n        main-page\n        .route=${this.route}\n        .tabs=${supervisorTabs}\n      >\n        <span slot=\"header\">Dashboard</span>\n        <div class=\"content\">\n          <hassio-update\n            .hass=${this.hass}\n            .hassInfo=${this.hassInfo}\n            .supervisorInfo=${this.supervisorInfo}\n            .hassOsInfo=${this.hassOsInfo}\n          ></hassio-update>\n          <hassio-addons\n            .hass=${this.hass}\n            .addons=${this.supervisorInfo.addons}\n          ></hassio-addons>\n        </div>\n      </hass-tabs-subpage>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      css`\n        .content {\n          margin: 0 auto;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-dashboard\": HassioDashboard;\n  }\n}\n","import \"@material/mwc-button\";\nimport \"@material/mwc-icon-button\";\nimport { mdiPackageVariant, mdiPackageVariantClosed, mdiReload } from \"@mdi/js\";\nimport \"@polymer/paper-checkbox/paper-checkbox\";\nimport type { PaperCheckboxElement } from \"@polymer/paper-checkbox/paper-checkbox\";\nimport \"@polymer/paper-input/paper-input\";\nimport type { PaperInputElement } from \"@polymer/paper-input/paper-input\";\nimport \"@polymer/paper-radio-button/paper-radio-button\";\nimport \"@polymer/paper-radio-group/paper-radio-group\";\nimport type { PaperRadioGroupElement } from \"@polymer/paper-radio-group/paper-radio-group\";\nimport {\n  css,\n  CSSResultArray,\n  customElement,\n  html,\n  LitElement,\n  property,\n  PropertyValues,\n  TemplateResult,\n} from \"lit-element\";\nimport { fireEvent } from \"../../../src/common/dom/fire_event\";\nimport \"../../../src/components/ha-card\";\nimport \"../../../src/components/ha-svg-icon\";\nimport {\n  createHassioFullSnapshot,\n  createHassioPartialSnapshot,\n  fetchHassioSnapshots,\n  HassioFullSnapshotCreateParams,\n  HassioPartialSnapshotCreateParams,\n  HassioSnapshot,\n  reloadHassioSnapshots,\n} from \"../../../src/data/hassio/snapshot\";\nimport { HassioSupervisorInfo } from \"../../../src/data/hassio/supervisor\";\nimport \"../../../src/layouts/hass-tabs-subpage\";\nimport { PolymerChangedEvent } from \"../../../src/polymer-types\";\nimport { haStyle } from \"../../../src/resources/styles\";\nimport { HomeAssistant, Route } from \"../../../src/types\";\nimport \"../components/hassio-card-content\";\nimport { showHassioSnapshotDialog } from \"../dialogs/snapshot/show-dialog-hassio-snapshot\";\nimport { supervisorTabs } from \"../hassio-panel\";\nimport { hassioStyle } from \"../resources/hassio-style\";\n\ninterface CheckboxItem {\n  slug: string;\n  name: string;\n  checked: boolean;\n}\n\n@customElement(\"hassio-snapshots\")\nclass HassioSnapshots extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ type: Boolean }) public narrow!: boolean;\n\n  @property({ attribute: false }) public route!: Route;\n\n  @property({ attribute: false }) public supervisorInfo!: HassioSupervisorInfo;\n\n  @property() private _snapshotName = \"\";\n\n  @property() private _snapshotPassword = \"\";\n\n  @property() private _snapshotHasPassword = false;\n\n  @property() private _snapshotType: HassioSnapshot[\"type\"] = \"full\";\n\n  @property() private _snapshots?: HassioSnapshot[] = [];\n\n  @property() private _addonList: CheckboxItem[] = [];\n\n  @property() private _folderList: CheckboxItem[] = [\n    {\n      slug: \"homeassistant\",\n      name: \"Home Assistant configuration\",\n      checked: true,\n    },\n    { slug: \"ssl\", name: \"SSL\", checked: true },\n    { slug: \"share\", name: \"Share\", checked: true },\n    { slug: \"addons/local\", name: \"Local add-ons\", checked: true },\n  ];\n\n  @property() private _creatingSnapshot = false;\n\n  @property() private _error = \"\";\n\n  public async refreshData() {\n    await reloadHassioSnapshots(this.hass);\n    await this._updateSnapshots();\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <hass-tabs-subpage\n        .hass=${this.hass}\n        .narrow=${this.narrow}\n        hassio\n        main-page\n        .route=${this.route}\n        .tabs=${supervisorTabs}\n      >\n        <span slot=\"header\">Snapshots</span>\n\n        <mwc-icon-button\n          slot=\"toolbar-icon\"\n          aria-label=\"Reload snapshots\"\n          @click=${this.refreshData}\n        >\n          <ha-svg-icon path=${mdiReload}></ha-svg-icon>\n        </mwc-icon-button>\n\n        <div class=\"content\">\n          <h1>\n            Create snapshot\n          </h1>\n          <p class=\"description\">\n            Snapshots allow you to easily backup and restore all data of your\n            Home Assistant instance.\n          </p>\n          <div class=\"card-group\">\n            <ha-card>\n              <div class=\"card-content\">\n                <paper-input\n                  autofocus\n                  label=\"Name\"\n                  name=\"snapshotName\"\n                  .value=${this._snapshotName}\n                  @value-changed=${this._handleTextValueChanged}\n                ></paper-input>\n                Type:\n                <paper-radio-group\n                  name=\"snapshotType\"\n                  .selected=${this._snapshotType}\n                  @selected-changed=${this._handleRadioValueChanged}\n                >\n                  <paper-radio-button name=\"full\">\n                    Full snapshot\n                  </paper-radio-button>\n                  <paper-radio-button name=\"partial\">\n                    Partial snapshot\n                  </paper-radio-button>\n                </paper-radio-group>\n                ${this._snapshotType === \"full\"\n                  ? undefined\n                  : html`\n                      Folders:\n                      ${this._folderList.map(\n                        (folder, idx) => html`\n                          <paper-checkbox\n                            .idx=${idx}\n                            .checked=${folder.checked}\n                            @checked-changed=${this._folderChecked}\n                          >\n                            ${folder.name}\n                          </paper-checkbox>\n                        `\n                      )}\n                      Add-ons:\n                      ${this._addonList.map(\n                        (addon, idx) => html`\n                          <paper-checkbox\n                            .idx=${idx}\n                            .checked=${addon.checked}\n                            @checked-changed=${this._addonChecked}\n                          >\n                            ${addon.name}\n                          </paper-checkbox>\n                        `\n                      )}\n                    `}\n                Security:\n                <paper-checkbox\n                  name=\"snapshotHasPassword\"\n                  .checked=${this._snapshotHasPassword}\n                  @checked-changed=${this._handleCheckboxValueChanged}\n                >\n                  Password protection\n                </paper-checkbox>\n                ${this._snapshotHasPassword\n                  ? html`\n                      <paper-input\n                        label=\"Password\"\n                        type=\"password\"\n                        name=\"snapshotPassword\"\n                        .value=${this._snapshotPassword}\n                        @value-changed=${this._handleTextValueChanged}\n                      ></paper-input>\n                    `\n                  : undefined}\n                ${this._error !== \"\"\n                  ? html` <p class=\"error\">${this._error}</p> `\n                  : undefined}\n              </div>\n              <div class=\"card-actions\">\n                <mwc-button\n                  .disabled=${this._creatingSnapshot}\n                  @click=${this._createSnapshot}\n                >\n                  Create\n                </mwc-button>\n              </div>\n            </ha-card>\n          </div>\n\n          <h1>Available snapshots</h1>\n          <div class=\"card-group\">\n            ${this._snapshots === undefined\n              ? undefined\n              : this._snapshots.length === 0\n              ? html`\n                  <ha-card>\n                    <div class=\"card-content\">\n                      You don't have any snapshots yet.\n                    </div>\n                  </ha-card>\n                `\n              : this._snapshots.map(\n                  (snapshot) => html`\n                    <ha-card\n                      class=\"pointer\"\n                      .snapshot=${snapshot}\n                      @click=${this._snapshotClicked}\n                    >\n                      <div class=\"card-content\">\n                        <hassio-card-content\n                          .hass=${this.hass}\n                          .title=${snapshot.name || snapshot.slug}\n                          .description=${this._computeDetails(snapshot)}\n                          .datetime=${snapshot.date}\n                          .icon=${snapshot.type === \"full\"\n                            ? mdiPackageVariantClosed\n                            : mdiPackageVariant}\n                          .icon-class=\"snapshot\"\n                        ></hassio-card-content>\n                      </div>\n                    </ha-card>\n                  `\n                )}\n          </div>\n        </div>\n      </hass-tabs-subpage>\n    `;\n  }\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n    this._updateSnapshots();\n  }\n\n  protected updated(changedProps: PropertyValues) {\n    if (changedProps.has(\"supervisorInfo\")) {\n      this._addonList = this.supervisorInfo.addons\n        .map((addon) => ({\n          slug: addon.slug,\n          name: addon.name,\n          checked: true,\n        }))\n        .sort((a, b) => (a.name < b.name ? -1 : 1));\n    }\n  }\n\n  private _handleTextValueChanged(ev: PolymerChangedEvent<string>) {\n    const input = ev.currentTarget as PaperInputElement;\n    this[`_${input.name}`] = ev.detail.value;\n  }\n\n  private _handleCheckboxValueChanged(ev) {\n    const input = ev.currentTarget as PaperCheckboxElement;\n    this[`_${input.name}`] = input.checked;\n  }\n\n  private _handleRadioValueChanged(ev: PolymerChangedEvent<string>) {\n    const input = ev.currentTarget as PaperRadioGroupElement;\n    this[`_${input.getAttribute(\"name\")}`] = ev.detail.value;\n  }\n\n  private _folderChecked(ev) {\n    const { idx, checked } = ev.currentTarget!;\n    this._folderList = this._folderList.map((folder, curIdx) =>\n      curIdx === idx ? { ...folder, checked } : folder\n    );\n  }\n\n  private _addonChecked(ev) {\n    const { idx, checked } = ev.currentTarget!;\n    this._addonList = this._addonList.map((addon, curIdx) =>\n      curIdx === idx ? { ...addon, checked } : addon\n    );\n  }\n\n  private async _updateSnapshots() {\n    try {\n      this._snapshots = await fetchHassioSnapshots(this.hass);\n      this._snapshots.sort((a, b) => (a.date < b.date ? 1 : -1));\n    } catch (err) {\n      this._error = err.message;\n    }\n  }\n\n  private async _createSnapshot() {\n    this._error = \"\";\n    if (this._snapshotHasPassword && !this._snapshotPassword.length) {\n      this._error = \"Please enter a password.\";\n      return;\n    }\n    this._creatingSnapshot = true;\n    await this.updateComplete;\n\n    const name =\n      this._snapshotName ||\n      new Date().toLocaleDateString(navigator.language, {\n        weekday: \"long\",\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n      });\n\n    try {\n      if (this._snapshotType === \"full\") {\n        const data: HassioFullSnapshotCreateParams = { name };\n        if (this._snapshotHasPassword) {\n          data.password = this._snapshotPassword;\n        }\n        await createHassioFullSnapshot(this.hass, data);\n      } else {\n        const addons = this._addonList\n          .filter((addon) => addon.checked)\n          .map((addon) => addon.slug);\n        const folders = this._folderList\n          .filter((folder) => folder.checked)\n          .map((folder) => folder.slug);\n\n        const data: HassioPartialSnapshotCreateParams = {\n          name,\n          folders,\n          addons,\n        };\n        if (this._snapshotHasPassword) {\n          data.password = this._snapshotPassword;\n        }\n        await createHassioPartialSnapshot(this.hass, data);\n      }\n      this._updateSnapshots();\n      fireEvent(this, \"hass-api-called\", { success: true, response: null });\n    } catch (err) {\n      this._error = err.message;\n    } finally {\n      this._creatingSnapshot = false;\n    }\n  }\n\n  private _computeDetails(snapshot: HassioSnapshot) {\n    const type =\n      snapshot.type === \"full\" ? \"Full snapshot\" : \"Partial snapshot\";\n    return snapshot.protected ? `${type}, password protected` : type;\n  }\n\n  private _snapshotClicked(ev) {\n    showHassioSnapshotDialog(this, {\n      slug: ev.currentTarget!.snapshot.slug,\n      onDelete: () => this._updateSnapshots(),\n    });\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        paper-radio-group {\n          display: block;\n        }\n        paper-radio-button {\n          padding: 0 0 2px 2px;\n        }\n        paper-radio-button,\n        paper-checkbox,\n        paper-input[type=\"password\"] {\n          display: block;\n          margin: 4px 0 4px 48px;\n        }\n        .pointer {\n          cursor: pointer;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-snapshots\": HassioSnapshots;\n  }\n}\n","import { fireEvent } from \"../../../../src/common/dom/fire_event\";\n\nexport interface HassioSnapshotDialogParams {\n  slug: string;\n  onDelete: () => void;\n}\n\nexport const showHassioSnapshotDialog = (\n  element: HTMLElement,\n  dialogParams: HassioSnapshotDialogParams\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"dialog-hassio-snapshot\",\n    dialogImport: () =>\n      import(\n        /* webpackChunkName: \"dialog-hassio-snapshot\" */ \"./dialog-hassio-snapshot\"\n      ),\n    dialogParams,\n  });\n};\n","import \"@material/mwc-button\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport \"../../../src/components/buttons/ha-call-api-button\";\nimport { fetchHassioHardwareInfo } from \"../../../src/data/hassio/hardware\";\nimport {\n  changeHostOptions,\n  fetchHassioHostInfo,\n  HassioHassOSInfo,\n  HassioHostInfo as HassioHostInfoType,\n  rebootHost,\n  shutdownHost,\n  updateOS,\n} from \"../../../src/data/hassio/host\";\nimport {\n  showAlertDialog,\n  showConfirmationDialog,\n  showPromptDialog,\n} from \"../../../src/dialogs/generic/show-dialog-box\";\nimport { haStyle } from \"../../../src/resources/styles\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport { showHassioMarkdownDialog } from \"../dialogs/markdown/show-dialog-hassio-markdown\";\nimport { hassioStyle } from \"../resources/hassio-style\";\n\n@customElement(\"hassio-host-info\")\nclass HassioHostInfo extends LitElement {\n  @property() public hass!: HomeAssistant;\n\n  @property() public hostInfo!: HassioHostInfoType;\n\n  @property() public hassOsInfo!: HassioHassOSInfo;\n\n  @property() private _errors?: string;\n\n  public render(): TemplateResult | void {\n    return html`\n      <ha-card>\n        <div class=\"card-content\">\n          <h2>Host system</h2>\n          <table class=\"info\">\n            <tbody>\n              <tr>\n                <td>Hostname</td>\n                <td>${this.hostInfo.hostname}</td>\n              </tr>\n              <tr>\n                <td>System</td>\n                <td>${this.hostInfo.operating_system}</td>\n              </tr>\n              ${this.hostInfo.deployment\n                ? html`\n                    <tr>\n                      <td>Deployment</td>\n                      <td>${this.hostInfo.deployment}</td>\n                    </tr>\n                  `\n                : \"\"}\n            </tbody>\n          </table>\n          <mwc-button raised @click=${this._showHardware} class=\"info\">\n            Hardware\n          </mwc-button>\n          ${this.hostInfo.features.includes(\"hostname\")\n            ? html`\n                <mwc-button\n                  raised\n                  @click=${this._changeHostnameClicked}\n                  class=\"info\"\n                >\n                  Change hostname\n                </mwc-button>\n              `\n            : \"\"}\n          ${this._errors\n            ? html` <div class=\"errors\">Error: ${this._errors}</div> `\n            : \"\"}\n        </div>\n        <div class=\"card-actions\">\n          ${this.hostInfo.features.includes(\"reboot\")\n            ? html`\n                <mwc-button class=\"warning\" @click=${this._rebootHost}\n                  >Reboot</mwc-button\n                >\n              `\n            : \"\"}\n          ${this.hostInfo.features.includes(\"shutdown\")\n            ? html`\n                <mwc-button class=\"warning\" @click=${this._shutdownHost}\n                  >Shutdown</mwc-button\n                >\n              `\n            : \"\"}\n          ${this.hostInfo.features.includes(\"hassos\")\n            ? html`\n                <ha-call-api-button\n                  class=\"warning\"\n                  .hass=${this.hass}\n                  path=\"hassio/os/config/sync\"\n                  title=\"Load HassOS configs or updates from USB\"\n                  >Import from USB</ha-call-api-button\n                >\n              `\n            : \"\"}\n          ${this.hostInfo.version !== this.hostInfo.version_latest\n            ? html` <mwc-button @click=${this._updateOS}>Update</mwc-button> `\n            : \"\"}\n        </div>\n      </ha-card>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        ha-card {\n          height: 100%;\n          width: 100%;\n        }\n        .card-content {\n          color: var(--primary-text-color);\n          box-sizing: border-box;\n          height: calc(100% - 47px);\n        }\n        .info {\n          width: 100%;\n        }\n        .info td:nth-child(2) {\n          text-align: right;\n        }\n        .errors {\n          color: var(--google-red-500);\n          margin-top: 16px;\n        }\n        mwc-button.info {\n          max-width: calc(50% - 12px);\n        }\n        table.info {\n          margin-bottom: 10px;\n        }\n        .warning {\n          --mdc-theme-primary: var(--google-red-500);\n        }\n      `,\n    ];\n  }\n\n  protected firstUpdated(): void {\n    this.addEventListener(\"hass-api-called\", (ev) => this._apiCalled(ev));\n  }\n\n  private _apiCalled(ev): void {\n    if (ev.detail.success) {\n      this._errors = undefined;\n      return;\n    }\n\n    const response = ev.detail.response;\n\n    this._errors =\n      typeof response.body === \"object\"\n        ? response.body.message || \"Unknown error\"\n        : response.body;\n  }\n\n  private async _showHardware(): Promise<void> {\n    try {\n      const content = this._objectToMarkdown(\n        await fetchHassioHardwareInfo(this.hass)\n      );\n      showHassioMarkdownDialog(this, {\n        title: \"Hardware\",\n        content,\n      });\n    } catch (err) {\n      showHassioMarkdownDialog(this, {\n        title: \"Hardware\",\n        content: \"Error getting hardware info\",\n      });\n    }\n  }\n\n  private async _rebootHost(): Promise<void> {\n    const confirmed = await showConfirmationDialog(this, {\n      title: \"Reboot\",\n      text: \"Are you sure you want to reboot the host?\",\n      confirmText: \"reboot host\",\n      dismissText: \"no\",\n    });\n\n    if (!confirmed) {\n      return;\n    }\n\n    try {\n      await rebootHost(this.hass);\n    } catch (err) {\n      showAlertDialog(this, {\n        title: \"Failed to reboot\",\n        text: err.body.message,\n      });\n    }\n  }\n\n  private async _shutdownHost(): Promise<void> {\n    const confirmed = await showConfirmationDialog(this, {\n      title: \"Shutdown\",\n      text: \"Are you sure you want to shutdown the host?\",\n      confirmText: \"shutdown host\",\n      dismissText: \"no\",\n    });\n\n    if (!confirmed) {\n      return;\n    }\n\n    try {\n      await shutdownHost(this.hass);\n    } catch (err) {\n      showAlertDialog(this, {\n        title: \"Failed to shutdown\",\n        text: err.body.message,\n      });\n    }\n  }\n\n  private async _updateOS(): Promise<void> {\n    const confirmed = await showConfirmationDialog(this, {\n      title: \"Update\",\n      text: \"Are you sure you want to update the OS?\",\n      confirmText: \"update os\",\n      dismissText: \"no\",\n    });\n\n    if (!confirmed) {\n      return;\n    }\n\n    try {\n      await updateOS(this.hass);\n    } catch (err) {\n      showAlertDialog(this, {\n        title: \"Failed to update\",\n        text: err.body.message,\n      });\n    }\n  }\n\n  private _objectToMarkdown(obj, indent = \"\"): string {\n    let data = \"\";\n    Object.keys(obj).forEach((key) => {\n      if (typeof obj[key] !== \"object\") {\n        data += `${indent}- ${key}: ${obj[key]}\\n`;\n      } else {\n        data += `${indent}- ${key}:\\n`;\n        if (Array.isArray(obj[key])) {\n          if (obj[key].length) {\n            data +=\n              `${indent}    - ` + obj[key].join(`\\n${indent}    - `) + \"\\n\";\n          }\n        } else {\n          data += this._objectToMarkdown(obj[key], `    ${indent}`);\n        }\n      }\n    });\n\n    return data;\n  }\n\n  private async _changeHostnameClicked(): Promise<void> {\n    const curHostname: string = this.hostInfo.hostname;\n    const hostname = await showPromptDialog(this, {\n      title: \"Change hostname\",\n      inputLabel: \"Please enter a new hostname:\",\n      inputType: \"string\",\n      defaultValue: curHostname,\n    });\n\n    if (hostname && hostname !== curHostname) {\n      try {\n        await changeHostOptions(this.hass, { hostname });\n        this.hostInfo = await fetchHassioHostInfo(this.hass);\n      } catch (err) {\n        showAlertDialog(this, {\n          title: \"Setting hostname failed\",\n          text: err.body.message,\n        });\n      }\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-host-info\": HassioHostInfo;\n  }\n}\n","import \"@material/mwc-button\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport { fireEvent } from \"../../../src/common/dom/fire_event\";\nimport \"../../../src/components/buttons/ha-call-api-button\";\nimport \"../../../src/components/ha-card\";\nimport {\n  HassioSupervisorInfo as HassioSupervisorInfoType,\n  setSupervisorOption,\n  SupervisorOptions,\n} from \"../../../src/data/hassio/supervisor\";\nimport { showConfirmationDialog } from \"../../../src/dialogs/generic/show-dialog-box\";\nimport { haStyle } from \"../../../src/resources/styles\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport { hassioStyle } from \"../resources/hassio-style\";\n\n@customElement(\"hassio-supervisor-info\")\nclass HassioSupervisorInfo extends LitElement {\n  @property() public hass!: HomeAssistant;\n\n  @property() public supervisorInfo!: HassioSupervisorInfoType;\n\n  @property() private _errors?: string;\n\n  public render(): TemplateResult | void {\n    return html`\n      <ha-card>\n        <div class=\"card-content\">\n          <h2>Supervisor</h2>\n          <table class=\"info\">\n            <tbody>\n              <tr>\n                <td>Version</td>\n                <td>${this.supervisorInfo.version}</td>\n              </tr>\n              <tr>\n                <td>Latest version</td>\n                <td>${this.supervisorInfo.version_latest}</td>\n              </tr>\n              ${this.supervisorInfo.channel !== \"stable\"\n                ? html`\n                    <tr>\n                      <td>Channel</td>\n                      <td>${this.supervisorInfo.channel}</td>\n                    </tr>\n                  `\n                : \"\"}\n            </tbody>\n          </table>\n          ${this._errors\n            ? html` <div class=\"errors\">Error: ${this._errors}</div> `\n            : \"\"}\n        </div>\n        <div class=\"card-actions\">\n          <ha-call-api-button .hass=${this.hass} path=\"hassio/supervisor/reload\"\n            >Reload</ha-call-api-button\n          >\n          ${this.supervisorInfo.version !== this.supervisorInfo.version_latest\n            ? html`\n                <ha-call-api-button\n                  .hass=${this.hass}\n                  path=\"hassio/supervisor/update\"\n                  >Update</ha-call-api-button\n                >\n              `\n            : \"\"}\n          ${this.supervisorInfo.channel === \"beta\"\n            ? html`\n                <ha-call-api-button\n                  .hass=${this.hass}\n                  path=\"hassio/supervisor/options\"\n                  .data=${{ channel: \"stable\" }}\n                  >Leave beta channel</ha-call-api-button\n                >\n              `\n            : \"\"}\n          ${this.supervisorInfo.channel === \"stable\"\n            ? html`\n                <mwc-button\n                  @click=${this._joinBeta}\n                  class=\"warning\"\n                  title=\"Get beta updates for Home Assistant (RCs), supervisor and host\"\n                  >Join beta channel</mwc-button\n                >\n              `\n            : \"\"}\n        </div>\n      </ha-card>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        ha-card {\n          height: 100%;\n          width: 100%;\n        }\n        .card-content {\n          color: var(--primary-text-color);\n          box-sizing: border-box;\n          height: calc(100% - 47px);\n        }\n        .info {\n          width: 100%;\n        }\n        .info td:nth-child(2) {\n          text-align: right;\n        }\n        .errors {\n          color: var(--google-red-500);\n          margin-top: 16px;\n        }\n      `,\n    ];\n  }\n\n  protected firstUpdated(): void {\n    this.addEventListener(\"hass-api-called\", (ev) => this._apiCalled(ev));\n  }\n\n  private _apiCalled(ev): void {\n    if (ev.detail.success) {\n      this._errors = undefined;\n      return;\n    }\n\n    const response = ev.detail.response;\n\n    this._errors =\n      typeof response.body === \"object\"\n        ? response.body.message || \"Unknown error\"\n        : response.body;\n  }\n\n  private async _joinBeta() {\n    const confirmed = await showConfirmationDialog(this, {\n      title: \"WARNING\",\n      text: html` Beta releases are for testers and early adopters and can\n        contain unstable code changes.\n        <br />\n        <b>\n          Make sure you have backups of your data before you activate this\n          feature.\n        </b>\n        <br /><br />\n        This includes beta releases for:\n        <li>Home Assistant Core</li>\n        <li>Home Assistant Supervisor</li>\n        <li>Home Assistant Operating System</li>\n        <br />\n        Do you want to join the beta channel?`,\n      confirmText: \"join beta\",\n      dismissText: \"no\",\n    });\n\n    if (!confirmed) {\n      return;\n    }\n\n    try {\n      const data: SupervisorOptions = { channel: \"beta\" };\n      await setSupervisorOption(this.hass, data);\n      const eventdata = {\n        success: true,\n        response: undefined,\n        path: \"option\",\n      };\n      fireEvent(this, \"hass-api-called\", eventdata);\n    } catch (err) {\n      this._errors = `Error joining beta channel, ${err.body?.message || err}`;\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-supervisor-info\": HassioSupervisorInfo;\n  }\n}\n","import \"@material/mwc-button\";\nimport \"@polymer/paper-dropdown-menu/paper-dropdown-menu\";\nimport \"@polymer/paper-item/paper-item\";\nimport \"@polymer/paper-listbox/paper-listbox\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport \"../../../src/components/ha-card\";\nimport { fetchHassioLogs } from \"../../../src/data/hassio/supervisor\";\nimport \"../../../src/layouts/loading-screen\";\nimport { haStyle } from \"../../../src/resources/styles\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport \"../components/hassio-ansi-to-html\";\nimport { hassioStyle } from \"../resources/hassio-style\";\n\ninterface LogProvider {\n  key: string;\n  name: string;\n}\n\nconst logProviders: LogProvider[] = [\n  {\n    key: \"supervisor\",\n    name: \"Supervisor\",\n  },\n  {\n    key: \"core\",\n    name: \"Core\",\n  },\n  {\n    key: \"host\",\n    name: \"Host\",\n  },\n  {\n    key: \"dns\",\n    name: \"DNS\",\n  },\n  {\n    key: \"audio\",\n    name: \"Audio\",\n  },\n  {\n    key: \"multicast\",\n    name: \"Multicast\",\n  },\n];\n\n@customElement(\"hassio-supervisor-log\")\nclass HassioSupervisorLog extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property() private _error?: string;\n\n  @property() private _selectedLogProvider = \"supervisor\";\n\n  @property() private _content?: string;\n\n  public async connectedCallback(): Promise<void> {\n    super.connectedCallback();\n    await this._loadData();\n  }\n\n  public render(): TemplateResult | void {\n    return html`\n      <ha-card>\n        ${this._error ? html` <div class=\"errors\">${this._error}</div> ` : \"\"}\n        ${this.hass.userData?.showAdvanced\n          ? html`\n              <paper-dropdown-menu\n                label=\"Log provider\"\n                @iron-select=${this._setLogProvider}\n              >\n                <paper-listbox\n                  slot=\"dropdown-content\"\n                  attr-for-selected=\"provider\"\n                  .selected=${this._selectedLogProvider}\n                >\n                  ${logProviders.map((provider) => {\n                    return html`\n                      <paper-item provider=${provider.key}\n                        >${provider.name}</paper-item\n                      >\n                    `;\n                  })}\n                </paper-listbox>\n              </paper-dropdown-menu>\n            `\n          : \"\"}\n\n        <div class=\"card-content\" id=\"content\">\n          ${this._content\n            ? html`<hassio-ansi-to-html\n                .content=${this._content}\n              ></hassio-ansi-to-html>`\n            : html`<loading-screen></loading-screen>`}\n        </div>\n        <div class=\"card-actions\">\n          <mwc-button @click=${this._refresh}>Refresh</mwc-button>\n        </div>\n      </ha-card>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        ha-card {\n          width: 100%;\n        }\n        pre {\n          white-space: pre-wrap;\n        }\n        paper-dropdown-menu {\n          padding: 0 2%;\n          width: 96%;\n        }\n        .errors {\n          color: var(--google-red-500);\n          margin-bottom: 16px;\n        }\n        .card-content {\n          padding-top: 0px;\n        }\n      `,\n    ];\n  }\n\n  private async _setLogProvider(ev): Promise<void> {\n    const provider = ev.detail.item.getAttribute(\"provider\");\n    this._selectedLogProvider = provider;\n    await this._loadData();\n  }\n\n  private async _loadData(): Promise<void> {\n    this._error = undefined;\n    this._content = undefined;\n\n    try {\n      this._content = await fetchHassioLogs(\n        this.hass,\n        this._selectedLogProvider\n      );\n    } catch (err) {\n      this._error = `Failed to get supervisor logs, ${\n        err.body?.message || err\n      }`;\n    }\n  }\n\n  private async _refresh(): Promise<void> {\n    await this._loadData();\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-supervisor-log\": HassioSupervisorLog;\n  }\n}\n","import \"@polymer/paper-menu-button/paper-menu-button\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport {\n  HassioHassOSInfo,\n  HassioHostInfo,\n} from \"../../../src/data/hassio/host\";\nimport { HassioSupervisorInfo } from \"../../../src/data/hassio/supervisor\";\nimport \"../../../src/layouts/hass-tabs-subpage\";\nimport { haStyle } from \"../../../src/resources/styles\";\nimport { HomeAssistant, Route } from \"../../../src/types\";\nimport { supervisorTabs } from \"../hassio-panel\";\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport \"./hassio-host-info\";\nimport \"./hassio-supervisor-info\";\nimport \"./hassio-supervisor-log\";\n\n@customElement(\"hassio-system\")\nclass HassioSystem extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ type: Boolean }) public narrow!: boolean;\n\n  @property({ attribute: false }) public route!: Route;\n\n  @property() public supervisorInfo!: HassioSupervisorInfo;\n\n  @property() public hostInfo!: HassioHostInfo;\n\n  @property() public hassOsInfo!: HassioHassOSInfo;\n\n  public render(): TemplateResult | void {\n    return html`\n      <hass-tabs-subpage\n        .hass=${this.hass}\n        .narrow=${this.narrow}\n        hassio\n        main-page\n        .route=${this.route}\n        .tabs=${supervisorTabs}\n      >\n        <span slot=\"header\">System</span>\n        <div class=\"content\">\n          <h1>Information</h1>\n          <div class=\"card-group\">\n            <hassio-supervisor-info\n              .hass=${this.hass}\n              .supervisorInfo=${this.supervisorInfo}\n            ></hassio-supervisor-info>\n            <hassio-host-info\n              .hass=${this.hass}\n              .hostInfo=${this.hostInfo}\n              .hassOsInfo=${this.hassOsInfo}\n            ></hassio-host-info>\n          </div>\n          <h1>System log</h1>\n          <hassio-supervisor-log .hass=${this.hass}></hassio-supervisor-log>\n        </div>\n      </hass-tabs-subpage>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        .content {\n          margin: 8px;\n          color: var(--primary-text-color);\n        }\n        .title {\n          margin-top: 24px;\n          color: var(--primary-text-color);\n          font-size: 2em;\n          padding-left: 8px;\n          margin-bottom: 8px;\n        }\n        hassio-supervisor-log {\n          width: 100%;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-system\": HassioSystem;\n  }\n}\n","import { customElement, property } from \"lit-element\";\nimport { HassioHassOSInfo, HassioHostInfo } from \"../../src/data/hassio/host\";\nimport {\n  HassioHomeAssistantInfo,\n  HassioSupervisorInfo,\n} from \"../../src/data/hassio/supervisor\";\nimport {\n  HassRouterPage,\n  RouterOptions,\n} from \"../../src/layouts/hass-router-page\";\nimport { HomeAssistant, Route } from \"../../src/types\";\nimport \"./addon-store/hassio-addon-store\";\n// Don't codesplit it, that way the dashboard always loads fast.\nimport \"./dashboard/hassio-dashboard\";\n// Don't codesplit the others, because it breaks the UI when pushed to a Pi\nimport \"./snapshots/hassio-snapshots\";\nimport \"./system/hassio-system\";\n\n@customElement(\"hassio-panel-router\")\nclass HassioPanelRouter extends HassRouterPage {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public route!: Route;\n\n  @property({ type: Boolean }) public narrow!: boolean;\n\n  @property({ attribute: false }) public supervisorInfo: HassioSupervisorInfo;\n\n  @property({ attribute: false }) public hostInfo: HassioHostInfo;\n\n  @property({ attribute: false }) public hassInfo: HassioHomeAssistantInfo;\n\n  @property({ attribute: false }) public hassOsInfo!: HassioHassOSInfo;\n\n  protected routerOptions: RouterOptions = {\n    routes: {\n      dashboard: {\n        tag: \"hassio-dashboard\",\n      },\n      store: {\n        tag: \"hassio-addon-store\",\n      },\n      snapshots: {\n        tag: \"hassio-snapshots\",\n      },\n      system: {\n        tag: \"hassio-system\",\n      },\n    },\n  };\n\n  protected updatePageEl(el) {\n    el.hass = this.hass;\n    el.route = this.route;\n    el.narrow = this.narrow;\n    el.supervisorInfo = this.supervisorInfo;\n    el.hostInfo = this.hostInfo;\n    el.hassInfo = this.hassInfo;\n    el.hassOsInfo = this.hassOsInfo;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-panel-router\": HassioPanelRouter;\n  }\n}\n","import { mdiBackupRestore, mdiCogs, mdiStore, mdiViewDashboard } from \"@mdi/js\";\nimport {\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport { HassioHassOSInfo, HassioHostInfo } from \"../../src/data/hassio/host\";\nimport {\n  HassioHomeAssistantInfo,\n  HassioSupervisorInfo,\n} from \"../../src/data/hassio/supervisor\";\nimport type { PageNavigation } from \"../../src/layouts/hass-tabs-subpage\";\nimport \"../../src/resources/ha-style\";\nimport { HomeAssistant, Route } from \"../../src/types\";\nimport \"./hassio-panel-router\";\n\nexport const supervisorTabs: PageNavigation[] = [\n  {\n    name: \"Dashboard\",\n    path: `/hassio/dashboard`,\n    iconPath: mdiViewDashboard,\n  },\n  {\n    name: \"Add-on store\",\n    path: `/hassio/store`,\n    iconPath: mdiStore,\n  },\n  {\n    name: \"Snapshots\",\n    path: `/hassio/snapshots`,\n    iconPath: mdiBackupRestore,\n  },\n  {\n    name: \"System\",\n    path: `/hassio/system`,\n    iconPath: mdiCogs,\n  },\n];\n\n@customElement(\"hassio-panel\")\nclass HassioPanel extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ type: Boolean }) public narrow!: boolean;\n\n  @property({ attribute: false }) public route!: Route;\n\n  @property({ attribute: false }) public supervisorInfo!: HassioSupervisorInfo;\n\n  @property({ attribute: false }) public hostInfo!: HassioHostInfo;\n\n  @property({ attribute: false }) public hassInfo!: HassioHomeAssistantInfo;\n\n  @property({ attribute: false }) public hassOsInfo!: HassioHassOSInfo;\n\n  protected render(): TemplateResult {\n    return html`\n      <hassio-panel-router\n        .route=${this.route}\n        .hass=${this.hass}\n        .narrow=${this.narrow}\n        .supervisorInfo=${this.supervisorInfo}\n        .hostInfo=${this.hostInfo}\n        .hassInfo=${this.hassInfo}\n        .hassOsInfo=${this.hassOsInfo}\n      ></hassio-panel-router>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-panel\": HassioPanel;\n  }\n}\n","import { PropertyValues, UpdatingElement } from \"lit-element\";\nimport { Constructor, HomeAssistant } from \"../types\";\n\nexport interface ProvideHassElement {\n  provideHass(element: HTMLElement);\n}\n\nexport const ProvideHassLitMixin = <T extends Constructor<UpdatingElement>>(\n  superClass: T\n) =>\n  class extends superClass {\n    protected hass!: HomeAssistant;\n\n    private __provideHass: HTMLElement[] = [];\n\n    public provideHass(el) {\n      this.__provideHass.push(el);\n      el.hass = this.hass;\n    }\n\n    protected updated(changedProps: PropertyValues) {\n      super.updated(changedProps);\n\n      if (changedProps.has(\"hass\")) {\n        this.__provideHass.forEach((el) => {\n          (el as any).hass = this.hass;\n        });\n      }\n    }\n  };\n","import { PolymerElement } from \"@polymer/polymer\";\nimport { customElement, property, PropertyValues } from \"lit-element\";\nimport { applyThemesOnElement } from \"../../src/common/dom/apply_themes_on_element\";\nimport { fireEvent } from \"../../src/common/dom/fire_event\";\nimport { navigate } from \"../../src/common/navigate\";\nimport { fetchHassioAddonInfo } from \"../../src/data/hassio/addon\";\nimport {\n  fetchHassioHassOsInfo,\n  fetchHassioHostInfo,\n  HassioHassOSInfo,\n  HassioHostInfo,\n} from \"../../src/data/hassio/host\";\nimport {\n  createHassioSession,\n  fetchHassioHomeAssistantInfo,\n  fetchHassioSupervisorInfo,\n  HassioHomeAssistantInfo,\n  HassioPanelInfo,\n  HassioSupervisorInfo,\n} from \"../../src/data/hassio/supervisor\";\nimport {\n  AlertDialogParams,\n  showAlertDialog,\n} from \"../../src/dialogs/generic/show-dialog-box\";\nimport { makeDialogManager } from \"../../src/dialogs/make-dialog-manager\";\nimport {\n  HassRouterPage,\n  RouterOptions,\n} from \"../../src/layouts/hass-router-page\";\nimport { ProvideHassLitMixin } from \"../../src/mixins/provide-hass-lit-mixin\";\nimport \"../../src/resources/ha-style\";\nimport { HomeAssistant } from \"../../src/types\";\n// Don't codesplit it, that way the dashboard always loads fast.\nimport \"./hassio-panel\";\n\n@customElement(\"hassio-main\")\nclass HassioMain extends ProvideHassLitMixin(HassRouterPage) {\n  @property() public hass!: HomeAssistant;\n\n  @property() public panel!: HassioPanelInfo;\n\n  @property() public narrow!: boolean;\n\n  protected routerOptions: RouterOptions = {\n    // Hass.io has a page with tabs, so we route all non-matching routes to it.\n    defaultPage: \"dashboard\",\n    initialLoad: () => this._fetchData(),\n    showLoading: true,\n    routes: {\n      dashboard: {\n        tag: \"hassio-panel\",\n        cache: true,\n      },\n      snapshots: \"dashboard\",\n      store: \"dashboard\",\n      system: \"dashboard\",\n      addon: {\n        tag: \"hassio-addon-dashboard\",\n        load: () =>\n          import(\n            /* webpackChunkName: \"hassio-addon-dashboard\" */ \"./addon-view/hassio-addon-dashboard\"\n          ),\n      },\n      ingress: {\n        tag: \"hassio-ingress-view\",\n        load: () =>\n          import(\n            /* webpackChunkName: \"hassio-ingress-view\" */ \"./ingress-view/hassio-ingress-view\"\n          ),\n      },\n    },\n  };\n\n  @property() private _supervisorInfo: HassioSupervisorInfo;\n\n  @property() private _hostInfo: HassioHostInfo;\n\n  @property() private _hassOsInfo?: HassioHassOSInfo;\n\n  @property() private _hassInfo: HassioHomeAssistantInfo;\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n\n    applyThemesOnElement(\n      this.parentElement,\n      this.hass.themes,\n      this.hass.selectedTheme || this.hass.themes.default_theme\n    );\n\n    this.style.setProperty(\n      \"--app-header-background-color\",\n      \"var(--sidebar-background-color)\"\n    );\n    this.style.setProperty(\n      \"--app-header-text-color\",\n      \"var(--sidebar-text-color)\"\n    );\n    this.style.setProperty(\n      \"--app-header-border-bottom\",\n      \"1px solid var(--divider-color)\"\n    );\n\n    this.addEventListener(\"hass-api-called\", (ev) => this._apiCalled(ev));\n    // Paulus - March 17, 2019\n    // We went to a single hass-toggle-menu event in HA 0.90. However, the\n    // supervisor UI can also run under older versions of Home Assistant.\n    // So here we are going to translate toggle events into the appropriate\n    // open and close events. These events are a no-op in newer versions of\n    // Home Assistant.\n    this.addEventListener(\"hass-toggle-menu\", () => {\n      fireEvent(\n        (window.parent as any).customPanel,\n        // @ts-ignore\n        this.hass.dockedSidebar ? \"hass-close-menu\" : \"hass-open-menu\"\n      );\n    });\n    // Paulus - March 19, 2019\n    // We changed the navigate event to fire directly on the window, as that's\n    // where we are listening for it. However, the older panel_custom will\n    // listen on this element for navigation events, so we need to forward them.\n    window.addEventListener(\"location-changed\", (ev) =>\n      // @ts-ignore\n      fireEvent(this, ev.type, ev.detail, {\n        bubbles: false,\n      })\n    );\n\n    // Forward haptic events to parent window.\n    window.addEventListener(\"haptic\", (ev) => {\n      // @ts-ignore\n      fireEvent(window.parent, ev.type, ev.detail, {\n        bubbles: false,\n      });\n    });\n\n    makeDialogManager(this, document.body);\n  }\n\n  protected updatePageEl(el) {\n    // the tabs page does its own routing so needs full route.\n    const route = el.nodeName === \"HASSIO-PANEL\" ? this.route : this.routeTail;\n\n    if (\"setProperties\" in el) {\n      // As long as we have Polymer pages\n      (el as PolymerElement).setProperties({\n        hass: this.hass,\n        narrow: this.narrow,\n        supervisorInfo: this._supervisorInfo,\n        hostInfo: this._hostInfo,\n        hassInfo: this._hassInfo,\n        hassOsInfo: this._hassOsInfo,\n        route,\n      });\n    } else {\n      el.hass = this.hass;\n      el.narrow = this.narrow;\n      el.supervisorInfo = this._supervisorInfo;\n      el.hostInfo = this._hostInfo;\n      el.hassInfo = this._hassInfo;\n      el.hassOsInfo = this._hassOsInfo;\n      el.route = route;\n    }\n  }\n\n  private async _fetchData() {\n    if (this.panel.config && this.panel.config.ingress) {\n      await this._redirectIngress(this.panel.config.ingress);\n      return;\n    }\n\n    const [supervisorInfo, hostInfo, hassInfo] = await Promise.all([\n      fetchHassioSupervisorInfo(this.hass),\n      fetchHassioHostInfo(this.hass),\n      fetchHassioHomeAssistantInfo(this.hass),\n    ]);\n    this._supervisorInfo = supervisorInfo;\n    this._hostInfo = hostInfo;\n    this._hassInfo = hassInfo;\n\n    if (this._hostInfo.features && this._hostInfo.features.includes(\"hassos\")) {\n      this._hassOsInfo = await fetchHassioHassOsInfo(this.hass);\n    }\n  }\n\n  private async _redirectIngress(addonSlug: string) {\n    // When we trigger a navigation, we sleep to make sure we don't\n    // show the hassio dashboard before navigating away.\n    const awaitAlert = async (\n      alertParams: AlertDialogParams,\n      action: () => void\n    ) => {\n      await new Promise((resolve) => {\n        alertParams.confirm = resolve;\n        showAlertDialog(this, alertParams);\n      });\n      action();\n      await new Promise((resolve) => setTimeout(resolve, 1000));\n    };\n\n    const createSessionPromise = createHassioSession(this.hass).then(\n      () => true,\n      () => false\n    );\n\n    let addon;\n\n    try {\n      addon = await fetchHassioAddonInfo(this.hass, addonSlug);\n    } catch (err) {\n      await awaitAlert(\n        {\n          text: \"Unable to fetch add-on info to start Ingress\",\n          title: \"Supervisor\",\n        },\n        () => history.back()\n      );\n\n      return;\n    }\n\n    if (!addon.ingress_url) {\n      await awaitAlert(\n        {\n          text: \"Add-on does not support Ingress\",\n          title: addon.name,\n        },\n        () => history.back()\n      );\n\n      return;\n    }\n\n    if (addon.state !== \"started\") {\n      await awaitAlert(\n        {\n          text: \"Add-on is not running. Please start it first\",\n          title: addon.name,\n        },\n        () => navigate(this, `/hassio/addon/${addon.slug}/info`, true)\n      );\n\n      return;\n    }\n\n    if (!(await createSessionPromise)) {\n      await awaitAlert(\n        {\n          text: \"Unable to create an Ingress session\",\n          title: addon.name,\n        },\n        () => history.back()\n      );\n\n      return;\n    }\n\n    location.assign(addon.ingress_url);\n    // await a promise that doesn't resolve, so we show the loading screen\n    // while we load the next page.\n    await new Promise(() => undefined);\n  }\n\n  private _apiCalled(ev) {\n    if (!ev.detail.success) {\n      return;\n    }\n\n    let tries = 1;\n\n    const tryUpdate = () => {\n      this._fetchData().catch(() => {\n        tries += 1;\n        setTimeout(tryUpdate, Math.min(tries, 5) * 1000);\n      });\n    };\n\n    tryUpdate();\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-main\": HassioMain;\n  }\n}\n","import { fireEvent } from \"./dom/fire_event\";\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    \"location-changed\": {\n      replace: boolean;\n    };\n  }\n}\n\nexport const navigate = (_node: any, path: string, replace = false) => {\n  if (__DEMO__) {\n    if (replace) {\n      history.replaceState(null, \"\", `${location.pathname}#${path}`);\n    } else {\n      window.location.hash = path;\n    }\n  } else if (replace) {\n    history.replaceState(null, \"\", path);\n  } else {\n    history.pushState(null, \"\", path);\n  }\n  fireEvent(window, \"location-changed\", {\n    replace,\n  });\n};\n","import { TemplateResult } from \"lit-html\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\n\ninterface BaseDialogParams {\n  confirmText?: string;\n  text?: string | TemplateResult;\n  title?: string;\n}\n\nexport interface AlertDialogParams extends BaseDialogParams {\n  confirm?: () => void;\n}\n\nexport interface ConfirmationDialogParams extends BaseDialogParams {\n  dismissText?: string;\n  confirm?: () => void;\n  cancel?: () => void;\n}\n\nexport interface PromptDialogParams extends BaseDialogParams {\n  inputLabel?: string;\n  inputType?: string;\n  defaultValue?: string;\n  confirm?: (out?: string) => void;\n}\n\nexport interface DialogParams\n  extends ConfirmationDialogParams,\n    PromptDialogParams {\n  confirm?: (out?: string) => void;\n  confirmation?: boolean;\n  prompt?: boolean;\n}\n\nexport const loadGenericDialog = () =>\n  import(/* webpackChunkName: \"confirmation\" */ \"./dialog-box\");\n\nconst showDialogHelper = (\n  element: HTMLElement,\n  dialogParams: DialogParams,\n  extra?: {\n    confirmation?: DialogParams[\"confirmation\"];\n    prompt?: DialogParams[\"prompt\"];\n  }\n) =>\n  new Promise((resolve) => {\n    const origCancel = dialogParams.cancel;\n    const origConfirm = dialogParams.confirm;\n\n    fireEvent(element, \"show-dialog\", {\n      dialogTag: \"dialog-box\",\n      dialogImport: loadGenericDialog,\n      dialogParams: {\n        ...dialogParams,\n        ...extra,\n        cancel: () => {\n          resolve(extra?.prompt ? null : false);\n          if (origCancel) {\n            origCancel();\n          }\n        },\n        confirm: (out) => {\n          resolve(extra?.prompt ? out : true);\n          if (origConfirm) {\n            origConfirm(out);\n          }\n        },\n      },\n    });\n  });\n\nexport const showAlertDialog = (\n  element: HTMLElement,\n  dialogParams: AlertDialogParams\n) => showDialogHelper(element, dialogParams);\n\nexport const showConfirmationDialog = (\n  element: HTMLElement,\n  dialogParams: ConfirmationDialogParams\n) =>\n  showDialogHelper(element, dialogParams, { confirmation: true }) as Promise<\n    boolean\n  >;\n\nexport const showPromptDialog = (\n  element: HTMLElement,\n  dialogParams: PromptDialogParams\n) =>\n  showDialogHelper(element, dialogParams, { prompt: true }) as Promise<\n    null | string\n  >;\n","export interface HassioResponse<T> {\n  data: T;\n  result: \"ok\";\n}\n\nexport const hassioApiResultExtractor = <T>(response: HassioResponse<T>) =>\n  response.data;\n","import { HomeAssistant, PanelInfo } from \"../../types\";\nimport { hassioApiResultExtractor, HassioResponse } from \"./common\";\n\nexport type HassioHomeAssistantInfo = any;\nexport type HassioSupervisorInfo = any;\n\nexport type HassioPanelInfo = PanelInfo<\n  | undefined\n  | {\n      ingress?: string;\n    }\n>;\n\nexport interface CreateSessionResponse {\n  session: string;\n}\n\nexport interface SupervisorOptions {\n  channel?: \"beta\" | \"dev\" | \"stable\";\n  addons_repositories?: string[];\n}\n\nexport const fetchHassioHomeAssistantInfo = async (hass: HomeAssistant) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<HassioHomeAssistantInfo>>(\n      \"GET\",\n      \"hassio/core/info\"\n    )\n  );\n};\n\nexport const fetchHassioSupervisorInfo = async (hass: HomeAssistant) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<HassioSupervisorInfo>>(\n      \"GET\",\n      \"hassio/supervisor/info\"\n    )\n  );\n};\n\nexport const fetchHassioLogs = async (\n  hass: HomeAssistant,\n  provider: string\n) => {\n  return hass.callApi<string>(\"GET\", `hassio/${provider}/logs`);\n};\n\nexport const createHassioSession = async (hass: HomeAssistant) => {\n  const response = await hass.callApi<HassioResponse<CreateSessionResponse>>(\n    \"POST\",\n    \"hassio/ingress/session\"\n  );\n  document.cookie = `ingress_session=${response.data.session};path=/api/hassio_ingress/`;\n};\n\nexport const setSupervisorOption = async (\n  hass: HomeAssistant,\n  data: SupervisorOptions\n) => {\n  await hass.callApi<HassioResponse<void>>(\n    \"POST\",\n    \"hassio/supervisor/options\",\n    data\n  );\n};\n","import \"@material/mwc-ripple\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  PropertyValues,\n  TemplateResult,\n} from \"lit-element\";\nimport { classMap } from \"lit-html/directives/class-map\";\nimport memoizeOne from \"memoize-one\";\nimport { isComponentLoaded } from \"../common/config/is_component_loaded\";\nimport { navigate } from \"../common/navigate\";\nimport \"../components/ha-menu-button\";\nimport \"../components/ha-icon-button-arrow-prev\";\nimport { HomeAssistant, Route } from \"../types\";\nimport \"../components/ha-svg-icon\";\nimport \"../components/ha-icon\";\n\nexport interface PageNavigation {\n  path: string;\n  translationKey?: string;\n  component?: string;\n  name?: string;\n  core?: boolean;\n  advancedOnly?: boolean;\n  icon?: string;\n  iconPath?: string;\n  info?: any;\n}\n\n@customElement(\"hass-tabs-subpage\")\nclass HassTabsSubpage extends LitElement {\n  @property() public hass!: HomeAssistant;\n\n  @property({ type: Boolean }) public hassio = false;\n\n  @property({ type: String, attribute: \"back-path\" }) public backPath?: string;\n\n  @property() public backCallback?: () => void;\n\n  @property({ type: Boolean, attribute: \"main-page\" }) public mainPage = false;\n\n  @property() public route!: Route;\n\n  @property() public tabs!: PageNavigation[];\n\n  @property({ type: Boolean, reflect: true }) public narrow = false;\n\n  @property() private _activeTab?: PageNavigation;\n\n  private _getTabs = memoizeOne(\n    (\n      tabs: PageNavigation[],\n      activeTab: PageNavigation | undefined,\n      showAdvanced: boolean | undefined,\n      _components,\n      _language,\n      _narrow\n    ) => {\n      const shownTabs = tabs.filter(\n        (page) =>\n          (!page.component ||\n            page.core ||\n            isComponentLoaded(this.hass, page.component)) &&\n          (!page.advancedOnly || showAdvanced)\n      );\n\n      return shownTabs.map(\n        (page) =>\n          html`\n            <div\n              class=\"tab ${classMap({\n                active: page === activeTab,\n              })}\"\n              @click=${this._tabTapped}\n              .path=${page.path}\n            >\n              ${this.narrow\n                ? page.iconPath\n                  ? html`<ha-svg-icon .path=${page.iconPath}></ha-svg-icon>`\n                  : html`<ha-icon .icon=${page.icon}></ha-icon>`\n                : \"\"}\n              ${!this.narrow || page === activeTab\n                ? html`\n                    <span class=\"name\"\n                      >${page.translationKey\n                        ? this.hass.localize(page.translationKey)\n                        : page.name}</span\n                    >\n                  `\n                : \"\"}\n              <mwc-ripple></mwc-ripple>\n            </div>\n          `\n      );\n    }\n  );\n\n  protected updated(changedProperties: PropertyValues) {\n    super.updated(changedProperties);\n    if (changedProperties.has(\"route\")) {\n      this._activeTab = this.tabs.find((tab) =>\n        `${this.route.prefix}${this.route.path}`.includes(tab.path)\n      );\n    }\n  }\n\n  protected render(): TemplateResult {\n    const tabs = this._getTabs(\n      this.tabs,\n      this._activeTab,\n      this.hass.userData?.showAdvanced,\n      this.hass.config.components,\n      this.hass.language,\n      this.narrow\n    );\n\n    return html`\n      <div class=\"toolbar\">\n        ${this.mainPage\n          ? html`\n              <ha-menu-button\n                .hassio=${this.hassio}\n                .hass=${this.hass}\n                .narrow=${this.narrow}\n              ></ha-menu-button>\n            `\n          : html`\n              <ha-icon-button-arrow-prev\n                aria-label=\"Back\"\n                @click=${this._backTapped}\n              ></ha-icon-button-arrow-prev>\n            `}\n        ${this.narrow\n          ? html` <div class=\"main-title\"><slot name=\"header\"></slot></div> `\n          : \"\"}\n        ${tabs.length > 1 || !this.narrow\n          ? html`\n              <div id=\"tabbar\" class=${classMap({ \"bottom-bar\": this.narrow })}>\n                ${tabs}\n              </div>\n            `\n          : \"\"}\n        <div id=\"toolbar-icon\">\n          <slot name=\"toolbar-icon\"></slot>\n        </div>\n      </div>\n      <div class=\"content\">\n        <slot></slot>\n      </div>\n    `;\n  }\n\n  private _tabTapped(ev: MouseEvent): void {\n    navigate(this, (ev.currentTarget as any).path, true);\n  }\n\n  private _backTapped(): void {\n    if (this.backPath) {\n      navigate(this, this.backPath);\n      return;\n    }\n    if (this.backCallback) {\n      this.backCallback();\n      return;\n    }\n    history.back();\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        display: block;\n        height: 100%;\n        background-color: var(--primary-background-color);\n      }\n\n      ha-menu-button {\n        margin-right: 24px;\n      }\n\n      .toolbar {\n        display: flex;\n        align-items: center;\n        font-size: 20px;\n        height: 65px;\n        background-color: var(--sidebar-background-color);\n        font-weight: 400;\n        color: var(--sidebar-text-color);\n        border-bottom: 1px solid var(--divider-color);\n        padding: 0 16px;\n        box-sizing: border-box;\n      }\n\n      #tabbar {\n        display: flex;\n        font-size: 14px;\n      }\n\n      #tabbar.bottom-bar {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        padding: 0 16px;\n        box-sizing: border-box;\n        background-color: var(--sidebar-background-color);\n        border-top: 1px solid var(--divider-color);\n        justify-content: space-between;\n        z-index: 1;\n        font-size: 12px;\n        width: 100%;\n      }\n\n      #tabbar:not(.bottom-bar) {\n        flex: 1;\n        justify-content: center;\n      }\n\n      .tab {\n        padding: 0 32px;\n        display: flex;\n        flex-direction: column;\n        text-align: center;\n        align-items: center;\n        justify-content: center;\n        height: 64px;\n        cursor: pointer;\n      }\n\n      .name {\n        white-space: nowrap;\n      }\n\n      .tab.active {\n        color: var(--primary-color);\n      }\n\n      #tabbar:not(.bottom-bar) .tab.active {\n        border-bottom: 2px solid var(--primary-color);\n      }\n\n      .bottom-bar .tab {\n        padding: 0 16px;\n        width: 20%;\n        min-width: 0;\n      }\n\n      :host(:not([narrow])) #toolbar-icon {\n        min-width: 40px;\n      }\n\n      ha-menu-button,\n      ha-icon-button-arrow-prev,\n      ::slotted([slot=\"toolbar-icon\"]) {\n        flex-shrink: 0;\n        pointer-events: auto;\n        color: var(--sidebar-icon-color);\n      }\n\n      .main-title {\n        flex: 1;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        max-height: 40px;\n        line-height: 20px;\n      }\n\n      .content {\n        position: relative;\n        width: 100%;\n        height: calc(100% - 65px);\n        overflow-y: auto;\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n      }\n\n      :host([narrow]) .content {\n        height: calc(100% - 128px);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-tabs-subpage\": HassTabsSubpage;\n  }\n}\n","import { HomeAssistant } from \"../../types\";\n\n/** Return if a component is loaded. */\nexport const isComponentLoaded = (\n  hass: HomeAssistant,\n  component: string\n): boolean => hass && hass.config.components.indexOf(component) !== -1;\n","import { html, LitElement } from \"lit-element\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport \"./ha-progress-button\";\n\nclass HaCallApiButton extends LitElement {\n  render() {\n    return html`\n      <ha-progress-button\n        .progress=\"${this.progress}\"\n        @click=\"${this._buttonTapped}\"\n        ?disabled=\"${this.disabled}\"\n        ><slot></slot\n      ></ha-progress-button>\n    `;\n  }\n\n  constructor() {\n    super();\n    this.method = \"POST\";\n    this.data = {};\n    this.disabled = false;\n    this.progress = false;\n  }\n\n  static get properties() {\n    return {\n      hass: {},\n      progress: Boolean,\n      path: String,\n      method: String,\n      data: {},\n      disabled: Boolean,\n    };\n  }\n\n  get progressButton() {\n    return this.renderRoot.querySelector(\"ha-progress-button\");\n  }\n\n  async _buttonTapped() {\n    this.progress = true;\n    const eventData = {\n      method: this.method,\n      path: this.path,\n      data: this.data,\n    };\n\n    try {\n      const resp = await this.hass.callApi(this.method, this.path, this.data);\n      this.progress = false;\n      this.progressButton.actionSuccess();\n      eventData.success = true;\n      eventData.response = resp;\n    } catch (err) {\n      this.progress = false;\n      this.progressButton.actionError();\n      eventData.success = false;\n      eventData.response = err;\n    }\n\n    fireEvent(this, \"hass-api-called\", eventData);\n  }\n}\n\ncustomElements.define(\"ha-call-api-button\", HaCallApiButton);\n","import { LocalizeFunc } from \"../translations/localize\";\n\n/**\n * Calculate a string representing a date object as relative time from now.\n *\n * Example output: 5 minutes ago, in 3 days.\n */\nconst tests = [60, 60, 24, 7];\nconst langKey = [\"second\", \"minute\", \"hour\", \"day\"];\n\nexport default function relativeTime(\n  dateObj: Date,\n  localize: LocalizeFunc,\n  options: {\n    compareTime?: Date;\n    includeTense?: boolean;\n  } = {}\n): string {\n  const compareTime = options.compareTime || new Date();\n  let delta = (compareTime.getTime() - dateObj.getTime()) / 1000;\n  const tense = delta >= 0 ? \"past\" : \"future\";\n  delta = Math.abs(delta);\n\n  let timeDesc;\n\n  for (let i = 0; i < tests.length; i++) {\n    if (delta < tests[i]) {\n      delta = Math.floor(delta);\n      timeDesc = localize(\n        `ui.components.relative_time.duration.${langKey[i]}`,\n        \"count\",\n        delta\n      );\n      break;\n    }\n\n    delta /= tests[i];\n  }\n\n  if (timeDesc === undefined) {\n    delta = Math.floor(delta);\n    timeDesc = localize(\n      \"ui.components.relative_time.duration.week\",\n      \"count\",\n      delta\n    );\n  }\n\n  return options.includeTense === false\n    ? timeDesc\n    : localize(`ui.components.relative_time.${tense}`, \"time\", timeDesc);\n}\n","import { dedupingMixin } from \"@polymer/polymer/lib/utils/mixin\";\n/**\n * Polymer Mixin to enable a localize function powered by language/resources from hass object.\n *\n * @polymerMixin\n */\nexport default dedupingMixin(\n  (superClass) =>\n    class extends superClass {\n      static get properties() {\n        return {\n          hass: Object,\n\n          /**\n           * Translates a string to the current `language`. Any parameters to the\n           * string should be passed in order, as follows:\n           * `localize(stringKey, param1Name, param1Value, param2Name, param2Value)`\n           */\n          localize: {\n            type: Function,\n            computed: \"__computeLocalize(hass.localize)\",\n          },\n        };\n      }\n\n      __computeLocalize(localize) {\n        return localize;\n      }\n    }\n);\n","import { dom } from \"@polymer/polymer/lib/legacy/polymer.dom\";\n/* eslint-plugin-disable lit */\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\nimport relativeTime from \"../common/datetime/relative_time\";\nimport LocalizeMixin from \"../mixins/localize-mixin\";\n\n/*\n * @appliesMixin LocalizeMixin\n */\nclass HaRelativeTime extends LocalizeMixin(PolymerElement) {\n  static get properties() {\n    return {\n      hass: Object,\n      datetime: {\n        type: String,\n        observer: \"datetimeChanged\",\n      },\n\n      datetimeObj: {\n        type: Object,\n        observer: \"datetimeObjChanged\",\n      },\n\n      parsedDateTime: Object,\n    };\n  }\n\n  constructor() {\n    super();\n    this.updateRelative = this.updateRelative.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // update every 60 seconds\n    this.updateInterval = setInterval(this.updateRelative, 60000);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    clearInterval(this.updateInterval);\n  }\n\n  datetimeChanged(newVal) {\n    this.parsedDateTime = newVal ? new Date(newVal) : null;\n\n    this.updateRelative();\n  }\n\n  datetimeObjChanged(newVal) {\n    this.parsedDateTime = newVal;\n\n    this.updateRelative();\n  }\n\n  updateRelative() {\n    const root = dom(this);\n    if (!this.parsedDateTime) {\n      root.innerHTML = this.localize(\"ui.components.relative_time.never\");\n    } else {\n      root.innerHTML = relativeTime(this.parsedDateTime, this.localize);\n    }\n  }\n}\n\ncustomElements.define(\"ha-relative-time\", HaRelativeTime);\n","import { mdiHelpCircle } from \"@mdi/js\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport \"../../../src/components/ha-relative-time\";\nimport \"../../../src/components/ha-svg-icon\";\nimport { HomeAssistant } from \"../../../src/types\";\n\n@customElement(\"hassio-card-content\")\nclass HassioCardContent extends LitElement {\n  @property() public hass!: HomeAssistant;\n\n  @property() public title!: string;\n\n  @property() public description?: string;\n\n  @property({ type: Boolean }) public available = true;\n\n  @property({ type: Boolean }) public showTopbar = false;\n\n  @property() public topbarClass?: string;\n\n  @property() public datetime?: string;\n\n  @property() public iconTitle?: string;\n\n  @property() public iconClass?: string;\n\n  @property() public icon = mdiHelpCircle;\n\n  @property() public iconImage?: string;\n\n  protected render(): TemplateResult {\n    return html`\n      ${this.showTopbar\n        ? html` <div class=\"topbar ${this.topbarClass}\"></div> `\n        : \"\"}\n      ${this.iconImage\n        ? html`\n            <div class=\"icon_image ${this.iconClass}\">\n              <img src=\"${this.iconImage}\" title=\"${this.iconTitle}\" />\n              <div></div>\n            </div>\n          `\n        : html`\n            <ha-svg-icon\n              class=${this.iconClass}\n              .path=${this.icon}\n              .title=${this.iconTitle}\n            ></ha-svg-icon>\n          `}\n      <div>\n        <div class=\"title\">\n          ${this.title}\n        </div>\n        <div class=\"addition\">\n          ${this.description}\n          ${/* treat as available when undefined */\n          this.available === false ? \" (Not available)\" : \"\"}\n          ${this.datetime\n            ? html`\n                <ha-relative-time\n                  .hass=${this.hass}\n                  class=\"addition\"\n                  .datetime=${this.datetime}\n                ></ha-relative-time>\n              `\n            : undefined}\n        </div>\n      </div>\n    `;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      ha-svg-icon {\n        margin-right: 24px;\n        margin-left: 8px;\n        margin-top: 12px;\n        float: left;\n        color: var(--secondary-text-color);\n      }\n      ha-svg-icon.update {\n        color: var(--paper-orange-400);\n      }\n      ha-svg-icon.running,\n      ha-svg-icon.installed {\n        color: var(--paper-green-400);\n      }\n      ha-svg-icon.hassupdate,\n      ha-svg-icon.snapshot {\n        color: var(--paper-item-icon-color);\n      }\n      ha-svg-icon.not_available {\n        color: var(--google-red-500);\n      }\n      .title {\n        color: var(--primary-text-color);\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n      .addition {\n        color: var(--secondary-text-color);\n        overflow: hidden;\n        position: relative;\n        height: 2.4em;\n        line-height: 1.2em;\n      }\n      ha-relative-time {\n        display: block;\n      }\n      .icon_image img {\n        max-height: 40px;\n        max-width: 40px;\n        margin-top: 4px;\n        margin-right: 16px;\n        float: left;\n      }\n      .icon_image.stopped,\n      .icon_image.not_available {\n        filter: grayscale(1);\n      }\n      .dot {\n        position: absolute;\n        background-color: var(--paper-orange-400);\n        width: 12px;\n        height: 12px;\n        top: 8px;\n        right: 8px;\n        border-radius: 50%;\n      }\n      .topbar {\n        position: absolute;\n        width: 100%;\n        height: 2px;\n        top: 0;\n        left: 0;\n        border-top-left-radius: 2px;\n        border-top-right-radius: 2px;\n      }\n      .topbar.installed {\n        background-color: var(--primary-color);\n      }\n      .topbar.update {\n        background-color: var(--accent-color);\n      }\n      .topbar.unavailable {\n        background-color: var(--error-color);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-card-content\": HassioCardContent;\n  }\n}\n","import \"@material/mwc-icon-button\";\nimport {\n  customElement,\n  html,\n  TemplateResult,\n  property,\n  LitElement,\n  CSSResult,\n  css,\n} from \"lit-element\";\nimport \"./ha-icon\";\n\n@customElement(\"ha-icon-button\")\nexport class HaIconButton extends LitElement {\n  @property({ type: Boolean, reflect: true }) disabled = false;\n\n  @property({ type: String }) icon = \"\";\n\n  @property({ type: String }) label = \"\";\n\n  protected createRenderRoot() {\n    return this.attachShadow({ mode: \"open\", delegatesFocus: true });\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <mwc-icon-button\n        .label=${this.label || this.icon}\n        ?disabled=${this.disabled}\n        @click=${this._handleClick}\n      >\n        <ha-icon .icon=${this.icon}></ha-icon>\n      </mwc-icon-button>\n    `;\n  }\n\n  private _handleClick(ev) {\n    if (this.disabled) {\n      ev.stopPropagation();\n    }\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        display: inline-block;\n        outline: none;\n      }\n      mwc-icon-button {\n        --mdc-theme-on-primary: currentColor;\n      }\n      ha-icon {\n        --ha-icon-display: inline;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-icon-button\": HaIconButton;\n  }\n}\n","import { LitElement, property, TemplateResult, html } from \"lit-element\";\nimport { mdiArrowLeft, mdiArrowRight } from \"@mdi/js\";\nimport \"@material/mwc-icon-button/mwc-icon-button\";\nimport \"./ha-svg-icon\";\n\nexport class HaIconButtonArrowPrev extends LitElement {\n  @property() private _icon = mdiArrowLeft;\n\n  public connectedCallback() {\n    super.connectedCallback();\n\n    // wait to check for direction since otherwise direction is wrong even though top level is RTL\n    setTimeout(() => {\n      this._icon =\n        window.getComputedStyle(this).direction === \"ltr\"\n          ? mdiArrowLeft\n          : mdiArrowRight;\n    }, 100);\n  }\n\n  protected render(): TemplateResult {\n    return html`<mwc-icon-button>\n      <ha-svg-icon .path=${this._icon}></ha-svg-icon>\n    </mwc-icon-button> `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-icon-button-arrow-prev\": HaIconButtonArrowPrev;\n  }\n}\n\ncustomElements.define(\"ha-icon-button-arrow-prev\", HaIconButtonArrowPrev);\n","import \"@polymer/paper-spinner/paper-spinner-lite\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  TemplateResult,\n} from \"lit-element\";\n\n@customElement(\"loading-screen\")\nclass LoadingScreen extends LitElement {\n  protected render(): TemplateResult {\n    return html` <paper-spinner-lite active></paper-spinner-lite> `;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"loading-screen\": LoadingScreen;\n  }\n}\n","import \"@material/mwc-dialog\";\nimport type { Dialog } from \"@material/mwc-dialog\";\nimport { style } from \"@material/mwc-dialog/mwc-dialog-css\";\nimport \"./ha-icon-button\";\nimport { css, CSSResult, customElement, html } from \"lit-element\";\nimport type { Constructor, HomeAssistant } from \"../types\";\nimport { mdiClose } from \"@mdi/js\";\n\nconst MwcDialog = customElements.get(\"mwc-dialog\") as Constructor<Dialog>;\n\nexport const createCloseHeading = (hass: HomeAssistant, title: string) => html`\n  ${title}\n  <mwc-icon-button\n    aria-label=${hass.localize(\"ui.dialogs.generic.close\")}\n    dialogAction=\"close\"\n    class=\"close_button\"\n  >\n    <ha-svg-icon path=${mdiClose}></ha-svg-icon>\n  </mwc-icon-button>\n`;\n\n@customElement(\"ha-dialog\")\nexport class HaDialog extends MwcDialog {\n  protected static get styles(): CSSResult[] {\n    return [\n      style,\n      css`\n        .mdc-dialog__actions {\n          justify-content: var(--justify-action-buttons, flex-end);\n        }\n        .mdc-dialog__container {\n          align-items: var(--vertial-align-dialog, center);\n        }\n        .mdc-dialog__title::before {\n          display: block;\n          height: 20px;\n        }\n        .close_button {\n          position: absolute;\n          right: 16px;\n          top: 12px;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-dialog\": HaDialog;\n  }\n}\n","export const atLeastVersion = (\n  version: string,\n  major: number,\n  minor: number\n): boolean => {\n  const [haMajor, haMinor] = version.split(\".\", 2);\n  return (\n    Number(haMajor) > major ||\n    (Number(haMajor) === major && Number(haMinor) >= minor)\n  );\n};\n","import {\n  Connection,\n  createCollection,\n  HassEntity,\n} from \"home-assistant-js-websocket\";\n\nexport interface PersitentNotificationEntity extends HassEntity {\n  notification_id?: string;\n  created_at?: string;\n  title?: string;\n  message?: string;\n}\n\nexport interface PersistentNotification {\n  created_at: string;\n  message: string;\n  notification_id: string;\n  title: string;\n  status: \"read\" | \"unread\";\n}\n\nconst fetchNotifications = (conn) =>\n  conn.sendMessagePromise({\n    type: \"persistent_notification/get\",\n  });\n\nconst subscribeUpdates = (conn, store) =>\n  conn.subscribeEvents(\n    () => fetchNotifications(conn).then((ntf) => store.setState(ntf, true)),\n    \"persistent_notifications_updated\"\n  );\n\nexport const subscribeNotifications = (\n  conn: Connection,\n  onChange: (notifications: PersistentNotification[]) => void\n) =>\n  createCollection<PersistentNotification[]>(\n    \"_ntf\",\n    fetchNotifications,\n    subscribeUpdates,\n    conn,\n    onChange\n  );\n","import { UnsubscribeFunc } from \"home-assistant-js-websocket\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport { computeDomain } from \"../common/entity/compute_domain\";\nimport { subscribeNotifications } from \"../data/persistent_notification\";\nimport { HomeAssistant } from \"../types\";\nimport \"./ha-icon-button\";\nimport { mdiMenu } from \"@mdi/js\";\n\n@customElement(\"ha-menu-button\")\nclass HaMenuButton extends LitElement {\n  @property({ type: Boolean }) public hassio = false;\n\n  @property() public narrow!: boolean;\n\n  @property() public hass!: HomeAssistant;\n\n  @property() private _hasNotifications = false;\n\n  private _alwaysVisible = false;\n\n  private _attachNotifOnConnect = false;\n\n  private _unsubNotifications?: UnsubscribeFunc;\n\n  public connectedCallback() {\n    super.connectedCallback();\n    if (this._attachNotifOnConnect) {\n      this._attachNotifOnConnect = false;\n      this._subscribeNotifications();\n    }\n  }\n\n  public disconnectedCallback() {\n    super.disconnectedCallback();\n    if (this._unsubNotifications) {\n      this._attachNotifOnConnect = true;\n      this._unsubNotifications();\n      this._unsubNotifications = undefined;\n    }\n  }\n\n  protected render(): TemplateResult {\n    const hasNotifications =\n      (this.narrow || this.hass.dockedSidebar === \"always_hidden\") &&\n      (this._hasNotifications ||\n        Object.keys(this.hass.states).some(\n          (entityId) => computeDomain(entityId) === \"configurator\"\n        ));\n    return html`\n      <mwc-icon-button\n        aria-label=${this.hass.localize(\"ui.sidebar.sidebar_toggle\")}\n        @click=${this._toggleMenu}\n      >\n        <ha-svg-icon path=${mdiMenu}></ha-svg-icon>\n      </mwc-icon-button>\n      ${hasNotifications ? html` <div class=\"dot\"></div> ` : \"\"}\n    `;\n  }\n\n  protected firstUpdated(changedProps) {\n    super.firstUpdated(changedProps);\n    if (!this.hassio) {\n      return;\n    }\n    // This component is used on Hass.io too, but Hass.io might run the UI\n    // on older frontends too, that don't have an always visible menu button\n    // in the sidebar.\n    this._alwaysVisible =\n      (Number((window.parent as any).frontendVersion) || 0) < 20190710;\n  }\n\n  protected updated(changedProps) {\n    super.updated(changedProps);\n\n    if (!changedProps.has(\"narrow\") && !changedProps.has(\"hass\")) {\n      return;\n    }\n\n    const oldHass = changedProps.get(\"hass\") as HomeAssistant | undefined;\n    const oldNarrow =\n      changedProps.get(\"narrow\") ||\n      (oldHass && oldHass.dockedSidebar === \"always_hidden\");\n    const newNarrow =\n      this.narrow || this.hass.dockedSidebar === \"always_hidden\";\n\n    if (oldNarrow === newNarrow) {\n      return;\n    }\n\n    this.style.visibility =\n      newNarrow || this._alwaysVisible ? \"initial\" : \"hidden\";\n\n    if (!newNarrow) {\n      this._hasNotifications = false;\n      if (this._unsubNotifications) {\n        this._unsubNotifications();\n        this._unsubNotifications = undefined;\n      }\n      return;\n    }\n\n    this._subscribeNotifications();\n  }\n\n  private _subscribeNotifications() {\n    this._unsubNotifications = subscribeNotifications(\n      this.hass.connection,\n      (notifications) => {\n        this._hasNotifications = notifications.length > 0;\n      }\n    );\n  }\n\n  private _toggleMenu(): void {\n    fireEvent(this, \"hass-toggle-menu\");\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        position: relative;\n      }\n      .dot {\n        pointer-events: none;\n        position: absolute;\n        background-color: var(--accent-color);\n        width: 12px;\n        height: 12px;\n        top: 9px;\n        right: 7px;\n        border-radius: 50%;\n        border: 2px solid var(--app-header-background-color);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-menu-button\": HaMenuButton;\n  }\n}\n","export const computeDomain = (entityId: string): string => {\n  return entityId.substr(0, entityId.indexOf(\".\"));\n};\n","import * as iconMetadata_ from \"../../build/mdi/iconMetadata.json\";\nimport { IconMetaFile } from \"../types.js\";\n\nexport const iconMetadata = (iconMetadata_ as any).default as IconMetaFile;\n","import \"@polymer/iron-icon/iron-icon\";\nimport { get, set, clear, Store } from \"idb-keyval\";\nimport {\n  customElement,\n  LitElement,\n  property,\n  PropertyValues,\n  html,\n  TemplateResult,\n  css,\n  CSSResult,\n} from \"lit-element\";\nimport \"./ha-svg-icon\";\nimport { debounce } from \"../common/util/debounce\";\nimport { iconMetadata } from \"../resources/icon-metadata\";\nimport { IconMeta } from \"../types\";\n\ninterface Icons {\n  [key: string]: string;\n}\n\ninterface Chunks {\n  [key: string]: Promise<Icons>;\n}\n\nconst iconStore = new Store(\"hass-icon-db\", \"mdi-icon-store\");\n\nget(\"_version\", iconStore).then((version) => {\n  if (!version) {\n    set(\"_version\", iconMetadata.version, iconStore);\n  } else if (version !== iconMetadata.version) {\n    clear(iconStore).then(() =>\n      set(\"_version\", iconMetadata.version, iconStore)\n    );\n  }\n});\n\nconst chunks: Chunks = {};\nconst MDI_PREFIXES = [\"mdi\", \"hass\", \"hassio\", \"hademo\"];\n\nlet toRead: Array<[string, (string) => void]> = [];\n\n// Queue up as many icon fetches in 1 transaction\nconst getIcon = (iconName: string) =>\n  new Promise<string>((resolve) => {\n    toRead.push([iconName, resolve]);\n\n    if (toRead.length > 1) {\n      return;\n    }\n\n    const results: Array<[(string) => void, IDBRequest]> = [];\n\n    iconStore\n      ._withIDBStore(\"readonly\", (store) => {\n        for (const [iconName_, resolve_] of toRead) {\n          results.push([resolve_, store.get(iconName_)]);\n        }\n        toRead = [];\n      })\n      .then(() => {\n        for (const [resolve_, request] of results) {\n          resolve_(request.result);\n        }\n      });\n  });\n\nconst findIconChunk = (icon): string => {\n  let lastChunk: IconMeta;\n  for (const chunk of iconMetadata.parts) {\n    if (chunk.start !== undefined && icon < chunk.start) {\n      break;\n    }\n    lastChunk = chunk;\n  }\n  return lastChunk!.file;\n};\n\nconst debouncedWriteCache = debounce(async () => {\n  const keys = Object.keys(chunks);\n  const iconsSets: Icons[] = await Promise.all(Object.values(chunks));\n  // We do a batch opening the store just once, for (considerable) performance\n  iconStore._withIDBStore(\"readwrite\", (store) => {\n    iconsSets.forEach((icons, idx) => {\n      Object.entries(icons).forEach(([name, path]) => {\n        store.put(path, name);\n      });\n      delete chunks[keys[idx]];\n    });\n  });\n}, 2000);\n\n@customElement(\"ha-icon\")\nexport class HaIcon extends LitElement {\n  @property() public icon?: string;\n\n  @property() private _path?: string;\n\n  @property() private _noMdi = false;\n\n  protected updated(changedProps: PropertyValues) {\n    if (changedProps.has(\"icon\")) {\n      this._path = undefined;\n      this._loadIcon();\n    }\n  }\n\n  protected render(): TemplateResult {\n    if (!this.icon) {\n      return html``;\n    }\n    if (this._noMdi) {\n      return html`<iron-icon .icon=${this.icon}></iron-icon>`;\n    }\n    return html`<ha-svg-icon .path=${this._path}></ha-svg-icon>`;\n  }\n\n  private async _loadIcon() {\n    if (!this.icon) {\n      return;\n    }\n    const icon = this.icon.split(\":\", 2);\n    if (!MDI_PREFIXES.includes(icon[0])) {\n      this._noMdi = true;\n      return;\n    }\n\n    this._noMdi = false;\n\n    const iconName = icon[1];\n    const cachedPath: string = await getIcon(iconName);\n    if (cachedPath) {\n      this._path = cachedPath;\n      return;\n    }\n    const chunk = findIconChunk(iconName);\n\n    if (chunk in chunks) {\n      this._setPath(chunks[chunk], iconName);\n      return;\n    }\n    const iconPromise = fetch(`/static/mdi/${chunk}.json`).then((response) =>\n      response.json()\n    );\n    chunks[chunk] = iconPromise;\n    this._setPath(iconPromise, iconName);\n    debouncedWriteCache();\n  }\n\n  private async _setPath(promise: Promise<Icons>, iconName: string) {\n    const iconPack = await promise;\n    this._path = iconPack[iconName];\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        fill: currentcolor;\n      }\n    `;\n  }\n}\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-icon\": HaIcon;\n  }\n}\n","// From: https://davidwalsh.name/javascript-debounce-function\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n// eslint-disable-next-line: ban-types\nexport const debounce = <T extends Function>(\n  func: T,\n  wait,\n  immediate = false\n): T => {\n  let timeout;\n  // @ts-ignore\n  return function (...args) {\n    // @ts-ignore\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const context = this;\n    const later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};\n"],"sourceRoot":""}