{"version":3,"sources":["webpack:///./src/resources/styles.ts","webpack:///./src/layouts/hass-subpage.ts","webpack:///./src/components/ha-paper-icon-button-arrow-prev.ts","webpack:///./src/layouts/hass-loading-screen.ts","webpack:///./src/common/dom/fire_event.ts","webpack:///./src/components/buttons/ha-progress-button.js","webpack:///./src/data/hassio/snapshot.ts","webpack:///./src/data/hassio/hardware.ts","webpack:///./hassio/src/dialogs/markdown/show-dialog-hassio-markdown.ts","webpack:///./hassio/src/ansi-to-html.ts","webpack:///./src/dialogs/generic/show-dialog-box.ts","webpack:///./hassio/src/resources/hassio-style.ts","webpack:///./src/resources/ha-style.ts","webpack:///./src/common/dom/apply_themes_on_element.ts","webpack:///./src/layouts/hass-error-screen.ts","webpack:///./src/layouts/hass-router-page.ts","webpack:///./src/data/hassio/host.ts","webpack:///./src/dialogs/make-dialog-manager.ts","webpack:///./src/mixins/provide-hass-lit-mixin.ts","webpack:///./hassio/src/dashboard/hassio-addons.ts","webpack:///./hassio/src/dashboard/hassio-update.ts","webpack:///./hassio/src/dashboard/hassio-dashboard.ts","webpack:///./hassio/src/snapshots/hassio-snapshots.ts","webpack:///./hassio/src/dialogs/snapshot/show-dialog-hassio-snapshot.ts","webpack:///./hassio/src/addon-store/hassio-addon-repository.ts","webpack:///./hassio/src/components/hassio-filter-addons.ts","webpack:///./hassio/src/addon-store/hassio-repositories-editor.ts","webpack:///./src/layouts/loading-screen.ts","webpack:///./hassio/src/components/hassio-search-input.ts","webpack:///./hassio/src/addon-store/hassio-addon-store.ts","webpack:///./hassio/src/system/hassio-host-info.ts","webpack:///./hassio/src/system/hassio-supervisor-info.ts","webpack:///./hassio/src/system/hassio-supervisor-log.ts","webpack:///./hassio/src/system/hassio-system.ts","webpack:///./hassio/src/hassio-tabs-router.ts","webpack:///./hassio/src/hassio-pages-with-tabs.ts","webpack:///./src/common/dom/scroll-to-target.ts","webpack:///./hassio/src/hassio-main.ts","webpack:///./src/data/hassio/addon.ts","webpack:///./src/common/navigate.ts","webpack:///./src/common/datetime/relative_time.ts","webpack:///./src/mixins/localize-mixin.js","webpack:///./src/components/ha-relative-time.js","webpack:///./hassio/src/components/hassio-card-content.ts","webpack:///./src/data/hassio/common.ts","webpack:///./src/components/buttons/ha-call-api-button.js","webpack:///./src/data/hassio/supervisor.ts","webpack:///./src/common/config/version.ts","webpack:///./src/data/persistent_notification.ts","webpack:///./src/components/ha-menu-button.ts","webpack:///./src/common/entity/compute_domain.ts"],"names":["derivedStyles","paper-spinner-color","error-state-color","state-icon-unavailable-color","sidebar-text-color","sidebar-background-color","sidebar-selected-text-color","sidebar-selected-icon-color","sidebar-icon-color","switch-checked-color","switch-checked-button-color","switch-checked-track-color","switch-unchecked-button-color","switch-unchecked-track-color","slider-color","slider-secondary-color","slider-bar-color","label-badge-grey","label-badge-background-color","label-badge-text-color","paper-card-background-color","paper-listbox-background-color","paper-item-icon-color","paper-item-icon-active-color","table-row-background-color","table-row-alternative-background-color","paper-slider-knob-color","paper-slider-knob-start-color","paper-slider-pin-color","paper-slider-active-color","paper-slider-secondary-color","paper-slider-container-color","data-table-background-color","mdc-theme-primary","mdc-theme-secondary","mdc-theme-background","mdc-theme-surface","mdc-theme-on-primary","mdc-theme-on-secondary","mdc-theme-on-surface","app-header-text-color","app-header-background-color","material-body-text-color","material-background-color","material-secondary-background-color","haStyle","css","_templateObject","haStyleDialog","_templateObject2","customElement","property","type","Boolean","html","this","hassio","_backTapped","classMap","hidden","showBackButton","header","history","back","LitElement","paperIconButtonClass","customElements","get","HaPaperIconButtonArrowPrev","_paperIconButtonClass","_getPrototypeOf2","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_getPrototypeOf","call","apply","concat","_assertThisInitialized","_inherits","key","value","_this2","_get","prototype","setTimeout","icon","window","getComputedStyle","direction","define","rootnav","hass","narrow","_templateObject3","_handleBack","_templateObject4","__webpack_require__","d","__webpack_exports__","fireEvent","node","detail","options","event","Event","bubbles","undefined","cancelable","composed","dispatchEvent","HaProgressButton","PolymerElement","Object","progress","disabled","className","classList","$","container","add","remove","addEventListener","ev","buttonTapped","stopPropagation","tempClass","fetchHassioSnapshots","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","t0","hassioApiResultExtractor","callApi","t1","sent","abrupt","snapshots","stop","_x","fetchHassioSnapshotInfo","_ref2","_callee2","snapshot","_context2","_x2","_x3","reloadHassioSnapshots","_ref3","_callee3","_context3","_x4","createHassioFullSnapshot","_ref4","_callee4","data","_context4","_x5","_x6","createHassioPartialSnapshot","_ref5","_callee5","_context5","_x7","_x8","fetchHassioHardwareAudio","fetchHassioHardwareInfo","showHassioMarkdownDialog","_src_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__","element","dialogParams","dialogTag","dialogImport","e","then","bind","ANSI_HTML_STYLE","parseTextToColoredPre","text","match","pre","document","createElement","re","i","state","bold","italic","underline","strikethrough","foregroundColor","backgroundColor","addSpan","content","span","appendChild","createTextNode","exec","j","index","substring","split","forEach","colorCode","parseInt","showAlertDialog","showConfirmationDialog","_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__","loadGenericDialog","Promise","all","showDialogHelper","extra","resolve","origCancel","cancel","origConfirm","confirm","assign","prompt","out","confirmation","hassioStyle","documentContainer","setAttribute","innerHTML","entries","map","_slicedToArray","join","cssText","head","PROCESSED_THEMES","processTheme","themeName","themes","checkHex","result","theme","styles","keys","_i","_Object$keys","prefixedKey","startsWith","rgbKey","rgbValue","replace","_m","r","g","b","prefixedRgbKey","error","HassRouterPage","hass_router_page_decorate","_initialize","_UpdatingElement","_UpdatingElement2","hass_router_page_classCallCheck","hass_router_page_getPrototypeOf","hass_router_page_assertThisInitialized","hass_router_page_inherits","F","kind","decorators","memoizeOne","route","dividerPos","path","indexOf","prefix","substr","changedProps","routerOptions","routes","initialLoad","_initialLoadDone","has","defaultPage","navigate","newPage","subpathStart","extractPage","routeOptions","beforeRender","_currentPage","lastChild","removeChild","loadProm","load","err","console","errorEl","showLoading","created","createLoadingScreen","_currentLoadProm","_createPanel","updatePageEl","_this3","preloadAll","values","hass_router_page_typeof","requestUpdate","_rebuild","oldRoute","updateComplete","_this4","tag","_pageEl","_changedProps","_computeTail","page","panelEl","_cache","cacheAll","cache","UpdatingElement","fetchHassioHostInfo","host_asyncToGenerator","response","fetchHassioHassOsInfo","LOADED","showDialog","make_dialog_manager_asyncToGenerator","root","dialogEl","provideHass","hassio_addons_templateObject","addons","sort","a","name","addon","_addonTapped","description","installed","version","atLeastVersion","config","slug","hassio_addons_templateObject2","_openStore","currentTarget","hassio_update_decorate","_LitElement","_LitElement2","HassioUpdate","hassio_update_classCallCheck","hassio_update_getPrototypeOf","hassio_update_assertThisInitialized","hassio_update_inherits","updatesAvailable","hassInfo","supervisorInfo","hassOsInfo","filter","version_latest","hassio_update_templateObject2","_error","hassio_update_templateObject3","_renderUpdateCard","includes","hassio_update_templateObject","curVersion","lastVersion","apiPath","releaseNotesUrl","_templateObject5","_templateObject6","_apiCalled","hassio_update_templateObject4","success","hassio_update_typeof","body","message","static","_templateObject7","hassio_dashboard_templateObject","hassio_dashboard_templateObject2","HassioSnapshots","checked","_updateSnapshots","hassio_snapshots_templateObject","_snapshotName","_handleTextValueChanged","_snapshotType","_handleRadioValueChanged","hassio_snapshots_templateObject2","_folderList","folder","idx","hassio_snapshots_templateObject3","_folderChecked","_addonList","hassio_snapshots_templateObject4","_addonChecked","_snapshotHasPassword","_handleCheckboxValueChanged","hassio_snapshots_templateObject5","_snapshotPassword","hassio_snapshots_templateObject6","_creatingSnapshot","_createSnapshot","_snapshots","hassio_snapshots_templateObject7","_templateObject8","_snapshotClicked","_computeDetails","date","hassio_snapshots_get","hassio_snapshots_getPrototypeOf","input","getAttribute","curIdx","folders","_data","Date","toLocaleDateString","navigator","language","weekday","year","month","day","password","finish","onDelete","_templateObject9","HassioAddonRepositoryEl","Fuse","caseSensitive","minMatchCharLength","threshold","search","filterAndSort","toUpperCase","repo","_getAddons","hassio_addon_repository_templateObject","hassio_addon_repository_templateObject2","maintainer","url","_this2$hass$userData","hassio_addon_repository_templateObject3","advanced","userData","showAdvanced","hassio_addon_repository_templateObject4","available","hassio_addon_repository_templateObject5","HassioRepositoriesEditor","repos","_sortedRepos","hassio_repositories_editor_templateObject","repeat","hassio_repositories_editor_templateObject2","computeRemoveRepoData","_repoUrl","_urlChanged","computeAddRepoData","hassio_repositories_editor_get","hassio_repositories_editor_getPrototypeOf","repoList","addons_repositories","source","list","push","hassio_repositories_editor_templateObject3","loading_screen_templateObject","loading_screen_templateObject2","hassio_search_input_templateObject","_filterInputChanged","hassio_search_input_templateObject2","_clearSearch","String","_filterChanged","target","hassio_search_input_templateObject3","sortRepos","HassioAddonStore","_repos","_addons","_filter","reloadHassioAddons","_loadData","hassio_addon_store_templateObject","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","repository","hassio_addon_store_templateObject3","_iterator","Symbol","iterator","done","hassio_addon_store_templateObject2","hassio_addon_store_get","hassio_addon_store_getPrototypeOf","apiCalled","addonsInfo","fetchHassioAddonsInfo","repositories","alert","hassio_addon_store_templateObject4","hassio_host_info_templateObject","hostInfo","hostname","operating_system","deployment","hassio_host_info_templateObject2","_showHardware","features","hassio_host_info_templateObject3","_changeHostnameClicked","_errors","hassio_host_info_templateObject4","hassio_host_info_templateObject5","hassio_host_info_templateObject6","hassio_host_info_templateObject7","hassio_host_info_templateObject8","hassio_host_info_templateObject9","hassio_host_info_typeof","_objectToMarkdown","title","t2","obj","indent","isArray","curHostname","hassio_supervisor_info_templateObject","channel","hassio_supervisor_info_templateObject2","hassio_supervisor_info_templateObject3","hassio_supervisor_info_templateObject4","hassio_supervisor_info_templateObject5","hassio_supervisor_info_templateObject6","_joinBeta","hassio_supervisor_info_templateObject7","hassio_supervisor_info_typeof","eventdata","_err$body","setSupervisorOption","HassioSupervisorLog","query","hassio_supervisor_log_get","hassio_supervisor_log_getPrototypeOf","hassio_supervisor_log_templateObject","hassio_supervisor_log_templateObject2","_refresh","hassio_supervisor_log_templateObject3","fetchSupervisorLogs","_logContent","hassio_system_templateObject","hassio_system_templateObject2","dashboard","store","system","el","setProperties","HAS_REFRESH_BUTTON","_page","hassio_pages_with_tabs_templateObject","hassio_pages_with_tabs_templateObject2","refreshClicked","handlePageSelected","scroller","animationId","startTime","currentScrollTop","deltaScrollTop","item","shadowRoot","querySelector","scrollTarget","Math","random","now","scrollTop","_currentAnimationId","updateFrame","t","elapsedTime","requestAnimationFrame","refreshData","hassio_pages_with_tabs_templateObject3","_keyBindings","superClass","HassioMain","_fetchData","ingress","hassio_main_get","hassio_main_getPrototypeOf","selectedTheme","newTheme","_themes","updateStyles","ShadyCSS","styleSubtree","applyThemesOnElement","parentElement","default_theme","parent","customPanel","dockedSidebar","_e$detail","nodeName","routeTail","_supervisorInfo","_hostInfo","_hassInfo","_hassOsInfo","panel","_redirectIngress","fetchHassioSupervisorInfo","fetchHassioHomeAssistantInfo","hassio_main_slicedToArray","addonSlug","awaitAlert","createSessionPromise","hassio_main_asyncToGenerator","alertParams","action","createHassioSession","fetchHassioAddonInfo","ingress_url","location","_this5","tries","tryUpdate","min","_superClass","_temp","provide_hass_lit_mixin_classCallCheck","provide_hass_lit_mixin_getPrototypeOf","_defineProperty","provide_hass_lit_mixin_assertThisInitialized","provide_hass_lit_mixin_inherits","__provideHass","provide_hass_lit_mixin_get","fetchHassioAddonChangelog","fetchHassioAddonLogs","setHassioAddonOption","_ref6","_callee6","_context6","_x9","_x10","_x11","setHassioAddonSecurity","_ref7","_callee7","_context7","_x12","_x13","_x14","installHassioAddon","_ref8","_callee8","_context8","_x15","_x16","uninstallHassioAddon","_ref9","_callee9","_context9","_x17","_x18","_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__","_node","replaceState","pushState","tests","langKey","dedupingMixin","_class","_possibleConstructorReturn","localize","Function","computed","HaRelativeTime","ha_relative_time_classCallCheck","ha_relative_time_getPrototypeOf","updateRelative","ha_relative_time_assertThisInitialized","LocalizeMixin","datetime","observer","datetimeObj","parsedDateTime","updateInterval","setInterval","clearInterval","newVal","dom","dateObj","timeDesc","delta","compareTime","getTime","tense","abs","floor","includeTense","relativeTime","showTopbar","topbarClass","iconImage","iconClass","iconTitle","HaCallApiButton","method","_buttonTapped","eventData","resp","progressButton","actionSuccess","actionError","renderRoot","cookie","session","major","minor","_version$split2","haMajor","haMinor","Number","fetchNotifications","conn","sendMessagePromise","subscribeUpdates","subscribeEvents","ntf","setState","HaMenuButton","_attachNotifOnConnect","_subscribeNotifications","_unsubNotifications","hasNotifications","_hasNotifications","states","some","entityId","computeDomain","_toggleMenu","_alwaysVisible","frontendVersion","oldHass","oldNarrow","newNarrow","style","visibility","onChange","connection","notifications","createCollection"],"mappings":"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","file":"chunk.05403bc1774dc39117f6.js","sourcesContent":["import { css } from \"lit-element\";\n\nexport const derivedStyles = {\n  \"paper-spinner-color\": \"var(--primary-color)\",\n  \"error-state-color\": \"var(--error-color)\",\n  \"state-icon-unavailable-color\": \"var(--disabled-text-color)\",\n  \"sidebar-text-color\": \"var(--primary-text-color)\",\n  \"sidebar-background-color\": \"var(--paper-listbox-background-color);\",\n  \"sidebar-selected-text-color\": \"var(--primary-color)\",\n  \"sidebar-selected-icon-color\": \"var(--primary-color)\",\n  \"sidebar-icon-color\": \"rgba(var(--rgb-primary-text-color), 0.6)\",\n  \"switch-checked-color\": \"var(--primary-color)\",\n  \"switch-checked-button-color\":\n    \"var(--switch-checked-color, var(--primary-background-color))\",\n  \"switch-checked-track-color\": \"var(--switch-checked-color, #000000)\",\n  \"switch-unchecked-button-color\":\n    \"var(--switch-unchecked-color, var(--primary-background-color))\",\n  \"switch-unchecked-track-color\": \"var(--switch-unchecked-color, #000000)\",\n  \"slider-color\": \"var(--primary-color)\",\n  \"slider-secondary-color\": \"var(--light-primary-color)\",\n  \"slider-bar-color\": \"var(--disabled-text-color)\",\n  \"label-badge-grey\": \"var(--paper-grey-500)\",\n  \"label-badge-background-color\": \"var(--card-background-color)\",\n  \"label-badge-text-color\": \"rgba(var(--rgb-primary-text-color), 0.8)\",\n  \"paper-card-background-color\": \"var(--card-background-color)\",\n  \"paper-listbox-background-color\": \"var(--card-background-color)\",\n  \"paper-item-icon-color\": \"var(--state-icon-color)\",\n  \"paper-item-icon-active-color\": \"var(--state-icon-active-color)\",\n  \"table-row-background-color\": \"var(--primary-background-color)\",\n  \"table-row-alternative-background-color\": \"var(--secondary-background-color)\",\n  \"paper-slider-knob-color\": \"var(--slider-color)\",\n  \"paper-slider-knob-start-color\": \"var(--slider-color)\",\n  \"paper-slider-pin-color\": \"var(--slider-color)\",\n  \"paper-slider-active-color\": \"var(--slider-color)\",\n  \"paper-slider-secondary-color\": \"var(--slider-secondary-color)\",\n  \"paper-slider-container-color\": \"var(--slider-bar-color)\",\n  \"data-table-background-color\": \"var(--card-background-color)\",\n  \"mdc-theme-primary\": \"var(--primary-color)\",\n  \"mdc-theme-secondary\": \"var(--accent-color)\",\n  \"mdc-theme-background\": \"var(--primary-background-color)\",\n  \"mdc-theme-surface\": \"var(--card-background-color)\",\n  \"mdc-theme-on-primary\": \"var(--text-primary-color)\",\n  \"mdc-theme-on-secondary\": \"var(--text-primary-color)\",\n  \"mdc-theme-on-surface\": \"var(--primary-text-color)\",\n  \"app-header-text-color\": \"var(--text-primary-color)\",\n  \"app-header-background-color\": \"var(--primary-color)\",\n  \"material-body-text-color\": \"var(--primary-text-color)\",\n  \"material-background-color\": \"var(--card-background-color)\",\n  \"material-secondary-background-color\": \"var(--secondary-background-color)\",\n};\n\nexport const haStyle = css`\n  :host {\n    @apply --paper-font-body1;\n  }\n\n  app-header-layout,\n  ha-app-layout {\n    background-color: var(--primary-background-color);\n  }\n\n  app-header,\n  app-toolbar {\n    background-color: var(--app-header-background-color);\n    font-weight: 400;\n    color: var(--app-header-text-color, white);\n  }\n\n  app-toolbar ha-menu-button + [main-title],\n  app-toolbar ha-paper-icon-button-arrow-prev + [main-title],\n  app-toolbar paper-icon-button + [main-title] {\n    margin-left: 24px;\n  }\n\n  h1 {\n    @apply --paper-font-title;\n  }\n\n  .secondary {\n    color: var(--secondary-text-color);\n  }\n\n  .error {\n    color: var(--google-red-500);\n  }\n\n  .warning {\n    color: var(--google-red-500);\n  }\n\n  mwc-button.warning {\n    --mdc-theme-primary: var(--google-red-500);\n  }\n\n  button.link {\n    background: none;\n    color: inherit;\n    border: none;\n    padding: 0;\n    font: inherit;\n    text-align: left;\n    text-decoration: underline;\n    cursor: pointer;\n  }\n\n  .card-actions a {\n    text-decoration: none;\n  }\n\n  .card-actions .warning {\n    --mdc-theme-primary: var(--google-red-500);\n  }\n\n  .layout.horizontal,\n  .layout.vertical {\n    display: flex;\n  }\n  .layout.inline {\n    display: inline-flex;\n  }\n  .layout.horizontal {\n    flex-direction: row;\n  }\n  .layout.vertical {\n    flex-direction: column;\n  }\n  .layout.wrap {\n    flex-wrap: wrap;\n  }\n  .layout.no-wrap {\n    flex-wrap: nowrap;\n  }\n  .layout.center,\n  .layout.center-center {\n    align-items: center;\n  }\n  .layout.bottom {\n    align-items: flex-end;\n  }\n  .layout.center-justified,\n  .layout.center-center {\n    justify-content: center;\n  }\n  .flex {\n    flex: 1;\n    flex-basis: 0.000000001px;\n  }\n  .flex-auto {\n    flex: 1 1 auto;\n  }\n  .flex-none {\n    flex: none;\n  }\n  .layout.justified {\n    justify-content: space-between;\n  }\n`;\n\nexport const haStyleDialog = css`\n  /* prevent clipping of positioned elements */\n  paper-dialog-scrollable {\n    --paper-dialog-scrollable: {\n      -webkit-overflow-scrolling: auto;\n    }\n  }\n\n  /* force smooth scrolling for iOS 10 */\n  paper-dialog-scrollable.can-scroll {\n    --paper-dialog-scrollable: {\n      -webkit-overflow-scrolling: touch;\n    }\n  }\n\n  .paper-dialog-buttons {\n    align-items: flex-end;\n    padding: 8px;\n  }\n\n  @media all and (min-width: 450px) {\n    ha-paper-dialog {\n      min-width: 400px;\n    }\n  }\n\n  @media all and (max-width: 450px), all and (max-height: 500px) {\n    paper-dialog,\n    ha-paper-dialog {\n      margin: 0;\n      width: 100% !important;\n      max-height: calc(100% - 64px);\n\n      position: fixed !important;\n      bottom: 0px;\n      left: 0px;\n      right: 0px;\n      overflow: scroll;\n      border-bottom-left-radius: 0px;\n      border-bottom-right-radius: 0px;\n    }\n  }\n\n  /* mwc-dialog (ha-dialog) styles */\n  ha-dialog {\n    --mdc-dialog-min-width: 400px;\n    --mdc-dialog-max-width: 600px;\n    --mdc-dialog-heading-ink-color: var(--primary-text-color);\n    --mdc-dialog-content-ink-color: var(--primary-text-color);\n    --justify-action-buttons: space-between;\n  }\n\n  ha-dialog .form {\n    padding-bottom: 24px;\n    color: var(--primary-text-color);\n  }\n\n  /* make dialog fullscreen on small screens */\n  @media all and (max-width: 450px), all and (max-height: 500px) {\n    ha-dialog {\n      --mdc-dialog-min-width: 100vw;\n      --mdc-dialog-max-height: 100vh;\n      --mdc-dialog-shape-radius: 0px;\n      --vertial-align-dialog: flex-end;\n    }\n  }\n  mwc-button.warning {\n    --mdc-theme-primary: var(--google-red-500);\n  }\n  .error {\n    color: var(--google-red-500);\n  }\n`;\n","import {\n  LitElement,\n  property,\n  TemplateResult,\n  html,\n  customElement,\n  css,\n  CSSResult,\n} from \"lit-element\";\nimport \"../components/ha-menu-button\";\nimport \"../components/ha-paper-icon-button-arrow-prev\";\nimport { classMap } from \"lit-html/directives/class-map\";\n\n@customElement(\"hass-subpage\")\nclass HassSubpage extends LitElement {\n  @property()\n  public header?: string;\n  @property({ type: Boolean })\n  public showBackButton = true;\n  @property({ type: Boolean })\n  public hassio = false;\n\n  protected render(): TemplateResult {\n    return html`\n      <div class=\"toolbar\">\n        <ha-paper-icon-button-arrow-prev\n          aria-label=\"Back\"\n          .hassio=${this.hassio}\n          @click=${this._backTapped}\n          class=${classMap({ hidden: !this.showBackButton })}\n        ></ha-paper-icon-button-arrow-prev>\n\n        <div main-title>${this.header}</div>\n        <slot name=\"toolbar-icon\"></slot>\n      </div>\n      <div class=\"content\"><slot></slot></div>\n    `;\n  }\n\n  private _backTapped(): void {\n    history.back();\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        display: block;\n        height: 100%;\n        background-color: var(--primary-background-color);\n      }\n\n      .toolbar {\n        display: flex;\n        align-items: center;\n        font-size: 20px;\n        height: 65px;\n        padding: 0 16px;\n        pointer-events: none;\n        background-color: var(--app-header-background-color);\n        font-weight: 400;\n        color: var(--app-header-text-color, white);\n        border-bottom: var(--app-header-border-bottom, none);\n        box-sizing: border-box;\n      }\n\n      ha-menu-button,\n      ha-paper-icon-button-arrow-prev,\n      ::slotted([slot=\"toolbar-icon\"]) {\n        pointer-events: auto;\n      }\n\n      ha-paper-icon-button-arrow-prev.hidden {\n        visibility: hidden;\n      }\n\n      [main-title] {\n        margin: 0 0 0 24px;\n        line-height: 20px;\n        flex-grow: 1;\n      }\n\n      .content {\n        position: relative;\n        width: 100%;\n        height: calc(100% - 65px);\n        overflow-y: auto;\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-subpage\": HassSubpage;\n  }\n}\n","import \"@polymer/paper-icon-button/paper-icon-button\";\nimport { Constructor } from \"../types\";\n// Not duplicate, this is for typing.\n// tslint:disable-next-line\nimport { PaperIconButtonElement } from \"@polymer/paper-icon-button/paper-icon-button\";\n\nconst paperIconButtonClass = customElements.get(\n  \"paper-icon-button\"\n) as Constructor<PaperIconButtonElement>;\n\nexport class HaPaperIconButtonArrowPrev extends paperIconButtonClass {\n  public hassio?: boolean;\n\n  public connectedCallback() {\n    super.connectedCallback();\n\n    // wait to check for direction since otherwise direction is wrong even though top level is RTL\n    setTimeout(() => {\n      this.icon =\n        window.getComputedStyle(this).direction === \"ltr\"\n          ? this.hassio\n            ? \"hassio:arrow-left\"\n            : \"hass:arrow-left\"\n          : this.hassio\n          ? \"hassio:arrow-right\"\n          : \"hass:arrow-right\";\n    }, 100);\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-paper-icon-button-arrow-prev\": HaPaperIconButtonArrowPrev;\n  }\n}\n\ncustomElements.define(\n  \"ha-paper-icon-button-arrow-prev\",\n  HaPaperIconButtonArrowPrev\n);\n","import \"@polymer/app-layout/app-toolbar/app-toolbar\";\nimport \"@polymer/paper-spinner/paper-spinner-lite\";\nimport {\n  LitElement,\n  TemplateResult,\n  html,\n  CSSResultArray,\n  css,\n  customElement,\n  property,\n} from \"lit-element\";\nimport \"../components/ha-menu-button\";\nimport \"../components/ha-paper-icon-button-arrow-prev\";\nimport { haStyle } from \"../resources/styles\";\nimport { HomeAssistant } from \"../types\";\n\n@customElement(\"hass-loading-screen\")\nclass HassLoadingScreen extends LitElement {\n  @property({ type: Boolean }) public rootnav? = false;\n  @property() public hass?: HomeAssistant;\n  @property() public narrow?: boolean;\n\n  protected render(): TemplateResult {\n    return html`\n      <app-toolbar>\n        ${this.rootnav\n          ? html`\n              <ha-menu-button\n                .hass=${this.hass}\n                .narrow=${this.narrow}\n              ></ha-menu-button>\n            `\n          : html`\n              <ha-paper-icon-button-arrow-prev\n                @click=${this._handleBack}\n              ></ha-paper-icon-button-arrow-prev>\n            `}\n      </app-toolbar>\n      <div class=\"content\">\n        <paper-spinner-lite active></paper-spinner-lite>\n      </div>\n    `;\n  }\n\n  private _handleBack() {\n    history.back();\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      haStyle,\n      css`\n        :host {\n          display: block;\n          height: 100%;\n          background-color: var(--primary-background-color);\n        }\n        .content {\n          height: calc(100% - 64px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-loading-screen\": HassLoadingScreen;\n  }\n}\n","// Polymer legacy event helpers used courtesy of the Polymer project.\n//\n// Copyright (c) 2017 The Polymer Authors. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//    * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//    * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//    * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\ndeclare global {\n  // tslint:disable-next-line\n  interface HASSDomEvents {}\n}\n\nexport type ValidHassDomEvent = keyof HASSDomEvents;\n\nexport interface HASSDomEvent<T> extends Event {\n  detail: T;\n}\n\n/**\n * Dispatches a custom event with an optional detail value.\n *\n * @param {string} type Name of event type.\n * @param {*=} detail Detail value containing event-specific\n *   payload.\n * @param {{ bubbles: (boolean|undefined),\n *           cancelable: (boolean|undefined),\n *           composed: (boolean|undefined) }=}\n *  options Object specifying options.  These may include:\n *  `bubbles` (boolean, defaults to `true`),\n *  `cancelable` (boolean, defaults to false), and\n *  `node` on which to fire the event (HTMLElement, defaults to `this`).\n * @return {Event} The new event that was fired.\n */\nexport const fireEvent = <HassEvent extends ValidHassDomEvent>(\n  node: HTMLElement | Window,\n  type: HassEvent,\n  detail?: HASSDomEvents[HassEvent],\n  options?: {\n    bubbles?: boolean;\n    cancelable?: boolean;\n    composed?: boolean;\n  }\n) => {\n  options = options || {};\n  // @ts-ignore\n  detail = detail === null || detail === undefined ? {} : detail;\n  const event = new Event(type, {\n    bubbles: options.bubbles === undefined ? true : options.bubbles,\n    cancelable: Boolean(options.cancelable),\n    composed: options.composed === undefined ? true : options.composed,\n  });\n  (event as any).detail = detail;\n  node.dispatchEvent(event);\n  return event;\n};\n","import \"@material/mwc-button\";\nimport \"@polymer/paper-spinner/paper-spinner\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nclass HaProgressButton extends PolymerElement {\n  static get template() {\n    return html`\n      <style>\n        .container {\n          position: relative;\n          display: inline-block;\n        }\n\n        mwc-button {\n          transition: all 1s;\n        }\n\n        .success mwc-button {\n          --mdc-theme-primary: white;\n          background-color: var(--google-green-500);\n          transition: none;\n        }\n\n        .error mwc-button {\n          --mdc-theme-primary: white;\n          background-color: var(--google-red-500);\n          transition: none;\n        }\n\n        .progress {\n          @apply --layout;\n          @apply --layout-center-center;\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n        }\n      </style>\n      <div class=\"container\" id=\"container\">\n        <mwc-button\n          id=\"button\"\n          disabled=\"[[computeDisabled(disabled, progress)]]\"\n          on-click=\"buttonTapped\"\n        >\n          <slot></slot>\n        </mwc-button>\n        <template is=\"dom-if\" if=\"[[progress]]\">\n          <div class=\"progress\"><paper-spinner active=\"\"></paper-spinner></div>\n        </template>\n      </div>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      progress: {\n        type: Boolean,\n        value: false,\n      },\n\n      disabled: {\n        type: Boolean,\n        value: false,\n      },\n    };\n  }\n\n  tempClass(className) {\n    var classList = this.$.container.classList;\n    classList.add(className);\n    setTimeout(() => {\n      classList.remove(className);\n    }, 1000);\n  }\n\n  ready() {\n    super.ready();\n    this.addEventListener(\"click\", (ev) => this.buttonTapped(ev));\n  }\n\n  buttonTapped(ev) {\n    if (this.progress) ev.stopPropagation();\n  }\n\n  actionSuccess() {\n    this.tempClass(\"success\");\n  }\n\n  actionError() {\n    this.tempClass(\"error\");\n  }\n\n  computeDisabled(disabled, progress) {\n    return disabled || progress;\n  }\n}\n\ncustomElements.define(\"ha-progress-button\", HaProgressButton);\n","import { HomeAssistant } from \"../../types\";\nimport { HassioResponse, hassioApiResultExtractor } from \"./common\";\n\nexport interface HassioSnapshot {\n  slug: string;\n  date: string;\n  name: string;\n  type: \"full\" | \"partial\";\n  protected: boolean;\n}\n\nexport interface HassioSnapshotDetail extends HassioSnapshot {\n  size: number;\n  homeassistant: string;\n  addons: Array<{\n    slug: \"ADDON_SLUG\";\n    name: \"NAME\";\n    version: \"INSTALLED_VERSION\";\n    size: \"SIZE_IN_MB\";\n  }>;\n  repositories: string[];\n  folders: string[];\n}\n\nexport interface HassioFullSnapshotCreateParams {\n  name: string;\n  password?: string;\n}\nexport interface HassioPartialSnapshotCreateParams {\n  name: string;\n  folders: string[];\n  addons: string[];\n  password?: string;\n}\n\nexport const fetchHassioSnapshots = async (hass: HomeAssistant) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<{ snapshots: HassioSnapshot[] }>>(\n      \"GET\",\n      \"hassio/snapshots\"\n    )\n  ).snapshots;\n};\n\nexport const fetchHassioSnapshotInfo = async (\n  hass: HomeAssistant,\n  snapshot: string\n) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<HassioSnapshotDetail>>(\n      \"GET\",\n      `hassio/snapshots/${snapshot}/info`\n    )\n  );\n};\n\nexport const reloadHassioSnapshots = async (hass: HomeAssistant) => {\n  await hass.callApi<HassioResponse<void>>(\"POST\", `hassio/snapshots/reload`);\n};\n\nexport const createHassioFullSnapshot = async (\n  hass: HomeAssistant,\n  data: HassioFullSnapshotCreateParams\n) => {\n  await hass.callApi<HassioResponse<void>>(\n    \"POST\",\n    `hassio/snapshots/new/full`,\n    data\n  );\n};\n\nexport const createHassioPartialSnapshot = async (\n  hass: HomeAssistant,\n  data: HassioFullSnapshotCreateParams\n) => {\n  await hass.callApi<HassioResponse<void>>(\n    \"POST\",\n    `hassio/snapshots/new/partial`,\n    data\n  );\n};\n","import { HomeAssistant } from \"../../types\";\nimport { HassioResponse, hassioApiResultExtractor } from \"./common\";\n\nexport interface HassioHardwareAudioDevice {\n  device?: string | null;\n  name: string;\n}\n\ninterface HassioHardwareAudioList {\n  audio: {\n    input: { [key: string]: string };\n    output: { [key: string]: string };\n  };\n}\n\nexport interface HassioHardwareInfo {\n  serial: string[];\n  input: string[];\n  disk: string[];\n  gpio: string[];\n  audio: object;\n}\n\nexport const fetchHassioHardwareAudio = async (hass: HomeAssistant) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<HassioHardwareAudioList>>(\n      \"GET\",\n      \"hassio/hardware/audio\"\n    )\n  );\n};\n\nexport const fetchHassioHardwareInfo = async (hass: HomeAssistant) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<HassioHardwareInfo>>(\n      \"GET\",\n      \"hassio/hardware/info\"\n    )\n  );\n};\n","import { fireEvent } from \"../../../../src/common/dom/fire_event\";\n\nexport interface HassioMarkdownDialogParams {\n  title: string;\n  content: string;\n}\n\nexport const showHassioMarkdownDialog = (\n  element: HTMLElement,\n  dialogParams: HassioMarkdownDialogParams\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"dialog-hassio-markdown\",\n    dialogImport: () =>\n      import(\n        /* webpackChunkName: \"dialog-hassio-markdown\" */ \"./dialog-hassio-markdown\"\n      ),\n    dialogParams,\n  });\n};\n","import { css } from \"lit-element\";\n\ninterface State {\n  bold: boolean;\n  italic: boolean;\n  underline: boolean;\n  strikethrough: boolean;\n  foregroundColor: null | string;\n  backgroundColor: null | string;\n}\n\nexport const ANSI_HTML_STYLE = css`\n  .bold {\n    font-weight: bold;\n  }\n  .italic {\n    font-style: italic;\n  }\n  .underline {\n    text-decoration: underline;\n  }\n  .strikethrough {\n    text-decoration: line-through;\n  }\n  .underline.strikethrough {\n    text-decoration: underline line-through;\n  }\n  .fg-red {\n    color: rgb(222, 56, 43);\n  }\n  .fg-green {\n    color: rgb(57, 181, 74);\n  }\n  .fg-yellow {\n    color: rgb(255, 199, 6);\n  }\n  .fg-blue {\n    color: rgb(0, 111, 184);\n  }\n  .fg-magenta {\n    color: rgb(118, 38, 113);\n  }\n  .fg-cyan {\n    color: rgb(44, 181, 233);\n  }\n  .fg-white {\n    color: rgb(204, 204, 204);\n  }\n  .bg-black {\n    background-color: rgb(0, 0, 0);\n  }\n  .bg-red {\n    background-color: rgb(222, 56, 43);\n  }\n  .bg-green {\n    background-color: rgb(57, 181, 74);\n  }\n  .bg-yellow {\n    background-color: rgb(255, 199, 6);\n  }\n  .bg-blue {\n    background-color: rgb(0, 111, 184);\n  }\n  .bg-magenta {\n    background-color: rgb(118, 38, 113);\n  }\n  .bg-cyan {\n    background-color: rgb(44, 181, 233);\n  }\n  .bg-white {\n    background-color: rgb(204, 204, 204);\n  }\n`;\n\nexport function parseTextToColoredPre(text) {\n  const pre = document.createElement(\"pre\");\n  const re = /\\033(?:\\[(.*?)[@-~]|\\].*?(?:\\007|\\033\\\\))/g;\n  let i = 0;\n\n  const state: State = {\n    bold: false,\n    italic: false,\n    underline: false,\n    strikethrough: false,\n    foregroundColor: null,\n    backgroundColor: null,\n  };\n\n  const addSpan = (content) => {\n    const span = document.createElement(\"span\");\n    if (state.bold) {\n      span.classList.add(\"bold\");\n    }\n    if (state.italic) {\n      span.classList.add(\"italic\");\n    }\n    if (state.underline) {\n      span.classList.add(\"underline\");\n    }\n    if (state.strikethrough) {\n      span.classList.add(\"strikethrough\");\n    }\n    if (state.foregroundColor !== null) {\n      span.classList.add(`fg-${state.foregroundColor}`);\n    }\n    if (state.backgroundColor !== null) {\n      span.classList.add(`bg-${state.backgroundColor}`);\n    }\n    span.appendChild(document.createTextNode(content));\n    pre.appendChild(span);\n  };\n\n  /* eslint-disable no-cond-assign */\n  let match;\n  // tslint:disable-next-line\n  while ((match = re.exec(text)) !== null) {\n    const j = match!.index;\n    addSpan(text.substring(i, j));\n    i = j + match[0].length;\n\n    if (match[1] === undefined) {\n      continue;\n    }\n\n    match[1].split(\";\").forEach((colorCode: string) => {\n      switch (parseInt(colorCode, 10)) {\n        case 0:\n          // reset\n          state.bold = false;\n          state.italic = false;\n          state.underline = false;\n          state.strikethrough = false;\n          state.foregroundColor = null;\n          state.backgroundColor = null;\n          break;\n        case 1:\n          state.bold = true;\n          break;\n        case 3:\n          state.italic = true;\n          break;\n        case 4:\n          state.underline = true;\n          break;\n        case 9:\n          state.strikethrough = true;\n          break;\n        case 22:\n          state.bold = false;\n          break;\n        case 23:\n          state.italic = false;\n          break;\n        case 24:\n          state.underline = false;\n          break;\n        case 29:\n          state.strikethrough = false;\n          break;\n        case 30:\n          // foreground black\n          state.foregroundColor = null;\n          break;\n        case 31:\n          state.foregroundColor = \"red\";\n          break;\n        case 32:\n          state.foregroundColor = \"green\";\n          break;\n        case 33:\n          state.foregroundColor = \"yellow\";\n          break;\n        case 34:\n          state.foregroundColor = \"blue\";\n          break;\n        case 35:\n          state.foregroundColor = \"magenta\";\n          break;\n        case 36:\n          state.foregroundColor = \"cyan\";\n          break;\n        case 37:\n          state.foregroundColor = \"white\";\n          break;\n        case 39:\n          // foreground reset\n          state.foregroundColor = null;\n          break;\n        case 40:\n          state.backgroundColor = \"black\";\n          break;\n        case 41:\n          state.backgroundColor = \"red\";\n          break;\n        case 42:\n          state.backgroundColor = \"green\";\n          break;\n        case 43:\n          state.backgroundColor = \"yellow\";\n          break;\n        case 44:\n          state.backgroundColor = \"blue\";\n          break;\n        case 45:\n          state.backgroundColor = \"magenta\";\n          break;\n        case 46:\n          state.backgroundColor = \"cyan\";\n          break;\n        case 47:\n          state.backgroundColor = \"white\";\n          break;\n        case 49:\n          // background reset\n          state.backgroundColor = null;\n          break;\n      }\n    });\n  }\n  addSpan(text.substring(i));\n\n  return pre;\n}\n","import { fireEvent } from \"../../common/dom/fire_event\";\nimport { TemplateResult } from \"lit-html\";\n\ninterface BaseDialogParams {\n  confirmText?: string;\n  text?: string | TemplateResult;\n  title?: string;\n}\n\nexport interface AlertDialogParams extends BaseDialogParams {\n  confirm?: () => void;\n}\n\nexport interface ConfirmationDialogParams extends BaseDialogParams {\n  dismissText?: string;\n  confirm?: () => void;\n  cancel?: () => void;\n}\n\nexport interface PromptDialogParams extends BaseDialogParams {\n  inputLabel?: string;\n  inputType?: string;\n  defaultValue?: string;\n  confirm?: (out?: string) => void;\n}\n\nexport interface DialogParams\n  extends ConfirmationDialogParams,\n    PromptDialogParams {\n  confirm?: (out?: string) => void;\n  confirmation?: boolean;\n  prompt?: boolean;\n}\n\nexport const loadGenericDialog = () =>\n  import(/* webpackChunkName: \"confirmation\" */ \"./dialog-box\");\n\nconst showDialogHelper = (\n  element: HTMLElement,\n  dialogParams: DialogParams,\n  extra?: {\n    confirmation?: DialogParams[\"confirmation\"];\n    prompt?: DialogParams[\"prompt\"];\n  }\n) =>\n  new Promise((resolve) => {\n    const origCancel = dialogParams.cancel;\n    const origConfirm = dialogParams.confirm;\n\n    fireEvent(element, \"show-dialog\", {\n      dialogTag: \"dialog-box\",\n      dialogImport: loadGenericDialog,\n      dialogParams: {\n        ...dialogParams,\n        ...extra,\n        cancel: () => {\n          resolve(extra?.prompt ? null : false);\n          if (origCancel) {\n            origCancel();\n          }\n        },\n        confirm: (out) => {\n          resolve(extra?.prompt ? out : true);\n          if (origConfirm) {\n            origConfirm(out);\n          }\n        },\n      },\n    });\n  });\n\nexport const showAlertDialog = (\n  element: HTMLElement,\n  dialogParams: AlertDialogParams\n) => showDialogHelper(element, dialogParams);\n\nexport const showConfirmationDialog = (\n  element: HTMLElement,\n  dialogParams: ConfirmationDialogParams\n) =>\n  showDialogHelper(element, dialogParams, { confirmation: true }) as Promise<\n    boolean\n  >;\n\nexport const showPromptDialog = (\n  element: HTMLElement,\n  dialogParams: PromptDialogParams\n) =>\n  showDialogHelper(element, dialogParams, { prompt: true }) as Promise<\n    null | string\n  >;\n","import { css } from \"lit-element\";\n\nexport const hassioStyle = css`\n  .content {\n    margin: 8px;\n  }\n  h1 {\n    color: var(--primary-text-color);\n    font-size: 2em;\n    margin-bottom: 8px;\n    font-family: var(--paper-font-headline_-_font-family);\n    -webkit-font-smoothing: var(--paper-font-headline_-_-webkit-font-smoothing);\n    font-size: var(--paper-font-headline_-_font-size);\n    font-weight: var(--paper-font-headline_-_font-weight);\n    letter-spacing: var(--paper-font-headline_-_letter-spacing);\n    line-height: var(--paper-font-headline_-_line-height);\n    padding-left: 8px;\n  }\n  .description {\n    margin-top: 4px;\n    padding-left: 8px;\n  }\n  .card-group {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n    grid-gap: 8px;\n  }\n  @media screen and (min-width: 640px) {\n    .card-group {\n      grid-template-columns: repeat(auto-fit, minmax(300px, 0.5fr));\n    }\n  }\n  @media screen and (min-width: 1020px) {\n    .card-group {\n      grid-template-columns: repeat(auto-fit, minmax(300px, 0.333fr));\n    }\n  }\n  @media screen and (min-width: 1300px) {\n    .card-group {\n      grid-template-columns: repeat(auto-fit, minmax(300px, 0.25fr));\n    }\n  }\n  ha-call-api-button {\n    font-weight: 500;\n    color: var(--primary-color);\n  }\n  .error {\n    color: var(--error-color);\n    margin-top: 16px;\n  }\n`;\n","import \"@polymer/paper-styles/paper-styles\";\nimport \"@polymer/polymer/lib/elements/custom-style\";\nimport { haStyle, haStyleDialog, derivedStyles } from \"./styles\";\n\nconst documentContainer = document.createElement(\"template\");\ndocumentContainer.setAttribute(\"style\", \"display: none;\");\n\ndocumentContainer.innerHTML = `<custom-style>\n  <style>\n    /*\n      Home Assistant default styles.\n\n      In Polymer 2.0, default styles should to be set on the html selector.\n      (Setting all default styles only on body breaks shadyCSS polyfill.)\n      See: https://github.com/home-assistant/home-assistant-polymer/pull/901\n    */\n    html {\n      font-size: 14px;\n      height: 100vh;\n\n      /* text */\n      --primary-text-color: #212121;\n      --secondary-text-color: #727272;\n      --text-primary-color: #ffffff;\n      --disabled-text-color: #bdbdbd;\n\n      /* main interface colors */\n      --primary-color: #03a9f4;\n      --dark-primary-color: #0288d1;\n      --light-primary-color: #b3e5fC;\n      --accent-color: #ff9800;\n      --divider-color: rgba(0, 0, 0, .12);\n\n      --scrollbar-thumb-color: rgb(194, 194, 194);\n\n      --error-color: #db4437;\n\n      /* states and badges */\n      --state-icon-color: #44739e;\n      --state-icon-active-color: #FDD835;\n\n      /* background and sidebar */\n      --card-background-color: #ffffff;\n      --primary-background-color: #fafafa;\n      --secondary-background-color: #e5e5e5; /* behind the cards on state */\n\n      /* for label-badge */\n      --label-badge-red: #DF4C1E;\n      --label-badge-blue: #039be5;\n      --label-badge-green: #0DA035;\n      --label-badge-yellow: #f4b400;\n\n      /*\n        Paper-styles color.html dependency is stripped on build.\n        When a default paper-style color is used, it needs to be copied\n        from paper-styles/color.html to here.\n      */\n\n      --paper-grey-50: #fafafa; /* default for: --mwc-switch-unchecked-button-color */\n      --paper-grey-200: #eeeeee;  /* for ha-date-picker-style */\n      --paper-grey-500: #9e9e9e;  /* --label-badge-grey */\n\n      /* for paper-spinner */\n      --google-red-500: #db4437;\n      --google-blue-500: #4285f4;\n      --google-green-500: #0f9d58;\n      --google-yellow-500: #f4b400;\n\n      /* for paper-slider */\n      --paper-green-400: #66bb6a;\n      --paper-blue-400: #42a5f5;\n      --paper-orange-400: #ffa726;\n\n      /* opacity for dark text on a light background */\n      --dark-divider-opacity: 0.12;\n      --dark-disabled-opacity: 0.38; /* or hint text or icon */\n      --dark-secondary-opacity: 0.54;\n      --dark-primary-opacity: 0.87;\n\n      /* opacity for light text on a dark background */\n      --light-divider-opacity: 0.12;\n      --light-disabled-opacity: 0.3; /* or hint text or icon */\n      --light-secondary-opacity: 0.7;\n      --light-primary-opacity: 1.0;\n\n      /* set our slider style */\n      --ha-paper-slider-pin-font-size: 15px;\n\n      /* rgb */\n      --rgb-primary-color: 3, 169, 244;\n      --rgb-accent-color: 255, 152, 0;\n      --rgb-primary-text-color: 33, 33, 33;\n      --rgb-secondary-text-color: 114, 114, 114;\n      --rgb-text-primary-color: 255, 255, 255;\n\n      ${Object.entries(derivedStyles)\n        .map(([key, value]) => `--${key}: ${value};`)\n        .join(\"\")}\n    }\n  </style>\n\n  <style shady-unscoped=\"\">\n    /*\n      prevent clipping of positioned elements in a small scrollable\n      force smooth scrolling if can scroll\n      use non-shady selectors so this only targets iOS 9\n      conditional mixin set in ha-style-dialog does not work with shadyCSS\n    */\n    paper-dialog-scrollable:not(.can-scroll) &gt; .scrollable {\n      -webkit-overflow-scrolling: auto !important;\n    }\n\n    paper-dialog-scrollable.can-scroll &gt; .scrollable {\n      -webkit-overflow-scrolling: touch !important;\n    }\n  </style>\n</custom-style><dom-module id=\"ha-style\">\n  <template>\n    <style>\n    ${haStyle.cssText}\n    </style>\n  </template>\n</dom-module><dom-module id=\"ha-style-dialog\">\n  <template>\n    <style>\n      ${haStyleDialog.cssText}\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild(documentContainer.content);\n","import { derivedStyles } from \"../../resources/styles\";\nimport { HomeAssistant, Theme } from \"../../types\";\n\ninterface ProcessedTheme {\n  keys: { [key: string]: \"\" };\n  styles: { [key: string]: string };\n}\n\nconst hexToRgb = (hex: string): string | null => {\n  const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  const checkHex = hex.replace(shorthandRegex, (_m, r, g, b) => {\n    return r + r + g + g + b + b;\n  });\n\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(checkHex);\n  return result\n    ? `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(\n        result[3],\n        16\n      )}`\n    : null;\n};\n\nlet PROCESSED_THEMES: { [key: string]: ProcessedTheme } = {};\n\n/**\n * Apply a theme to an element by setting the CSS variables on it.\n *\n * element: Element to apply theme on.\n * themes: HASS Theme information\n * selectedTheme: selected theme.\n */\nexport const applyThemesOnElement = (\n  element,\n  themes: HomeAssistant[\"themes\"],\n  selectedTheme?: string\n) => {\n  const newTheme = selectedTheme\n    ? PROCESSED_THEMES[selectedTheme] || processTheme(selectedTheme, themes)\n    : undefined;\n\n  if (!element._themes && !newTheme) {\n    // No styles to reset, and no styles to set\n    return;\n  }\n\n  // Add previous set keys to reset them, and new theme\n  const styles = { ...element._themes, ...newTheme?.styles };\n  element._themes = newTheme?.keys;\n\n  // Set and/or reset styles\n  if (element.updateStyles) {\n    element.updateStyles(styles);\n  } else if (window.ShadyCSS) {\n    // Implement updateStyles() method of Polymer elements\n    window.ShadyCSS.styleSubtree(/** @type {!HTMLElement} */ element, styles);\n  }\n};\n\nconst processTheme = (\n  themeName: string,\n  themes: HomeAssistant[\"themes\"]\n): ProcessedTheme | undefined => {\n  if (!themes.themes[themeName]) {\n    return;\n  }\n  const theme: Theme = {\n    ...derivedStyles,\n    ...themes.themes[themeName],\n  };\n  const styles = {};\n  const keys = {};\n  for (const key of Object.keys(theme)) {\n    const prefixedKey = `--${key}`;\n    const value = theme[key];\n    styles[prefixedKey] = value;\n    keys[prefixedKey] = \"\";\n\n    // Try to create a rgb value for this key if it is a hex color\n    if (!value.startsWith(\"#\")) {\n      // Not a hex color\n      continue;\n    }\n    const rgbKey = `rgb-${key}`;\n    if (theme[rgbKey] !== undefined) {\n      // Theme has it's own rgb value\n      continue;\n    }\n    const rgbValue = hexToRgb(value);\n    if (rgbValue !== null) {\n      const prefixedRgbKey = `--${rgbKey}`;\n      styles[prefixedRgbKey] = rgbValue;\n      keys[prefixedRgbKey] = \"\";\n    }\n  }\n  PROCESSED_THEMES[themeName] = { styles, keys };\n  return { styles, keys };\n};\n\nexport const invalidateThemeCache = () => {\n  PROCESSED_THEMES = {};\n};\n","import {\n  LitElement,\n  CSSResultArray,\n  css,\n  TemplateResult,\n  html,\n  property,\n  customElement,\n} from \"lit-element\";\nimport \"@material/mwc-button\";\nimport \"./hass-subpage\";\n\n@customElement(\"hass-error-screen\")\nclass HassErrorScreen extends LitElement {\n  @property()\n  public error?: string;\n\n  protected render(): TemplateResult {\n    return html`\n      <hass-subpage>\n        <div class=\"content\">\n          <h3>${this.error}</h3>\n          <slot>\n            <mwc-button @click=${this._backTapped}>go back</mwc-button>\n          </slot>\n        </div>\n      </hass-subpage>\n    `;\n  }\n\n  private _backTapped(): void {\n    history.back();\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      css`\n        .content {\n          height: calc(100% - 64px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-direction: column;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-error-screen\": HassErrorScreen;\n  }\n}\n","import { UpdatingElement, property, PropertyValues } from \"lit-element\";\nimport \"./hass-error-screen\";\nimport \"./hass-loading-screen\";\nimport { Route } from \"../types\";\nimport { navigate } from \"../common/navigate\";\nimport memoizeOne from \"memoize-one\";\n\nconst extractPage = (path: string, defaultPage: string) => {\n  if (path === \"\") {\n    return defaultPage;\n  }\n  const subpathStart = path.indexOf(\"/\", 1);\n  return subpathStart === -1\n    ? path.substr(1)\n    : path.substr(1, subpathStart - 1);\n};\n\nexport interface RouteOptions {\n  // HTML tag of the route page.\n  tag: string;\n  // Function to load the page.\n  load?: () => Promise<unknown>;\n  cache?: boolean;\n}\n\nexport interface RouterOptions {\n  // The default route to show if path does not define a page.\n  defaultPage?: string;\n  // If all routes should be preloaded\n  preloadAll?: boolean;\n  // If a route has been shown, should we keep the element in memory\n  cacheAll?: boolean;\n  // Should we show a loading spinner while we load the element for the route\n  showLoading?: boolean;\n  // Promise that resolves when the initial data is loaded which is needed to show any route.\n  initialLoad?: () => Promise<unknown>;\n  // Hook that is called before rendering a new route. Allowing redirects.\n  // If string returned, that page will be rendered instead.\n  beforeRender?: (page: string) => string | undefined;\n  routes: {\n    // If it's a string, it is another route whose options should be adopted.\n    [route: string]: RouteOptions | string;\n  };\n}\n\n// Time to wait for code to load before we show loading screen.\nconst LOADING_SCREEN_THRESHOLD = 400; // ms\n\nexport class HassRouterPage extends UpdatingElement {\n  @property() public route?: Route;\n\n  protected routerOptions!: RouterOptions;\n\n  protected _currentPage = \"\";\n  private _currentLoadProm?: Promise<void>;\n  private _cache = {};\n  private _initialLoadDone = false;\n  private _computeTail = memoizeOne((route: Route) => {\n    const dividerPos = route.path.indexOf(\"/\", 1);\n    return dividerPos === -1\n      ? {\n          prefix: route.prefix + route.path,\n          path: \"\",\n        }\n      : {\n          prefix: route.prefix + route.path.substr(0, dividerPos),\n          path: route.path.substr(dividerPos),\n        };\n  });\n\n  protected update(changedProps: PropertyValues) {\n    super.update(changedProps);\n\n    const routerOptions = this.routerOptions || { routes: {} };\n\n    if (routerOptions && routerOptions.initialLoad && !this._initialLoadDone) {\n      return;\n    }\n\n    if (!changedProps.has(\"route\")) {\n      // Do not update if we have a currentLoadProm, because that means\n      // that there is still an old panel shown and we're moving to a new one.\n      if (this.lastChild && !this._currentLoadProm) {\n        this.updatePageEl(this.lastChild, changedProps);\n      }\n      return;\n    }\n\n    const route = this.route;\n    const defaultPage = routerOptions.defaultPage;\n\n    if (route && route.path === \"\" && defaultPage !== undefined) {\n      navigate(this, `${route.prefix}/${defaultPage}`, true);\n    }\n\n    let newPage = route\n      ? extractPage(route.path, defaultPage || \"\")\n      : \"not_found\";\n    let routeOptions = routerOptions.routes[newPage];\n\n    // Handle redirects\n    while (typeof routeOptions === \"string\") {\n      newPage = routeOptions;\n      routeOptions = routerOptions.routes[newPage];\n    }\n\n    if (routerOptions.beforeRender) {\n      const result = routerOptions.beforeRender(newPage);\n      if (result !== undefined) {\n        newPage = result;\n        routeOptions = routerOptions.routes[newPage];\n\n        // Handle redirects\n        while (typeof routeOptions === \"string\") {\n          newPage = routeOptions;\n          routeOptions = routerOptions.routes[newPage];\n        }\n\n        // Update the url if we know where we're mounted.\n        if (route) {\n          navigate(this, `${route.prefix}/${result}`, true);\n        }\n      }\n    }\n\n    if (this._currentPage === newPage) {\n      if (this.lastChild) {\n        this.updatePageEl(this.lastChild, changedProps);\n      }\n      return;\n    }\n\n    if (!routeOptions) {\n      this._currentPage = \"\";\n      if (this.lastChild) {\n        this.removeChild(this.lastChild);\n      }\n      return;\n    }\n\n    this._currentPage = newPage;\n    const loadProm = routeOptions.load\n      ? routeOptions.load()\n      : Promise.resolve();\n\n    // Check when loading the page source failed.\n    loadProm.catch((err) => {\n      // tslint:disable-next-line\n      console.error(\"Error loading page\", newPage, err);\n\n      // Verify that we're still trying to show the same page.\n      if (this._currentPage !== newPage) {\n        return;\n      }\n\n      // Removes either loading screen or the panel\n      this.removeChild(this.lastChild!);\n\n      // Show error screen\n      const errorEl = document.createElement(\"hass-error-screen\");\n      errorEl.error = `Error while loading page ${newPage}.`;\n      this.appendChild(errorEl);\n    });\n\n    // If we don't show loading screen, just show the panel.\n    // It will be automatically upgraded when loading done.\n    if (!routerOptions.showLoading) {\n      this._createPanel(routerOptions, newPage, routeOptions);\n      return;\n    }\n\n    // We are only going to show the loading screen after some time.\n    // That way we won't have a double fast flash on fast connections.\n    let created = false;\n\n    setTimeout(() => {\n      if (created || this._currentPage !== newPage) {\n        return;\n      }\n\n      // Show a loading screen.\n      if (this.lastChild) {\n        this.removeChild(this.lastChild);\n      }\n      this.appendChild(this.createLoadingScreen());\n    }, LOADING_SCREEN_THRESHOLD);\n\n    this._currentLoadProm = loadProm.then(\n      () => {\n        this._currentLoadProm = undefined;\n        // Check if we're still trying to show the same page.\n        if (this._currentPage !== newPage) {\n          return;\n        }\n\n        created = true;\n        this._createPanel(\n          routerOptions,\n          newPage,\n          // @ts-ignore TS forgot this is not a string.\n          routeOptions\n        );\n      },\n      () => {\n        this._currentLoadProm = undefined;\n      }\n    );\n  }\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n\n    const options = this.routerOptions;\n\n    if (!options) {\n      return;\n    }\n\n    if (options.preloadAll) {\n      Object.values(options.routes).forEach(\n        (route) => typeof route === \"object\" && route.load && route.load()\n      );\n    }\n\n    if (options.initialLoad) {\n      setTimeout(() => {\n        if (!this._initialLoadDone) {\n          this.appendChild(this.createLoadingScreen());\n        }\n      }, LOADING_SCREEN_THRESHOLD);\n\n      options.initialLoad().then(() => {\n        this._initialLoadDone = true;\n        this.requestUpdate(\"route\");\n      });\n    }\n  }\n\n  protected createLoadingScreen() {\n    return document.createElement(\"hass-loading-screen\");\n  }\n\n  /**\n   * Rebuild the current panel.\n   *\n   * Promise will resolve when rebuilding is done and DOM updated.\n   */\n  protected async rebuild(): Promise<void> {\n    const oldRoute = this.route;\n\n    if (oldRoute === undefined) {\n      return;\n    }\n\n    this.route = undefined;\n    await this.updateComplete;\n    // Make sure that the parent didn't override this in the meanwhile.\n    if (this.route === undefined) {\n      this.route = oldRoute;\n    }\n  }\n\n  /**\n   * Promise that resolves when the page has rendered.\n   */\n  protected get pageRendered(): Promise<void> {\n    return this.updateComplete.then(() => this._currentLoadProm);\n  }\n\n  protected createElement(tag: string) {\n    return document.createElement(tag);\n  }\n\n  protected updatePageEl(_pageEl, _changedProps?: PropertyValues) {\n    // default we do nothing\n  }\n\n  protected get routeTail(): Route {\n    return this._computeTail(this.route!);\n  }\n\n  private _createPanel(\n    routerOptions: RouterOptions,\n    page: string,\n    routeOptions: RouteOptions\n  ) {\n    if (this.lastChild) {\n      this.removeChild(this.lastChild);\n    }\n\n    const panelEl = this._cache[page] || this.createElement(routeOptions.tag);\n    this.updatePageEl(panelEl);\n    this.appendChild(panelEl);\n\n    if (routerOptions.cacheAll || routeOptions.cache) {\n      this._cache[page] = panelEl;\n    }\n  }\n}\n","import { HomeAssistant } from \"../../types\";\nimport { HassioResponse, hassioApiResultExtractor } from \"./common\";\n\nexport type HassioHostInfo = any;\n\nexport interface HassioHassOSInfo {\n  version: string;\n  version_cli: string;\n  version_latest: string;\n  version_cli_latest: string;\n  board: \"ova\" | \"rpi\";\n}\n\nexport const fetchHassioHostInfo = async (hass: HomeAssistant) => {\n  const response = await hass.callApi<HassioResponse<HassioHostInfo>>(\n    \"GET\",\n    \"hassio/host/info\"\n  );\n  return hassioApiResultExtractor(response);\n};\n\nexport const fetchHassioHassOsInfo = async (hass: HomeAssistant) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<HassioHassOSInfo>>(\n      \"GET\",\n      \"hassio/os/info\"\n    )\n  );\n};\n","import { HASSDomEvent, ValidHassDomEvent } from \"../common/dom/fire_event\";\nimport { ProvideHassElement } from \"../mixins/provide-hass-lit-mixin\";\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    \"show-dialog\": ShowDialogParams<unknown>;\n    \"close-dialog\": undefined;\n  }\n  // for add event listener\n  interface HTMLElementEventMap {\n    \"show-dialog\": HASSDomEvent<ShowDialogParams<unknown>>;\n  }\n}\n\ninterface HassDialog<T = HASSDomEvents[ValidHassDomEvent]> extends HTMLElement {\n  showDialog(params: T);\n}\n\ninterface ShowDialogParams<T> {\n  dialogTag: keyof HTMLElementTagNameMap;\n  dialogImport: () => Promise<unknown>;\n  dialogParams: T;\n}\n\nconst LOADED = {};\n\nexport const showDialog = async (\n  element: HTMLElement & ProvideHassElement,\n  root: ShadowRoot | HTMLElement,\n  dialogImport: () => Promise<unknown>,\n  dialogTag: string,\n  dialogParams: unknown\n) => {\n  if (!(dialogTag in LOADED)) {\n    LOADED[dialogTag] = dialogImport().then(() => {\n      const dialogEl = document.createElement(dialogTag) as HassDialog;\n      element.provideHass(dialogEl);\n      root.appendChild(dialogEl);\n      return dialogEl;\n    });\n  }\n  const dialogElement = await LOADED[dialogTag];\n  dialogElement.showDialog(dialogParams);\n};\n\nexport const makeDialogManager = (\n  element: HTMLElement & ProvideHassElement,\n  root: ShadowRoot | HTMLElement\n) => {\n  element.addEventListener(\n    \"show-dialog\",\n    async (e: HASSDomEvent<ShowDialogParams<unknown>>) => {\n      const { dialogTag, dialogImport, dialogParams } = e.detail;\n      showDialog(element, root, dialogImport, dialogTag, dialogParams);\n    }\n  );\n};\n","import { UpdatingElement, PropertyValues } from \"lit-element\";\nimport { HomeAssistant, Constructor } from \"../types\";\n\nexport interface ProvideHassElement {\n  provideHass(element: HTMLElement);\n}\n\n/* tslint:disable-next-line:variable-name */\nexport const ProvideHassLitMixin = <T extends Constructor<UpdatingElement>>(\n  superClass: T\n) =>\n  class extends superClass {\n    protected hass!: HomeAssistant;\n    /* tslint:disable-next-line:variable-name */\n    private __provideHass: HTMLElement[] = [];\n\n    public provideHass(el) {\n      this.__provideHass.push(el);\n      el.hass = this.hass;\n    }\n\n    protected updated(changedProps: PropertyValues) {\n      super.updated(changedProps);\n\n      if (changedProps.has(\"hass\")) {\n        this.__provideHass.forEach((el) => {\n          (el as any).hass = this.hass;\n        });\n      }\n    }\n  };\n","import \"@polymer/paper-card/paper-card\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\n\nimport { HomeAssistant } from \"../../../src/types\";\nimport { HassioAddonInfo } from \"../../../src/data/hassio/addon\";\nimport { navigate } from \"../../../src/common/navigate\";\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { haStyle } from \"../../../src/resources/styles\";\nimport \"../components/hassio-card-content\";\nimport { atLeastVersion } from \"../../../src/common/config/version\";\n\n@customElement(\"hassio-addons\")\nclass HassioAddons extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public addons?: HassioAddonInfo[];\n\n  protected render(): TemplateResult {\n    return html`\n      <div class=\"content\">\n        <h1>Add-ons</h1>\n        <div class=\"card-group\">\n          ${!this.addons\n            ? html`\n                <paper-card>\n                  <div class=\"card-content\">\n                    You don't have any add-ons installed yet. Head over to\n                    <a href=\"#\" @click=${this._openStore}>the add-on store</a>\n                    to get started!\n                  </div>\n                </paper-card>\n              `\n            : this.addons\n                .sort((a, b) => (a.name > b.name ? 1 : -1))\n                .map(\n                  (addon) => html`\n                    <paper-card .addon=${addon} @click=${this._addonTapped}>\n                      <div class=\"card-content\">\n                        <hassio-card-content\n                          .hass=${this.hass}\n                          .title=${addon.name}\n                          .description=${addon.description}\n                          available\n                          .showTopbar=${addon.installed !== addon.version}\n                          topbarClass=\"update\"\n                          .icon=${addon.installed !== addon.version\n                            ? \"hassio:arrow-up-bold-circle\"\n                            : \"hassio:puzzle\"}\n                          .iconTitle=${addon.state !== \"started\"\n                            ? \"Add-on is stopped\"\n                            : addon.installed !== addon.version\n                            ? \"New version available\"\n                            : \"Add-on is running\"}\n                          .iconClass=${addon.installed &&\n                          addon.installed !== addon.version\n                            ? addon.state === \"started\"\n                              ? \"update\"\n                              : \"update stopped\"\n                            : addon.installed && addon.state === \"started\"\n                            ? \"running\"\n                            : \"stopped\"}\n                          .iconImage=${atLeastVersion(\n                            this.hass.config.version,\n                            0,\n                            105\n                          ) && addon.icon\n                            ? `/api/hassio/addons/${addon.slug}/icon`\n                            : undefined}\n                        ></hassio-card-content>\n                      </div>\n                    </paper-card>\n                  `\n                )}\n        </div>\n      </div>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        paper-card {\n          cursor: pointer;\n        }\n      `,\n    ];\n  }\n\n  private _addonTapped(ev: any): void {\n    navigate(this, `/hassio/addon/${ev.currentTarget.addon.slug}`);\n  }\n\n  private _openStore(): void {\n    navigate(this, \"/hassio/store\");\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-addons\": HassioAddons;\n  }\n}\n","import {\n  LitElement,\n  TemplateResult,\n  html,\n  CSSResult,\n  css,\n  property,\n  customElement,\n} from \"lit-element\";\nimport \"@polymer/iron-icon/iron-icon\";\n\nimport { HomeAssistant } from \"../../../src/types\";\nimport { HassioHassOSInfo } from \"../../../src/data/hassio/host\";\nimport {\n  HassioHomeAssistantInfo,\n  HassioSupervisorInfo,\n} from \"../../../src/data/hassio/supervisor\";\n\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { haStyle } from \"../../../src/resources/styles\";\n\nimport \"@material/mwc-button\";\nimport \"@polymer/paper-card/paper-card\";\nimport \"../../../src/components/buttons/ha-call-api-button\";\nimport \"../components/hassio-card-content\";\n\n@customElement(\"hassio-update\")\nexport class HassioUpdate extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public hassInfo: HassioHomeAssistantInfo;\n  @property() public hassOsInfo?: HassioHassOSInfo;\n  @property() public supervisorInfo: HassioSupervisorInfo;\n  @property() private _error?: string;\n\n  protected render(): TemplateResult {\n    const updatesAvailable: number = [\n      this.hassInfo,\n      this.supervisorInfo,\n      this.hassOsInfo,\n    ].filter((value) => {\n      return (\n        !!value &&\n        (value.version_latest\n          ? value.version !== value.version_latest\n          : value.version_latest\n          ? value.version !== value.version_latest\n          : false)\n      );\n    }).length;\n\n    if (!updatesAvailable) {\n      return html``;\n    }\n\n    return html`\n      <div class=\"content\">\n        ${this._error\n          ? html`\n              <div class=\"error\">Error: ${this._error}</div>\n            `\n          : \"\"}\n        <h1>\n          ${updatesAvailable > 1\n            ? \"Updates Available \"\n            : \"Update Available \"}\n        </h1>\n        <div class=\"card-group\">\n          ${this._renderUpdateCard(\n            \"Home Assistant Core\",\n            this.hassInfo.version,\n            this.hassInfo.version_latest,\n            \"hassio/homeassistant/update\",\n            `https://${\n              this.hassInfo.version_latest.includes(\"b\") ? \"rc\" : \"www\"\n            }.home-assistant.io/latest-release-notes/`,\n            \"hassio:home-assistant\"\n          )}\n          ${this._renderUpdateCard(\n            \"Supervisor\",\n            this.supervisorInfo.version,\n            this.supervisorInfo.version_latest,\n            \"hassio/supervisor/update\",\n            `https://github.com//home-assistant/hassio/releases/tag/${this.supervisorInfo.version_latest}`\n          )}\n          ${this.hassOsInfo\n            ? this._renderUpdateCard(\n                \"Operating System\",\n                this.hassOsInfo.version,\n                this.hassOsInfo.version_latest,\n                \"hassio/os/update\",\n                `https://github.com//home-assistant/hassos/releases/tag/${this.hassOsInfo.version_latest}`\n              )\n            : \"\"}\n        </div>\n      </div>\n    `;\n  }\n\n  private _renderUpdateCard(\n    name: string,\n    curVersion: string,\n    lastVersion: string,\n    apiPath: string,\n    releaseNotesUrl: string,\n    icon?: string\n  ): TemplateResult {\n    if (!lastVersion || lastVersion === curVersion) {\n      return html``;\n    }\n    return html`\n      <paper-card>\n        <div class=\"card-content\">\n          ${icon\n            ? html`\n                <div class=\"icon\">\n                  <iron-icon .icon=\"${icon}\" />\n                </div>\n              `\n            : \"\"}\n          <div class=\"update-heading\">${name} ${lastVersion}</div>\n          <div class=\"warning\">\n            You are currently running version ${curVersion}\n          </div>\n        </div>\n        <div class=\"card-actions\">\n          <a href=\"${releaseNotesUrl}\" target=\"_blank\" rel=\"noreferrer\">\n            <mwc-button>Release notes</mwc-button>\n          </a>\n          <ha-call-api-button\n            .hass=${this.hass}\n            .path=${apiPath}\n            @hass-api-called=${this._apiCalled}\n          >\n            Update\n          </ha-call-api-button>\n        </div>\n      </paper-card>\n    `;\n  }\n\n  private _apiCalled(ev) {\n    if (ev.detail.success) {\n      this._error = \"\";\n      return;\n    }\n\n    const response = ev.detail.response;\n\n    typeof response.body === \"object\"\n      ? (this._error = response.body.message || \"Unknown error\")\n      : (this._error = response.body);\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        .icon {\n          --iron-icon-height: 48px;\n          --iron-icon-width: 48px;\n          float: right;\n          margin: 0 0 2px 10px;\n        }\n        .update-heading {\n          font-size: var(--paper-font-subhead_-_font-size);\n          font-weight: 500;\n          margin-bottom: 0.5em;\n        }\n        .warning {\n          color: var(--secondary-text-color);\n        }\n        .card-content {\n          height: calc(100% - 47px);\n          box-sizing: border-box;\n        }\n        .card-actions {\n          text-align: right;\n        }\n        .errors {\n          color: var(--google-red-500);\n          padding: 16px;\n        }\n        a {\n          text-decoration: none;\n        }\n      `,\n    ];\n  }\n}\n","import {\n  LitElement,\n  TemplateResult,\n  html,\n  CSSResult,\n  css,\n  property,\n  customElement,\n} from \"lit-element\";\nimport \"./hassio-addons\";\nimport \"./hassio-update\";\nimport { haStyle } from \"../../../src/resources/styles\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport { HassioHassOSInfo } from \"../../../src/data/hassio/host\";\nimport {\n  HassioSupervisorInfo,\n  HassioHomeAssistantInfo,\n} from \"../../../src/data/hassio/supervisor\";\n\n@customElement(\"hassio-dashboard\")\nclass HassioDashboard extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public supervisorInfo!: HassioSupervisorInfo;\n  @property() public hassInfo!: HassioHomeAssistantInfo;\n  @property() public hassOsInfo!: HassioHassOSInfo;\n\n  protected render(): TemplateResult {\n    return html`\n      <div class=\"content\">\n        <hassio-update\n          .hass=${this.hass}\n          .hassInfo=${this.hassInfo}\n          .supervisorInfo=${this.supervisorInfo}\n          .hassOsInfo=${this.hassOsInfo}\n        ></hassio-update>\n        <hassio-addons\n          .hass=${this.hass}\n          .addons=${this.supervisorInfo.addons}\n        ></hassio-addons>\n      </div>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      css`\n        .content {\n          margin: 0 auto;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-dashboard\": HassioDashboard;\n  }\n}\n","import {\n  LitElement,\n  TemplateResult,\n  html,\n  CSSResultArray,\n  css,\n  property,\n  PropertyValues,\n  customElement,\n} from \"lit-element\";\nimport \"@material/mwc-button\";\nimport \"@polymer/paper-card/paper-card\";\nimport \"@polymer/paper-checkbox/paper-checkbox\";\nimport \"@polymer/paper-input/paper-input\";\nimport \"@polymer/paper-radio-button/paper-radio-button\";\nimport \"@polymer/paper-radio-group/paper-radio-group\";\n\nimport \"../components/hassio-card-content\";\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { haStyle } from \"../../../src/resources/styles\";\n\nimport { showHassioSnapshotDialog } from \"../dialogs/snapshot/show-dialog-hassio-snapshot\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport {\n  HassioSnapshot,\n  fetchHassioSnapshots,\n  reloadHassioSnapshots,\n  HassioFullSnapshotCreateParams,\n  HassioPartialSnapshotCreateParams,\n  createHassioFullSnapshot,\n  createHassioPartialSnapshot,\n} from \"../../../src/data/hassio/snapshot\";\nimport { HassioSupervisorInfo } from \"../../../src/data/hassio/supervisor\";\nimport { PolymerChangedEvent } from \"../../../src/polymer-types\";\nimport { fireEvent } from \"../../../src/common/dom/fire_event\";\n\n// Not duplicate, used for typing\n// tslint:disable-next-line\nimport { PaperInputElement } from \"@polymer/paper-input/paper-input\";\n// tslint:disable-next-line\nimport { PaperRadioGroupElement } from \"@polymer/paper-radio-group/paper-radio-group\";\n// tslint:disable-next-line\nimport { PaperCheckboxElement } from \"@polymer/paper-checkbox/paper-checkbox\";\n\ninterface CheckboxItem {\n  slug: string;\n  name: string;\n  checked: boolean;\n}\n\n@customElement(\"hassio-snapshots\")\nclass HassioSnapshots extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public supervisorInfo!: HassioSupervisorInfo;\n  @property() private _snapshotName = \"\";\n  @property() private _snapshotPassword = \"\";\n  @property() private _snapshotHasPassword = false;\n  @property() private _snapshotType: HassioSnapshot[\"type\"] = \"full\";\n  @property() private _snapshots?: HassioSnapshot[] = [];\n  @property() private _addonList: CheckboxItem[] = [];\n  @property() private _folderList: CheckboxItem[] = [\n    {\n      slug: \"homeassistant\",\n      name: \"Home Assistant configuration\",\n      checked: true,\n    },\n    { slug: \"ssl\", name: \"SSL\", checked: true },\n    { slug: \"share\", name: \"Share\", checked: true },\n    { slug: \"addons/local\", name: \"Local add-ons\", checked: true },\n  ];\n  @property() private _creatingSnapshot = false;\n  @property() private _error = \"\";\n\n  public async refreshData() {\n    await reloadHassioSnapshots(this.hass);\n    await this._updateSnapshots();\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <div class=\"content\">\n        <h1>\n          Create snapshot\n        </h1>\n        <p class=\"description\">\n          Snapshots allow you to easily backup and restore all data of your Home\n          Assistant instance.\n        </p>\n        <div class=\"card-group\">\n          <paper-card>\n            <div class=\"card-content\">\n              <paper-input\n                autofocus\n                label=\"Name\"\n                name=\"snapshotName\"\n                .value=${this._snapshotName}\n                @value-changed=${this._handleTextValueChanged}\n              ></paper-input>\n              Type:\n              <paper-radio-group\n                name=\"snapshotType\"\n                .selected=${this._snapshotType}\n                @selected-changed=${this._handleRadioValueChanged}\n              >\n                <paper-radio-button name=\"full\">\n                  Full snapshot\n                </paper-radio-button>\n                <paper-radio-button name=\"partial\">\n                  Partial snapshot\n                </paper-radio-button>\n              </paper-radio-group>\n              ${this._snapshotType === \"full\"\n                ? undefined\n                : html`\n                    Folders:\n                    ${this._folderList.map(\n                      (folder, idx) => html`\n                        <paper-checkbox\n                          .idx=${idx}\n                          .checked=${folder.checked}\n                          @checked-changed=${this._folderChecked}\n                        >\n                          ${folder.name}\n                        </paper-checkbox>\n                      `\n                    )}\n                    Add-ons:\n                    ${this._addonList.map(\n                      (addon, idx) => html`\n                        <paper-checkbox\n                          .idx=${idx}\n                          .checked=\"{{item.checked}}\"\n                          @checked-changed=${this._addonChecked}\n                        >\n                          ${addon.name}\n                        </paper-checkbox>\n                      `\n                    )}\n                  `}\n              Security:\n              <paper-checkbox\n                name=\"snapshotHasPassword\"\n                .checked=${this._snapshotHasPassword}\n                @checked-changed=${this._handleCheckboxValueChanged}\n              >\n                Password protection\n              </paper-checkbox>\n              ${this._snapshotHasPassword\n                ? html`\n                    <paper-input\n                      label=\"Password\"\n                      type=\"password\"\n                      name=\"snapshotPassword\"\n                      .value=${this._snapshotPassword}\n                      @value-changed=${this._handleTextValueChanged}\n                    ></paper-input>\n                  `\n                : undefined}\n              ${this._error !== \"\"\n                ? html`\n                    <p class=\"error\">${this._error}</p>\n                  `\n                : undefined}\n            </div>\n            <div class=\"card-actions\">\n              <mwc-button\n                .disabled=${this._creatingSnapshot}\n                @click=${this._createSnapshot}\n              >\n                Create\n              </mwc-button>\n            </div>\n          </paper-card>\n        </div>\n\n        <h1>Available snapshots</h1>\n        <div class=\"card-group\">\n          ${this._snapshots === undefined\n            ? undefined\n            : this._snapshots.length === 0\n            ? html`\n                <paper-card>\n                  <div class=\"card-content\">\n                    You don't have any snapshots yet.\n                  </div>\n                </paper-card>\n              `\n            : this._snapshots.map(\n                (snapshot) => html`\n                  <paper-card\n                    class=\"pointer\"\n                    .snapshot=${snapshot}\n                    @click=${this._snapshotClicked}\n                  >\n                    <div class=\"card-content\">\n                      <hassio-card-content\n                        .hass=${this.hass}\n                        .title=${snapshot.name || snapshot.slug}\n                        .description=${this._computeDetails(snapshot)}\n                        .datetime=${snapshot.date}\n                        .icon=${snapshot.type === \"full\"\n                          ? \"hassio:package-variant-closed\"\n                          : \"hassio:package-variant\"}\n                        .\n                        .icon-class=\"snapshot\"\n                      ></hassio-card-content>\n                    </div>\n                  </paper-card>\n                `\n              )}\n        </div>\n      </div>\n    `;\n  }\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n    this._updateSnapshots();\n  }\n\n  protected updated(changedProps: PropertyValues) {\n    if (changedProps.has(\"supervisorInfo\")) {\n      this._addonList = this.supervisorInfo.addons\n        .map((addon) => ({\n          slug: addon.slug,\n          name: addon.name,\n          checked: true,\n        }))\n        .sort((a, b) => (a.name < b.name ? -1 : 1));\n    }\n  }\n\n  private _handleTextValueChanged(ev: PolymerChangedEvent<string>) {\n    const input = ev.currentTarget as PaperInputElement;\n    this[`_${input.name}`] = ev.detail.value;\n  }\n\n  private _handleCheckboxValueChanged(ev) {\n    const input = ev.currentTarget as PaperCheckboxElement;\n    this[`_${input.name}`] = input.checked;\n  }\n\n  private _handleRadioValueChanged(ev: PolymerChangedEvent<string>) {\n    const input = ev.currentTarget as PaperRadioGroupElement;\n    this[`_${input.getAttribute(\"name\")}`] = ev.detail.value;\n  }\n\n  private _folderChecked(ev) {\n    const { idx, checked } = ev.currentTarget!;\n    this._folderList = this._folderList.map((folder, curIdx) =>\n      curIdx === idx ? { ...folder, checked } : folder\n    );\n  }\n\n  private _addonChecked(ev) {\n    const { idx, checked } = ev.currentTarget!;\n    this._addonList = this._addonList.map((addon, curIdx) =>\n      curIdx === idx ? { ...addon, checked } : addon\n    );\n  }\n\n  private async _updateSnapshots() {\n    try {\n      this._snapshots = await fetchHassioSnapshots(this.hass);\n      this._snapshots.sort((a, b) => (a.date < b.date ? 1 : -1));\n    } catch (err) {\n      this._error = err.message;\n    }\n  }\n\n  private async _createSnapshot() {\n    this._error = \"\";\n    if (this._snapshotHasPassword && !this._snapshotPassword.length) {\n      this._error = \"Please enter a password.\";\n      return;\n    }\n    this._creatingSnapshot = true;\n    await this.updateComplete;\n\n    const name =\n      this._snapshotName ||\n      new Date().toLocaleDateString(navigator.language, {\n        weekday: \"long\",\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n      });\n\n    try {\n      if (this._snapshotType === \"full\") {\n        const data: HassioFullSnapshotCreateParams = { name };\n        if (this._snapshotHasPassword) {\n          data.password = this._snapshotPassword;\n        }\n        await createHassioFullSnapshot(this.hass, data);\n      } else {\n        const addons = this._addonList\n          .filter((addon) => addon.checked)\n          .map((addon) => addon.slug);\n        const folders = this._folderList\n          .filter((folder) => folder.checked)\n          .map((folder) => folder.slug);\n\n        const data: HassioPartialSnapshotCreateParams = {\n          name,\n          folders,\n          addons,\n        };\n        if (this._snapshotHasPassword) {\n          data.password = this._snapshotPassword;\n        }\n        await createHassioPartialSnapshot(this.hass, data);\n      }\n      this._updateSnapshots();\n      fireEvent(this, \"hass-api-called\", { success: true, response: null });\n    } catch (err) {\n      this._error = err.message;\n    } finally {\n      this._creatingSnapshot = false;\n    }\n  }\n\n  private _computeDetails(snapshot: HassioSnapshot) {\n    const type =\n      snapshot.type === \"full\" ? \"Full snapshot\" : \"Partial snapshot\";\n    return snapshot.protected ? `${type}, password protected` : type;\n  }\n\n  private _snapshotClicked(ev) {\n    showHassioSnapshotDialog(this, {\n      slug: ev.currentTarget!.snapshot.slug,\n      onDelete: () => this._updateSnapshots(),\n    });\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        paper-radio-group {\n          display: block;\n        }\n        paper-radio-button {\n          padding: 0 0 2px 2px;\n        }\n        paper-radio-button,\n        paper-checkbox,\n        paper-input[type=\"password\"] {\n          display: block;\n          margin: 4px 0 4px 48px;\n        }\n        .pointer {\n          cursor: pointer;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-snapshots\": HassioSnapshots;\n  }\n}\n","import { fireEvent } from \"../../../../src/common/dom/fire_event\";\n\nexport interface HassioSnapshotDialogParams {\n  slug: string;\n  onDelete: () => void;\n}\n\nexport const showHassioSnapshotDialog = (\n  element: HTMLElement,\n  dialogParams: HassioSnapshotDialogParams\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"dialog-hassio-snapshot\",\n    dialogImport: () =>\n      import(\n        /* webpackChunkName: \"dialog-hassio-snapshot\" */ \"./dialog-hassio-snapshot\"\n      ),\n    dialogParams,\n  });\n};\n","import {\n  css,\n  TemplateResult,\n  html,\n  LitElement,\n  property,\n  CSSResultArray,\n} from \"lit-element\";\nimport \"@polymer/paper-card/paper-card\";\nimport memoizeOne from \"memoize-one\";\n\nimport \"../components/hassio-card-content\";\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport {\n  HassioAddonInfo,\n  HassioAddonRepository,\n} from \"../../../src/data/hassio/addon\";\nimport { navigate } from \"../../../src/common/navigate\";\nimport { filterAndSort } from \"../components/hassio-filter-addons\";\nimport { atLeastVersion } from \"../../../src/common/config/version\";\n\nclass HassioAddonRepositoryEl extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public repo!: HassioAddonRepository;\n  @property() public addons!: HassioAddonInfo[];\n  @property() public filter!: string;\n\n  private _getAddons = memoizeOne(\n    (addons: HassioAddonInfo[], filter?: string) => {\n      if (filter) {\n        return filterAndSort(addons, filter);\n      }\n      return addons.sort((a, b) =>\n        a.name.toUpperCase() < b.name.toUpperCase() ? -1 : 1\n      );\n    }\n  );\n\n  protected render(): TemplateResult {\n    const repo = this.repo;\n    const addons = this._getAddons(this.addons, this.filter);\n\n    if (this.filter && addons.length < 1) {\n      return html`\n        <div class=\"content\">\n          <p class=\"description\">\n            No results found in \"${repo.name}\"\n          </p>\n        </div>\n      `;\n    }\n    return html`\n      <div class=\"content\">\n        <h1>\n          ${repo.name}\n        </h1>\n        <p class=\"description\">\n          Maintained by ${repo.maintainer}<br />\n          <a class=\"repo\" href=${repo.url} target=\"_blank\" rel=\"noreferrer\">\n            ${repo.url}\n          </a>\n        </p>\n        <div class=\"card-group\">\n          ${addons.map(\n            (addon) => html`\n              ${addon.advanced && !this.hass.userData?.showAdvanced\n                ? \"\"\n                : html`\n                    <paper-card\n                      .addon=${addon}\n                      class=${addon.available ? \"\" : \"not_available\"}\n                      @click=${this._addonTapped}\n                    >\n                      <div class=\"card-content\">\n                        <hassio-card-content\n                          .hass=${this.hass}\n                          .title=${addon.name}\n                          .description=${addon.description}\n                          .available=${addon.available}\n                          .icon=${addon.installed &&\n                          addon.installed !== addon.version\n                            ? \"hassio:arrow-up-bold-circle\"\n                            : \"hassio:puzzle\"}\n                          .iconTitle=${addon.installed\n                            ? addon.installed !== addon.version\n                              ? \"New version available\"\n                              : \"Add-on is installed\"\n                            : addon.available\n                            ? \"Add-on is not installed\"\n                            : \"Add-on is not available on your system\"}\n                          .iconClass=${addon.installed\n                            ? addon.installed !== addon.version\n                              ? \"update\"\n                              : \"installed\"\n                            : !addon.available\n                            ? \"not_available\"\n                            : \"\"}\n                          .iconImage=${atLeastVersion(\n                            this.hass.config.version,\n                            0,\n                            105\n                          ) && addon.icon\n                            ? `/api/hassio/addons/${addon.slug}/icon`\n                            : undefined}\n                          .showTopbar=${addon.installed || !addon.available}\n                          .topbarClass=${addon.installed\n                            ? addon.installed !== addon.version\n                              ? \"update\"\n                              : \"installed\"\n                            : !addon.available\n                            ? \"unavailable\"\n                            : \"\"}\n                        ></hassio-card-content>\n                      </div>\n                    </paper-card>\n                  `}\n            `\n          )}\n        </div>\n      </div>\n    `;\n  }\n\n  private _addonTapped(ev) {\n    navigate(this, `/hassio/addon/${ev.currentTarget.addon.slug}`);\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      hassioStyle,\n      css`\n        paper-card {\n          cursor: pointer;\n        }\n        .not_available {\n          opacity: 0.6;\n        }\n        a.repo {\n          color: var(--primary-text-color);\n        }\n      `,\n    ];\n  }\n}\n\ncustomElements.define(\"hassio-addon-repository\", HassioAddonRepositoryEl);\n","import { HassioAddonInfo } from \"../../../src/data/hassio/addon\";\nimport * as Fuse from \"fuse.js\";\n\nexport function filterAndSort(addons: HassioAddonInfo[], filter: string) {\n  const options: Fuse.FuseOptions<HassioAddonInfo> = {\n    keys: [\"name\", \"description\", \"slug\"],\n    caseSensitive: false,\n    minMatchCharLength: 2,\n    threshold: 0.2,\n  };\n  const fuse = new Fuse(addons, options);\n  return fuse.search(filter);\n}\n","import {\n  LitElement,\n  html,\n  CSSResultArray,\n  css,\n  property,\n  TemplateResult,\n  customElement,\n  PropertyValues,\n} from \"lit-element\";\nimport \"@polymer/iron-icon/iron-icon\";\nimport \"@polymer/paper-card/paper-card\";\nimport \"@polymer/paper-input/paper-input\";\nimport memoizeOne from \"memoize-one\";\n\nimport \"../../../src/components/buttons/ha-call-api-button\";\nimport \"../components/hassio-card-content\";\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport { HassioAddonRepository } from \"../../../src/data/hassio/addon\";\nimport { PolymerChangedEvent } from \"../../../src/polymer-types\";\nimport { repeat } from \"lit-html/directives/repeat\";\n\n@customElement(\"hassio-repositories-editor\")\nclass HassioRepositoriesEditor extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public repos!: HassioAddonRepository[];\n  @property() private _repoUrl = \"\";\n\n  private _sortedRepos = memoizeOne((repos: HassioAddonRepository[]) =>\n    repos\n      .filter((repo) => repo.slug !== \"core\" && repo.slug !== \"local\")\n      .sort((a, b) => (a.name < b.name ? -1 : 1))\n  );\n\n  protected render(): TemplateResult {\n    const repos = this._sortedRepos(this.repos);\n    return html`\n      <div class=\"content\">\n        <h1>\n          Repositories\n        </h1>\n        <p class=\"description\">\n          Configure which add-on repositories to fetch data from:\n        </p>\n        <div class=\"card-group\">\n          ${// Use repeat so that the fade-out from call-service-api-button\n          // stays with the correct repo after we add/delete one.\n          repeat(\n            repos,\n            (repo) => repo.slug,\n            (repo) => html`\n              <paper-card>\n                <div class=\"card-content\">\n                  <hassio-card-content\n                    .hass=${this.hass}\n                    .title=${repo.name}\n                    .description=${repo.url}\n                    icon=\"hassio:github-circle\"\n                  ></hassio-card-content>\n                </div>\n                <div class=\"card-actions\">\n                  <ha-call-api-button\n                    path=\"hassio/supervisor/options\"\n                    .hass=${this.hass}\n                    .data=${this.computeRemoveRepoData(repos, repo.url)}\n                    class=\"warning\"\n                  >\n                    Remove\n                  </ha-call-api-button>\n                </div>\n              </paper-card>\n            `\n          )}\n\n          <paper-card>\n            <div class=\"card-content add\">\n              <iron-icon icon=\"hassio:github-circle\"></iron-icon>\n              <paper-input\n                label=\"Add new repository by URL\"\n                .value=${this._repoUrl}\n                @value-changed=${this._urlChanged}\n              ></paper-input>\n            </div>\n            <div class=\"card-actions\">\n              <ha-call-api-button\n                path=\"hassio/supervisor/options\"\n                .hass=${this.hass}\n                .data=${this.computeAddRepoData(repos, this._repoUrl)}\n              >\n                Add\n              </ha-call-api-button>\n            </div>\n          </paper-card>\n        </div>\n      </div>\n    `;\n  }\n\n  protected updated(changedProps: PropertyValues) {\n    super.updated(changedProps);\n\n    if (changedProps.has(\"repos\")) {\n      this._repoUrl = \"\";\n    }\n  }\n\n  private _urlChanged(ev: PolymerChangedEvent<string>) {\n    this._repoUrl = ev.detail.value;\n  }\n\n  private computeRemoveRepoData(repoList, url) {\n    const list = repoList\n      .filter((repo) => repo.url !== url)\n      .map((repo) => repo.source);\n    return { addons_repositories: list };\n  }\n\n  private computeAddRepoData(repoList, url) {\n    const list = repoList ? repoList.map((repo) => repo.source) : [];\n    list.push(url);\n    return { addons_repositories: list };\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      hassioStyle,\n      css`\n        .add {\n          padding: 12px 16px;\n        }\n        iron-icon {\n          color: var(--secondary-text-color);\n          margin-right: 16px;\n          display: inline-block;\n        }\n        paper-input {\n          width: calc(100% - 49px);\n          display: inline-block;\n          margin-top: -4px;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-repositories-editor\": HassioRepositoriesEditor;\n  }\n}\n","import \"@polymer/paper-spinner/paper-spinner-lite\";\nimport {\n  LitElement,\n  TemplateResult,\n  html,\n  css,\n  customElement,\n  CSSResult,\n} from \"lit-element\";\n\n@customElement(\"loading-screen\")\nclass LoadingScreen extends LitElement {\n  protected render(): TemplateResult {\n    return html`\n      <paper-spinner-lite active></paper-spinner-lite>\n    `;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"loading-screen\": LoadingScreen;\n  }\n}\n","import { TemplateResult, html } from \"lit-html\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  LitElement,\n  property,\n} from \"lit-element\";\nimport { fireEvent } from \"../../../src/common/dom/fire_event\";\nimport \"@polymer/iron-icon/iron-icon\";\nimport \"@polymer/paper-input/paper-input\";\nimport \"@polymer/paper-icon-button/paper-icon-button\";\nimport \"@material/mwc-button\";\n\n@customElement(\"hassio-search-input\")\nclass HassioSearchInput extends LitElement {\n  @property() private filter?: string;\n\n  protected render(): TemplateResult {\n    return html`\n      <div class=\"search-container\">\n        <paper-input\n          label=\"Search\"\n          .value=${this.filter}\n          @value-changed=${this._filterInputChanged}\n        >\n          <iron-icon\n            icon=\"hassio:magnify\"\n            slot=\"prefix\"\n            class=\"prefix\"\n          ></iron-icon>\n          ${this.filter &&\n            html`\n              <paper-icon-button\n                slot=\"suffix\"\n                class=\"suffix\"\n                @click=${this._clearSearch}\n                icon=\"hassio:close\"\n                alt=\"Clear\"\n                title=\"Clear\"\n              ></paper-icon-button>\n            `}\n        </paper-input>\n      </div>\n    `;\n  }\n\n  private async _filterChanged(value: string) {\n    fireEvent(this, \"value-changed\", { value: String(value) });\n  }\n\n  private async _filterInputChanged(e) {\n    this._filterChanged(e.target.value);\n  }\n\n  private async _clearSearch() {\n    this._filterChanged(\"\");\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      paper-input {\n        flex: 1 1 auto;\n        margin: 0 16px;\n      }\n      .search-container {\n        display: inline-flex;\n        width: 100%;\n        align-items: center;\n      }\n      .prefix {\n        margin: 8px;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-search-input\": HassioSearchInput;\n  }\n}\n","import \"./hassio-addon-repository\";\nimport \"./hassio-repositories-editor\";\nimport { TemplateResult, html } from \"lit-html\";\nimport {\n  LitElement,\n  CSSResult,\n  css,\n  property,\n  PropertyValues,\n} from \"lit-element\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport {\n  HassioAddonRepository,\n  HassioAddonInfo,\n  fetchHassioAddonsInfo,\n  reloadHassioAddons,\n} from \"../../../src/data/hassio/addon\";\nimport \"../../../src/layouts/loading-screen\";\nimport \"../components/hassio-search-input\";\n\nconst sortRepos = (a: HassioAddonRepository, b: HassioAddonRepository) => {\n  if (a.slug === \"local\") {\n    return -1;\n  }\n  if (b.slug === \"local\") {\n    return 1;\n  }\n  if (a.slug === \"core\") {\n    return -1;\n  }\n  if (b.slug === \"core\") {\n    return 1;\n  }\n  return a.name.toUpperCase() < b.name.toUpperCase() ? -1 : 1;\n};\n\nclass HassioAddonStore extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() private _addons?: HassioAddonInfo[];\n  @property() private _repos?: HassioAddonRepository[];\n  @property() private _filter?: string;\n\n  public async refreshData() {\n    this._repos = undefined;\n    this._addons = undefined;\n    this._filter = undefined;\n    await reloadHassioAddons(this.hass);\n    await this._loadData();\n  }\n\n  protected render(): TemplateResult {\n    if (!this._addons || !this._repos) {\n      return html`\n        <loading-screen></loading-screen>\n      `;\n    }\n    const repos: TemplateResult[] = [];\n\n    for (const repo of this._repos) {\n      const addons = this._addons!.filter(\n        (addon) => addon.repository === repo.slug\n      );\n\n      if (addons.length === 0) {\n        continue;\n      }\n\n      repos.push(html`\n        <hassio-addon-repository\n          .hass=${this.hass}\n          .repo=${repo}\n          .addons=${addons}\n          .filter=${this._filter}\n        ></hassio-addon-repository>\n      `);\n    }\n\n    return html`\n      <hassio-repositories-editor\n        .hass=${this.hass}\n        .repos=${this._repos}\n      ></hassio-repositories-editor>\n\n      <hassio-search-input\n        .filter=${this._filter}\n        @value-changed=${this._filterChanged}\n      ></hassio-search-input>\n\n      ${repos}\n    `;\n  }\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n    this.addEventListener(\"hass-api-called\", (ev) => this.apiCalled(ev));\n    this._loadData();\n  }\n\n  private apiCalled(ev) {\n    if (ev.detail.success) {\n      this._loadData();\n    }\n  }\n\n  private async _loadData() {\n    try {\n      const addonsInfo = await fetchHassioAddonsInfo(this.hass);\n      this._repos = addonsInfo.repositories;\n      this._repos.sort(sortRepos);\n      this._addons = addonsInfo.addons;\n    } catch (err) {\n      alert(\"Failed to fetch add-on info\");\n    }\n  }\n\n  private async _filterChanged(e) {\n    this._filter = e.detail.value;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      hassio-addon-repository {\n        margin-top: 24px;\n      }\n    `;\n  }\n}\n\ncustomElements.define(\"hassio-addon-store\", HassioAddonStore);\n","import \"@material/mwc-button\";\nimport \"@polymer/paper-card/paper-card\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\n\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { haStyle } from \"../../../src/resources/styles\";\nimport {\n  HassioHostInfo as HassioHostInfoType,\n  HassioHassOSInfo,\n} from \"../../../src/data/hassio/host\";\nimport { fetchHassioHardwareInfo } from \"../../../src/data/hassio/hardware\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport { showHassioMarkdownDialog } from \"../dialogs/markdown/show-dialog-hassio-markdown\";\n\nimport \"../../../src/components/buttons/ha-call-api-button\";\n\n@customElement(\"hassio-host-info\")\nclass HassioHostInfo extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public hostInfo!: HassioHostInfoType;\n  @property() public hassOsInfo!: HassioHassOSInfo;\n  @property() private _errors?: string;\n\n  public render(): TemplateResult | void {\n    return html`\n      <paper-card>\n        <div class=\"card-content\">\n          <h2>Host system</h2>\n          <table class=\"info\">\n            <tbody>\n              <tr>\n                <td>Hostname</td>\n                <td>${this.hostInfo.hostname}</td>\n              </tr>\n              <tr>\n                <td>System</td>\n                <td>${this.hostInfo.operating_system}</td>\n              </tr>\n              ${this.hostInfo.deployment\n                ? html`\n                    <tr>\n                      <td>Deployment</td>\n                      <td>${this.hostInfo.deployment}</td>\n                    </tr>\n                  `\n                : \"\"}\n            </tbody>\n          </table>\n          <mwc-button raised @click=${this._showHardware} class=\"info\">\n            Hardware\n          </mwc-button>\n          ${this.hostInfo.features.includes(\"hostname\")\n            ? html`\n                <mwc-button\n                  raised\n                  @click=${this._changeHostnameClicked}\n                  class=\"info\"\n                >\n                  Change hostname\n                </mwc-button>\n              `\n            : \"\"}\n          ${this._errors\n            ? html`\n                <div class=\"errors\">Error: ${this._errors}</div>\n              `\n            : \"\"}\n        </div>\n        <div class=\"card-actions\">\n          ${this.hostInfo.features.includes(\"reboot\")\n            ? html`\n                <ha-call-api-button\n                  class=\"warning\"\n                  .hass=${this.hass}\n                  path=\"hassio/host/reboot\"\n                  >Reboot</ha-call-api-button\n                >\n              `\n            : \"\"}\n          ${this.hostInfo.features.includes(\"shutdown\")\n            ? html`\n                <ha-call-api-button\n                  class=\"warning\"\n                  .hass=${this.hass}\n                  path=\"hassio/host/shutdown\"\n                  >Shutdown</ha-call-api-button\n                >\n              `\n            : \"\"}\n          ${this.hostInfo.features.includes(\"hassos\")\n            ? html`\n                <ha-call-api-button\n                  class=\"warning\"\n                  .hass=${this.hass}\n                  path=\"hassio/os/config/sync\"\n                  title=\"Load HassOS configs or updates from USB\"\n                  >Import from USB</ha-call-api-button\n                >\n              `\n            : \"\"}\n          ${this.hostInfo.version !== this.hostInfo.version_latest\n            ? html`\n                <ha-call-api-button .hass=${this.hass} path=\"hassio/os/update\"\n                  >Update</ha-call-api-button\n                >\n              `\n            : \"\"}\n        </div>\n      </paper-card>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        paper-card {\n          height: 100%;\n          width: 100%;\n        }\n        .card-content {\n          color: var(--primary-text-color);\n          box-sizing: border-box;\n          height: calc(100% - 47px);\n        }\n        .info {\n          width: 100%;\n        }\n        .info td:nth-child(2) {\n          text-align: right;\n        }\n        .errors {\n          color: var(--google-red-500);\n          margin-top: 16px;\n        }\n        mwc-button.info {\n          max-width: calc(50% - 12px);\n        }\n        table.info {\n          margin-bottom: 10px;\n        }\n        .warning {\n          --mdc-theme-primary: var(--google-red-500);\n        }\n      `,\n    ];\n  }\n\n  protected firstUpdated(): void {\n    this.addEventListener(\"hass-api-called\", (ev) => this._apiCalled(ev));\n  }\n\n  private _apiCalled(ev): void {\n    if (ev.detail.success) {\n      this._errors = undefined;\n      return;\n    }\n\n    const response = ev.detail.response;\n\n    this._errors =\n      typeof response.body === \"object\"\n        ? response.body.message || \"Unknown error\"\n        : response.body;\n  }\n\n  private async _showHardware(): Promise<void> {\n    try {\n      const content = this._objectToMarkdown(\n        await fetchHassioHardwareInfo(this.hass)\n      );\n      showHassioMarkdownDialog(this, {\n        title: \"Hardware\",\n        content,\n      });\n    } catch (err) {\n      showHassioMarkdownDialog(this, {\n        title: \"Hardware\",\n        content: \"Error getting hardware info\",\n      });\n    }\n  }\n\n  private _objectToMarkdown(obj, indent = \"\"): string {\n    let data = \"\";\n    Object.keys(obj).forEach((key) => {\n      if (typeof obj[key] !== \"object\") {\n        data += `${indent}- ${key}: ${obj[key]}\\n`;\n      } else {\n        data += `${indent}- ${key}:\\n`;\n        if (Array.isArray(obj[key])) {\n          if (obj[key].length) {\n            data +=\n              `${indent}    - ` + obj[key].join(`\\n${indent}    - `) + \"\\n\";\n          }\n        } else {\n          data += this._objectToMarkdown(obj[key], `    ${indent}`);\n        }\n      }\n    });\n\n    return data;\n  }\n\n  private _changeHostnameClicked(): void {\n    const curHostname = this.hostInfo.hostname;\n    const hostname = prompt(\"Please enter a new hostname:\", curHostname);\n    if (hostname && hostname !== curHostname) {\n      this.hass.callApi(\"POST\", \"hassio/host/options\", { hostname });\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-host-info\": HassioHostInfo;\n  }\n}\n","import \"@material/mwc-button\";\nimport \"@polymer/paper-card/paper-card\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\n\nimport { fireEvent } from \"../../../src/common/dom/fire_event\";\nimport {\n  HassioSupervisorInfo as HassioSupervisorInfoType,\n  setSupervisorOption,\n  SupervisorOptions,\n} from \"../../../src/data/hassio/supervisor\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { haStyle } from \"../../../src/resources/styles\";\n\nimport \"../../../src/components/buttons/ha-call-api-button\";\n\n@customElement(\"hassio-supervisor-info\")\nclass HassioSupervisorInfo extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public supervisorInfo!: HassioSupervisorInfoType;\n  @property() private _errors?: string;\n\n  public render(): TemplateResult | void {\n    return html`\n      <paper-card>\n        <div class=\"card-content\">\n          <h2>Supervisor</h2>\n          <table class=\"info\">\n            <tbody>\n              <tr>\n                <td>Version</td>\n                <td>${this.supervisorInfo.version}</td>\n              </tr>\n              <tr>\n                <td>Latest version</td>\n                <td>${this.supervisorInfo.version_latest}</td>\n              </tr>\n              ${this.supervisorInfo.channel !== \"stable\"\n                ? html`\n                    <tr>\n                      <td>Channel</td>\n                      <td>${this.supervisorInfo.channel}</td>\n                    </tr>\n                  `\n                : \"\"}\n            </tbody>\n          </table>\n          ${this._errors\n            ? html`\n                <div class=\"errors\">Error: ${this._errors}</div>\n              `\n            : \"\"}\n        </div>\n        <div class=\"card-actions\">\n          <ha-call-api-button .hass=${this.hass} path=\"hassio/supervisor/reload\"\n            >Reload</ha-call-api-button\n          >\n          ${this.supervisorInfo.version !== this.supervisorInfo.version_latest\n            ? html`\n                <ha-call-api-button\n                  .hass=${this.hass}\n                  path=\"hassio/supervisor/update\"\n                  >Update</ha-call-api-button\n                >\n              `\n            : \"\"}\n          ${this.supervisorInfo.channel === \"beta\"\n            ? html`\n                <ha-call-api-button\n                  .hass=${this.hass}\n                  path=\"hassio/supervisor/options\"\n                  .data=${{ channel: \"stable\" }}\n                  >Leave beta channel</ha-call-api-button\n                >\n              `\n            : \"\"}\n          ${this.supervisorInfo.channel === \"stable\"\n            ? html`\n                <mwc-button\n                  @click=${this._joinBeta}\n                  class=\"warning\"\n                  title=\"Get beta updates for Home Assistant (RCs), supervisor and host\"\n                  >Join beta channel</mwc-button\n                >\n              `\n            : \"\"}\n        </div>\n      </paper-card>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        paper-card {\n          height: 100%;\n          width: 100%;\n        }\n        .card-content {\n          color: var(--primary-text-color);\n          box-sizing: border-box;\n          height: calc(100% - 47px);\n        }\n        .info {\n          width: 100%;\n        }\n        .info td:nth-child(2) {\n          text-align: right;\n        }\n        .errors {\n          color: var(--google-red-500);\n          margin-top: 16px;\n        }\n      `,\n    ];\n  }\n\n  protected firstUpdated(): void {\n    this.addEventListener(\"hass-api-called\", (ev) => this._apiCalled(ev));\n  }\n\n  private _apiCalled(ev): void {\n    if (ev.detail.success) {\n      this._errors = undefined;\n      return;\n    }\n\n    const response = ev.detail.response;\n\n    this._errors =\n      typeof response.body === \"object\"\n        ? response.body.message || \"Unknown error\"\n        : response.body;\n  }\n\n  private async _joinBeta() {\n    if (\n      !confirm(`WARNING:\nBeta releases are for testers and early adopters and can contain unstable code changes. Make sure you have backups of your data before you activate this feature.\n\nThis includes beta releases for:\n- Home Assistant (Release Candidates)\n- Hass.io supervisor\n- Host system`)\n    ) {\n      return;\n    }\n    try {\n      const data: SupervisorOptions = { channel: \"beta\" };\n      await setSupervisorOption(this.hass, data);\n      const eventdata = {\n        success: true,\n        response: undefined,\n        path: \"option\",\n      };\n      fireEvent(this, \"hass-api-called\", eventdata);\n    } catch (err) {\n      this._errors = `Error joining beta channel, ${err.body?.message || err}`;\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-supervisor-info\": HassioSupervisorInfo;\n  }\n}\n","import \"@material/mwc-button\";\nimport \"@polymer/paper-card/paper-card\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n  query,\n} from \"lit-element\";\n\nimport { ANSI_HTML_STYLE, parseTextToColoredPre } from \"../ansi-to-html\";\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { haStyle } from \"../../../src/resources/styles\";\nimport { HomeAssistant } from \"../../../src/types\";\nimport { fetchSupervisorLogs } from \"../../../src/data/hassio/supervisor\";\n\n@customElement(\"hassio-supervisor-log\")\nclass HassioSupervisorLog extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() private _error?: string;\n  @query(\"#content\") private _logContent!: HTMLDivElement;\n\n  public async connectedCallback(): Promise<void> {\n    super.connectedCallback();\n    await this._loadData();\n  }\n\n  public render(): TemplateResult | void {\n    return html`\n      <paper-card>\n        ${this._error\n          ? html`\n              <div class=\"errors\">${this._error}</div>\n            `\n          : \"\"}\n        <div class=\"card-content\" id=\"content\"></div>\n        <div class=\"card-actions\">\n          <mwc-button @click=${this._refresh}>Refresh</mwc-button>\n        </div>\n      </paper-card>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      ANSI_HTML_STYLE,\n      css`\n        paper-card {\n          width: 100%;\n        }\n        pre {\n          white-space: pre-wrap;\n        }\n        .errors {\n          color: var(--google-red-500);\n          margin-bottom: 16px;\n        }\n      `,\n    ];\n  }\n\n  private async _loadData(): Promise<void> {\n    this._error = undefined;\n    try {\n      const content = await fetchSupervisorLogs(this.hass);\n      while (this._logContent.lastChild) {\n        this._logContent.removeChild(this._logContent.lastChild as Node);\n      }\n      this._logContent.appendChild(parseTextToColoredPre(content));\n    } catch (err) {\n      this._error = `Failed to get supervisor logs, ${err.body?.message ||\n        err}`;\n    }\n  }\n\n  private async _refresh(): Promise<void> {\n    await this._loadData();\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-supervisor-log\": HassioSupervisorLog;\n  }\n}\n","import \"@polymer/paper-menu-button/paper-menu-button\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\n\nimport { hassioStyle } from \"../resources/hassio-style\";\nimport { haStyle } from \"../../../src/resources/styles\";\nimport {\n  HassioHostInfo,\n  HassioHassOSInfo,\n} from \"../../../src/data/hassio/host\";\nimport { HassioSupervisorInfo } from \"../../../src/data/hassio/supervisor\";\nimport { HomeAssistant } from \"../../../src/types\";\n\nimport \"./hassio-host-info\";\nimport \"./hassio-supervisor-info\";\nimport \"./hassio-supervisor-log\";\n\n@customElement(\"hassio-system\")\nclass HassioSystem extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public supervisorInfo!: HassioSupervisorInfo;\n  @property() public hostInfo!: HassioHostInfo;\n  @property() public hassOsInfo!: HassioHassOSInfo;\n\n  public render(): TemplateResult | void {\n    return html`\n      <div class=\"content\">\n        <h1>Information</h1>\n        <div class=\"card-group\">\n          <hassio-supervisor-info\n            .hass=${this.hass}\n            .supervisorInfo=${this.supervisorInfo}\n          ></hassio-supervisor-info>\n          <hassio-host-info\n            .hass=${this.hass}\n            .hostInfo=${this.hostInfo}\n            .hassOsInfo=${this.hassOsInfo}\n          ></hassio-host-info>\n        </div>\n        <h1>System log</h1>\n        <hassio-supervisor-log .hass=${this.hass}></hassio-supervisor-log>\n      </div>\n    `;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyle,\n      hassioStyle,\n      css`\n        .content {\n          margin: 8px;\n          color: var(--primary-text-color);\n        }\n        .title {\n          margin-top: 24px;\n          color: var(--primary-text-color);\n          font-size: 2em;\n          padding-left: 8px;\n          margin-bottom: 8px;\n        }\n        hassio-supervisor-log {\n          width: 100%;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-system\": HassioSystem;\n  }\n}\n","import {\n  HassRouterPage,\n  RouterOptions,\n} from \"../../src/layouts/hass-router-page\";\nimport { customElement, property } from \"lit-element\";\nimport { PolymerElement } from \"@polymer/polymer\";\nimport { HomeAssistant } from \"../../src/types\";\n// Don't codesplit it, that way the dashboard always loads fast.\nimport \"./dashboard/hassio-dashboard\";\n// Don't codesplit the others, because it breaks the UI when pushed to a Pi\nimport \"./snapshots/hassio-snapshots\";\nimport \"./addon-store/hassio-addon-store\";\nimport \"./system/hassio-system\";\nimport { HassioHostInfo, HassioHassOSInfo } from \"../../src/data/hassio/host\";\nimport {\n  HassioSupervisorInfo,\n  HassioHomeAssistantInfo,\n} from \"../../src/data/hassio/supervisor\";\n\n@customElement(\"hassio-tabs-router\")\nclass HassioTabsRouter extends HassRouterPage {\n  @property() public hass!: HomeAssistant;\n  @property() public supervisorInfo: HassioSupervisorInfo;\n  @property() public hostInfo: HassioHostInfo;\n  @property() public hassInfo: HassioHomeAssistantInfo;\n  @property() public hassOsInfo!: HassioHassOSInfo;\n\n  protected routerOptions: RouterOptions = {\n    routes: {\n      dashboard: {\n        tag: \"hassio-dashboard\",\n      },\n      snapshots: {\n        tag: \"hassio-snapshots\",\n      },\n      store: {\n        tag: \"hassio-addon-store\",\n      },\n      system: {\n        tag: \"hassio-system\",\n      },\n    },\n  };\n\n  protected updatePageEl(el) {\n    if (\"setProperties\" in el) {\n      // As long as we have Polymer pages\n      (el as PolymerElement).setProperties({\n        hass: this.hass,\n        supervisorInfo: this.supervisorInfo,\n        hostInfo: this.hostInfo,\n        hassInfo: this.hassInfo,\n        hassOsInfo: this.hassOsInfo,\n      });\n    } else {\n      el.hass = this.hass;\n      el.supervisorInfo = this.supervisorInfo;\n      el.hostInfo = this.hostInfo;\n      el.hassInfo = this.hassInfo;\n      el.hassOsInfo = this.hassOsInfo;\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-tabs-router\": HassioTabsRouter;\n  }\n}\n","import {\n  LitElement,\n  TemplateResult,\n  html,\n  CSSResultArray,\n  css,\n  customElement,\n  property,\n} from \"lit-element\";\nimport \"@polymer/app-layout/app-header-layout/app-header-layout\";\nimport \"@polymer/app-layout/app-header/app-header\";\nimport \"@polymer/app-layout/app-toolbar/app-toolbar\";\nimport \"@polymer/paper-icon-button/paper-icon-button\";\nimport \"@polymer/paper-tabs/paper-tab\";\nimport \"@polymer/paper-tabs/paper-tabs\";\n\nimport \"../../src/components/ha-menu-button\";\nimport \"../../src/resources/ha-style\";\nimport \"./hassio-tabs-router\";\n\nimport scrollToTarget from \"../../src/common/dom/scroll-to-target\";\n\nimport { haStyle } from \"../../src/resources/styles\";\nimport { HomeAssistant, Route } from \"../../src/types\";\nimport { navigate } from \"../../src/common/navigate\";\nimport { HassioHostInfo, HassioHassOSInfo } from \"../../src/data/hassio/host\";\nimport {\n  HassioSupervisorInfo,\n  HassioHomeAssistantInfo,\n} from \"../../src/data/hassio/supervisor\";\n\nconst HAS_REFRESH_BUTTON = [\"store\", \"snapshots\"];\n\n@customElement(\"hassio-pages-with-tabs\")\nclass HassioPagesWithTabs extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public narrow!: boolean;\n  @property() public route!: Route;\n  @property() public supervisorInfo!: HassioSupervisorInfo;\n  @property() public hostInfo!: HassioHostInfo;\n  @property() public hassInfo!: HassioHomeAssistantInfo;\n  @property() public hassOsInfo!: HassioHassOSInfo;\n\n  protected render(): TemplateResult {\n    const page = this._page;\n    return html`\n      <app-header-layout has-scrolling-region>\n        <app-header fixed slot=\"header\">\n          <app-toolbar>\n            <ha-menu-button\n              .hass=${this.hass}\n              .narrow=${this.narrow}\n              hassio\n            ></ha-menu-button>\n            <div main-title>Supervisor</div>\n            ${HAS_REFRESH_BUTTON.includes(page)\n              ? html`\n                  <paper-icon-button\n                    icon=\"hassio:refresh\"\n                    @click=${this.refreshClicked}\n                  ></paper-icon-button>\n                `\n              : undefined}\n          </app-toolbar>\n          <paper-tabs\n            scrollable\n            attr-for-selected=\"page-name\"\n            .selected=${page}\n            @iron-activate=${this.handlePageSelected}\n          >\n            <paper-tab page-name=\"dashboard\">Dashboard</paper-tab>\n            <paper-tab page-name=\"snapshots\">Snapshots</paper-tab>\n            <paper-tab page-name=\"store\">Add-on store</paper-tab>\n            <paper-tab page-name=\"system\">System</paper-tab>\n          </paper-tabs>\n        </app-header>\n        <hassio-tabs-router\n          .route=${this.route}\n          .hass=${this.hass}\n          .supervisorInfo=${this.supervisorInfo}\n          .hostInfo=${this.hostInfo}\n          .hassInfo=${this.hassInfo}\n          .hassOsInfo=${this.hassOsInfo}\n        ></hassio-tabs-router>\n      </app-header-layout>\n    `;\n  }\n\n  private handlePageSelected(ev) {\n    const newPage = ev.detail.item.getAttribute(\"page-name\");\n    if (newPage !== this._page) {\n      navigate(this, `/hassio/${newPage}`);\n    }\n\n    scrollToTarget(\n      this,\n      // @ts-ignore\n      this.shadowRoot!.querySelector(\"app-header-layout\").header.scrollTarget\n    );\n  }\n\n  private refreshClicked() {\n    if (this._page === \"snapshots\") {\n      // @ts-ignore\n      this.shadowRoot.querySelector(\"hassio-snapshots\").refreshData();\n    } else {\n      // @ts-ignore\n      this.shadowRoot.querySelector(\"hassio-addon-store\").refreshData();\n    }\n  }\n\n  private get _page() {\n    return this.route.path.substr(1);\n  }\n\n  static get styles(): CSSResultArray {\n    return [\n      haStyle,\n      css`\n        :host {\n          color: var(--primary-text-color);\n          --paper-card-header-color: var(--primary-text-color);\n        }\n        paper-tabs {\n          margin-left: 12px;\n          --paper-tabs-selection-bar-color: var(--text-primary-color, #fff);\n          text-transform: uppercase;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-pages-with-tabs\": HassioPagesWithTabs;\n  }\n}\n","/**\n * Scroll to a specific y coordinate.\n *\n * Copied from paper-scroll-header-panel.\n *\n * @method scroll\n * @param {number} top The coordinate to scroll to, along the y-axis.\n * @param {boolean} smooth true if the scroll position should be smoothly adjusted.\n */\nexport default function scrollToTarget(element, target) {\n  // the scroll event will trigger _updateScrollState directly,\n  // However, _updateScrollState relies on the previous `scrollTop` to update the states.\n  // Calling _updateScrollState will ensure that the states are synced correctly.\n  const top = 0;\n  const scroller = target;\n  const easingFn = function easeOutQuad(t, b, c, d) {\n    /* eslint-disable no-param-reassign, space-infix-ops, no-mixed-operators */\n    t /= d;\n    return -c * t * (t - 2) + b;\n    /* eslint-enable no-param-reassign, space-infix-ops, no-mixed-operators */\n  };\n  const animationId = Math.random();\n  const duration = 200;\n  const startTime = Date.now();\n  const currentScrollTop = scroller.scrollTop;\n  const deltaScrollTop = top - currentScrollTop;\n  element._currentAnimationId = animationId;\n  (function updateFrame() {\n    const now = Date.now();\n    const elapsedTime = now - startTime;\n    if (elapsedTime > duration) {\n      scroller.scrollTop = top;\n    } else if (element._currentAnimationId === animationId) {\n      scroller.scrollTop = easingFn(\n        elapsedTime,\n        currentScrollTop,\n        deltaScrollTop,\n        duration\n      );\n      requestAnimationFrame(updateFrame.bind(element));\n    }\n  }.call(element));\n}\n","import { customElement, PropertyValues, property } from \"lit-element\";\nimport { PolymerElement } from \"@polymer/polymer\";\nimport \"@polymer/paper-icon-button\";\n\nimport \"../../src/resources/ha-style\";\nimport { applyThemesOnElement } from \"../../src/common/dom/apply_themes_on_element\";\nimport { fireEvent } from \"../../src/common/dom/fire_event\";\nimport {\n  HassRouterPage,\n  RouterOptions,\n} from \"../../src/layouts/hass-router-page\";\nimport { HomeAssistant } from \"../../src/types\";\nimport {\n  fetchHassioSupervisorInfo,\n  fetchHassioHomeAssistantInfo,\n  HassioSupervisorInfo,\n  HassioHomeAssistantInfo,\n  createHassioSession,\n  HassioPanelInfo,\n} from \"../../src/data/hassio/supervisor\";\nimport {\n  fetchHassioHostInfo,\n  fetchHassioHassOsInfo,\n  HassioHostInfo,\n  HassioHassOSInfo,\n} from \"../../src/data/hassio/host\";\nimport { fetchHassioAddonInfo } from \"../../src/data/hassio/addon\";\nimport { makeDialogManager } from \"../../src/dialogs/make-dialog-manager\";\nimport { ProvideHassLitMixin } from \"../../src/mixins/provide-hass-lit-mixin\";\n// Don't codesplit it, that way the dashboard always loads fast.\nimport \"./hassio-pages-with-tabs\";\nimport { navigate } from \"../../src/common/navigate\";\nimport {\n  showAlertDialog,\n  AlertDialogParams,\n} from \"../../src/dialogs/generic/show-dialog-box\";\n\n// The register callback of the IronA11yKeysBehavior inside paper-icon-button\n// is not called, causing _keyBindings to be uninitiliazed for paper-icon-button,\n// causing an exception when added to DOM. When transpiled to ES5, this will\n// break the build.\ncustomElements.get(\"paper-icon-button\").prototype._keyBindings = {};\n\n@customElement(\"hassio-main\")\nclass HassioMain extends ProvideHassLitMixin(HassRouterPage) {\n  @property() public hass!: HomeAssistant;\n  @property() public panel!: HassioPanelInfo;\n  @property() public narrow!: boolean;\n\n  protected routerOptions: RouterOptions = {\n    // Hass.io has a page with tabs, so we route all non-matching routes to it.\n    defaultPage: \"dashboard\",\n    initialLoad: () => this._fetchData(),\n    showLoading: true,\n    routes: {\n      dashboard: {\n        tag: \"hassio-pages-with-tabs\",\n        cache: true,\n      },\n      snapshots: \"dashboard\",\n      store: \"dashboard\",\n      system: \"dashboard\",\n      addon: {\n        tag: \"hassio-addon-view\",\n        load: () =>\n          import(\n            /* webpackChunkName: \"hassio-addon-view\" */ \"./addon-view/hassio-addon-view\"\n          ),\n      },\n      ingress: {\n        tag: \"hassio-ingress-view\",\n        load: () =>\n          import(\n            /* webpackChunkName: \"hassio-ingress-view\" */ \"./ingress-view/hassio-ingress-view\"\n          ),\n      },\n    },\n  };\n  @property() private _supervisorInfo: HassioSupervisorInfo;\n  @property() private _hostInfo: HassioHostInfo;\n  @property() private _hassOsInfo?: HassioHassOSInfo;\n  @property() private _hassInfo: HassioHomeAssistantInfo;\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n\n    applyThemesOnElement(\n      this.parentElement,\n      this.hass.themes,\n      this.hass.selectedTheme || this.hass.themes.default_theme\n    );\n    this.addEventListener(\"hass-api-called\", (ev) => this._apiCalled(ev));\n    // Paulus - March 17, 2019\n    // We went to a single hass-toggle-menu event in HA 0.90. However, the\n    // supervisor UI can also run under older versions of Home Assistant.\n    // So here we are going to translate toggle events into the appropriate\n    // open and close events. These events are a no-op in newer versions of\n    // Home Assistant.\n    this.addEventListener(\"hass-toggle-menu\", () => {\n      fireEvent(\n        (window.parent as any).customPanel,\n        // @ts-ignore\n        this.hass.dockedSidebar ? \"hass-close-menu\" : \"hass-open-menu\"\n      );\n    });\n    // Paulus - March 19, 2019\n    // We changed the navigate event to fire directly on the window, as that's\n    // where we are listening for it. However, the older panel_custom will\n    // listen on this element for navigation events, so we need to forward them.\n    window.addEventListener(\"location-changed\", (ev) =>\n      // @ts-ignore\n      fireEvent(this, ev.type, ev.detail, {\n        bubbles: false,\n      })\n    );\n\n    // Forward haptic events to parent window.\n    window.addEventListener(\"haptic\", (ev) => {\n      // @ts-ignore\n      fireEvent(window.parent, ev.type, ev.detail, {\n        bubbles: false,\n      });\n    });\n\n    makeDialogManager(this, document.body);\n  }\n\n  protected updatePageEl(el) {\n    // the tabs page does its own routing so needs full route.\n    const route =\n      el.nodeName === \"HASSIO-PAGES-WITH-TABS\" ? this.route : this.routeTail;\n\n    if (\"setProperties\" in el) {\n      // As long as we have Polymer pages\n      (el as PolymerElement).setProperties({\n        hass: this.hass,\n        narrow: this.narrow,\n        supervisorInfo: this._supervisorInfo,\n        hostInfo: this._hostInfo,\n        hassInfo: this._hassInfo,\n        hassOsInfo: this._hassOsInfo,\n        route,\n      });\n    } else {\n      el.hass = this.hass;\n      el.narrow = this.narrow;\n      el.supervisorInfo = this._supervisorInfo;\n      el.hostInfo = this._hostInfo;\n      el.hassInfo = this._hassInfo;\n      el.hassOsInfo = this._hassOsInfo;\n      el.route = route;\n    }\n  }\n\n  private async _fetchData() {\n    if (this.panel.config && this.panel.config.ingress) {\n      await this._redirectIngress(this.panel.config.ingress);\n      return;\n    }\n\n    const [supervisorInfo, hostInfo, hassInfo] = await Promise.all([\n      fetchHassioSupervisorInfo(this.hass),\n      fetchHassioHostInfo(this.hass),\n      fetchHassioHomeAssistantInfo(this.hass),\n    ]);\n    this._supervisorInfo = supervisorInfo;\n    this._hostInfo = hostInfo;\n    this._hassInfo = hassInfo;\n\n    if (this._hostInfo.features && this._hostInfo.features.includes(\"hassos\")) {\n      this._hassOsInfo = await fetchHassioHassOsInfo(this.hass);\n    }\n  }\n\n  private async _redirectIngress(addonSlug: string) {\n    // When we trigger a navigation, we sleep to make sure we don't\n    // show the hassio dashboard before navigating away.\n    const awaitAlert = async (\n      alertParams: AlertDialogParams,\n      action: () => void\n    ) => {\n      await new Promise((resolve) => {\n        alertParams.confirm = resolve;\n        showAlertDialog(this, alertParams);\n      });\n      action();\n      await new Promise((resolve) => setTimeout(resolve, 1000));\n    };\n\n    const createSessionPromise = createHassioSession(this.hass).then(\n      () => true,\n      () => false\n    );\n\n    let addon;\n\n    try {\n      addon = await fetchHassioAddonInfo(this.hass, addonSlug);\n    } catch (err) {\n      await awaitAlert(\n        {\n          text: \"Unable to fetch add-on info to start Ingress\",\n          title: \"Hass.io\",\n        },\n        () => history.back()\n      );\n\n      return;\n    }\n\n    if (!addon.ingress_url) {\n      await awaitAlert(\n        {\n          text: \"Add-on does not support Ingress\",\n          title: addon.name,\n        },\n        () => history.back()\n      );\n\n      return;\n    }\n\n    if (addon.state !== \"started\") {\n      await awaitAlert(\n        {\n          text: \"Add-on is not running. Please start it first\",\n          title: addon.name,\n        },\n        () => navigate(this, `/hassio/addon/${addon.slug}`, true)\n      );\n\n      return;\n    }\n\n    if (!(await createSessionPromise)) {\n      await awaitAlert(\n        {\n          text: \"Unable to create an Ingress session\",\n          title: addon.name,\n        },\n        () => history.back()\n      );\n\n      return;\n    }\n\n    location.assign(addon.ingress_url);\n    // await a promise that doesn't resolve, so we show the loading screen\n    // while we load the next page.\n    await new Promise(() => undefined);\n  }\n\n  private _apiCalled(ev) {\n    if (!ev.detail.success) {\n      return;\n    }\n\n    let tries = 1;\n\n    const tryUpdate = () => {\n      this._fetchData().catch(() => {\n        tries += 1;\n        setTimeout(tryUpdate, Math.min(tries, 5) * 1000);\n      });\n    };\n\n    tryUpdate();\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-main\": HassioMain;\n  }\n}\n","import { HomeAssistant } from \"../../types\";\nimport { HassioResponse, hassioApiResultExtractor } from \"./common\";\n\nexport interface HassioAddonInfo {\n  name: string;\n  slug: string;\n  description: string;\n  repository: \"core\" | \"local\" | string;\n  version: string;\n  state: \"none\" | \"started\" | \"stopped\";\n  installed: string | undefined;\n  detached: boolean;\n  available: boolean;\n  build: boolean;\n  advanced: boolean;\n  url: string | null;\n  icon: boolean;\n  logo: boolean;\n}\n\nexport interface HassioAddonDetails extends HassioAddonInfo {\n  name: string;\n  slug: string;\n  description: string;\n  long_description: null | string;\n  auto_update: boolean;\n  url: null | string;\n  detached: boolean;\n  available: boolean;\n  arch: \"armhf\" | \"aarch64\" | \"i386\" | \"amd64\";\n  machine: any;\n  homeassistant: string;\n  version_latest: string;\n  boot: \"auto\" | \"manual\";\n  build: boolean;\n  options: object;\n  network: null | object;\n  network_description: null | object;\n  host_network: boolean;\n  host_pid: boolean;\n  host_ipc: boolean;\n  host_dbus: boolean;\n  privileged: any;\n  apparmor: \"disable\" | \"default\" | \"profile\";\n  devices: string[];\n  auto_uart: boolean;\n  icon: boolean;\n  logo: boolean;\n  changelog: boolean;\n  hassio_api: boolean;\n  hassio_role: \"default\" | \"homeassistant\" | \"manager\" | \"admin\";\n  homeassistant_api: boolean;\n  auth_api: boolean;\n  full_access: boolean;\n  protected: boolean;\n  rating: \"1-6\";\n  stdin: boolean;\n  webui: null | string;\n  gpio: boolean;\n  kernel_modules: boolean;\n  devicetree: boolean;\n  docker_api: boolean;\n  audio: boolean;\n  audio_input: null | string;\n  audio_output: null | string;\n  services_role: string[];\n  discovery: string[];\n  ip_address: string;\n  ingress: boolean;\n  ingress_panel: boolean;\n  ingress_entry: null | string;\n  ingress_url: null | string;\n}\n\nexport interface HassioAddonsInfo {\n  addons: HassioAddonInfo[];\n  repositories: HassioAddonRepository[];\n}\n\nexport interface HassioAddonSetSecurityParams {\n  protected?: boolean;\n}\n\nexport interface HassioAddonRepository {\n  slug: string;\n  name: string;\n  source: string;\n  url: string;\n  maintainer: string;\n}\n\nexport interface HassioAddonSetOptionParams {\n  audio_input?: string | null;\n  audio_output?: string | null;\n  options?: object | null;\n  boot?: \"auto\" | \"manual\";\n  auto_update?: boolean;\n  ingress_panel?: boolean;\n  network?: object | null;\n}\n\nexport const reloadHassioAddons = async (hass: HomeAssistant) => {\n  await hass.callApi<HassioResponse<void>>(\"POST\", `hassio/addons/reload`);\n};\n\nexport const fetchHassioAddonsInfo = async (hass: HomeAssistant) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<HassioAddonsInfo>>(\"GET\", `hassio/addons`)\n  );\n};\n\nexport const fetchHassioAddonInfo = async (\n  hass: HomeAssistant,\n  slug: string\n) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<HassioAddonDetails>>(\n      \"GET\",\n      `hassio/addons/${slug}/info`\n    )\n  );\n};\n\nexport const fetchHassioAddonChangelog = async (\n  hass: HomeAssistant,\n  slug: string\n) => {\n  return hass.callApi<string>(\"GET\", `hassio/addons/${slug}/changelog`);\n};\n\nexport const fetchHassioAddonLogs = async (\n  hass: HomeAssistant,\n  slug: string\n) => {\n  return hass.callApi<string>(\"GET\", `hassio/addons/${slug}/logs`);\n};\n\nexport const setHassioAddonOption = async (\n  hass: HomeAssistant,\n  slug: string,\n  data: HassioAddonSetOptionParams\n) => {\n  await hass.callApi<HassioResponse<void>>(\n    \"POST\",\n    `hassio/addons/${slug}/options`,\n    data\n  );\n};\n\nexport const setHassioAddonSecurity = async (\n  hass: HomeAssistant,\n  slug: string,\n  data: HassioAddonSetSecurityParams\n) => {\n  await hass.callApi<HassioResponse<void>>(\n    \"POST\",\n    `hassio/addons/${slug}/security`,\n    data\n  );\n};\n\nexport const installHassioAddon = async (hass: HomeAssistant, slug: string) => {\n  return hass.callApi<HassioResponse<void>>(\n    \"POST\",\n    `hassio/addons/${slug}/install`\n  );\n};\n\nexport const uninstallHassioAddon = async (\n  hass: HomeAssistant,\n  slug: string\n) => {\n  await hass.callApi<HassioResponse<void>>(\n    \"POST\",\n    `hassio/addons/${slug}/uninstall`\n  );\n};\n","import { fireEvent } from \"./dom/fire_event\";\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    \"location-changed\": {\n      replace: boolean;\n    };\n  }\n}\n\nexport const navigate = (\n  _node: any,\n  path: string,\n  replace: boolean = false\n) => {\n  if (__DEMO__) {\n    if (replace) {\n      history.replaceState(null, \"\", `${location.pathname}#${path}`);\n    } else {\n      window.location.hash = path;\n    }\n  } else {\n    if (replace) {\n      history.replaceState(null, \"\", path);\n    } else {\n      history.pushState(null, \"\", path);\n    }\n  }\n  fireEvent(window, \"location-changed\", {\n    replace,\n  });\n};\n","import { LocalizeFunc } from \"../translations/localize\";\n\n/**\n * Calculate a string representing a date object as relative time from now.\n *\n * Example output: 5 minutes ago, in 3 days.\n */\nconst tests = [60, 60, 24, 7];\nconst langKey = [\"second\", \"minute\", \"hour\", \"day\"];\n\nexport default function relativeTime(\n  dateObj: Date,\n  localize: LocalizeFunc,\n  options: {\n    compareTime?: Date;\n    includeTense?: boolean;\n  } = {}\n): string {\n  const compareTime = options.compareTime || new Date();\n  let delta = (compareTime.getTime() - dateObj.getTime()) / 1000;\n  const tense = delta >= 0 ? \"past\" : \"future\";\n  delta = Math.abs(delta);\n\n  let timeDesc;\n\n  for (let i = 0; i < tests.length; i++) {\n    if (delta < tests[i]) {\n      delta = Math.floor(delta);\n      timeDesc = localize(\n        `ui.components.relative_time.duration.${langKey[i]}`,\n        \"count\",\n        delta\n      );\n      break;\n    }\n\n    delta /= tests[i];\n  }\n\n  if (timeDesc === undefined) {\n    delta = Math.floor(delta);\n    timeDesc = localize(\n      \"ui.components.relative_time.duration.week\",\n      \"count\",\n      delta\n    );\n  }\n\n  return options.includeTense === false\n    ? timeDesc\n    : localize(`ui.components.relative_time.${tense}`, \"time\", timeDesc);\n}\n","import { dedupingMixin } from \"@polymer/polymer/lib/utils/mixin\";\n/**\n * Polymer Mixin to enable a localize function powered by language/resources from hass object.\n *\n * @polymerMixin\n */\nexport default dedupingMixin(\n  (superClass) =>\n    class extends superClass {\n      static get properties() {\n        return {\n          hass: Object,\n\n          /**\n           * Translates a string to the current `language`. Any parameters to the\n           * string should be passed in order, as follows:\n           * `localize(stringKey, param1Name, param1Value, param2Name, param2Value)`\n           */\n          localize: {\n            type: Function,\n            computed: \"__computeLocalize(hass.localize)\",\n          },\n        };\n      }\n\n      __computeLocalize(localize) {\n        return localize;\n      }\n    }\n);\n","import { dom } from \"@polymer/polymer/lib/legacy/polymer.dom\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport relativeTime from \"../common/datetime/relative_time\";\n\nimport LocalizeMixin from \"../mixins/localize-mixin\";\n\n/*\n * @appliesMixin LocalizeMixin\n */\nclass HaRelativeTime extends LocalizeMixin(PolymerElement) {\n  static get properties() {\n    return {\n      hass: Object,\n      datetime: {\n        type: String,\n        observer: \"datetimeChanged\",\n      },\n\n      datetimeObj: {\n        type: Object,\n        observer: \"datetimeObjChanged\",\n      },\n\n      parsedDateTime: Object,\n    };\n  }\n\n  constructor() {\n    super();\n    this.updateRelative = this.updateRelative.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // update every 60 seconds\n    this.updateInterval = setInterval(this.updateRelative, 60000);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    clearInterval(this.updateInterval);\n  }\n\n  datetimeChanged(newVal) {\n    this.parsedDateTime = newVal ? new Date(newVal) : null;\n\n    this.updateRelative();\n  }\n\n  datetimeObjChanged(newVal) {\n    this.parsedDateTime = newVal;\n\n    this.updateRelative();\n  }\n\n  updateRelative() {\n    const root = dom(this);\n    if (!this.parsedDateTime) {\n      root.innerHTML = this.localize(\"ui.components.relative_time.never\");\n    } else {\n      root.innerHTML = relativeTime(this.parsedDateTime, this.localize);\n    }\n  }\n}\n\ncustomElements.define(\"ha-relative-time\", HaRelativeTime);\n","import {\n  LitElement,\n  TemplateResult,\n  html,\n  CSSResult,\n  css,\n  property,\n  customElement,\n} from \"lit-element\";\nimport \"@polymer/iron-icon/iron-icon\";\n\nimport \"../../../src/components/ha-relative-time\";\nimport { HomeAssistant } from \"../../../src/types\";\n\n@customElement(\"hassio-card-content\")\nclass HassioCardContent extends LitElement {\n  @property() public hass!: HomeAssistant;\n  @property() public title!: string;\n  @property() public description?: string;\n  @property({ type: Boolean }) public available: boolean = true;\n  @property({ type: Boolean }) public showTopbar: boolean = false;\n  @property() public topbarClass?: string;\n  @property() public datetime?: string;\n  @property() public iconTitle?: string;\n  @property() public iconClass?: string;\n  @property() public icon = \"hass:help-circle\";\n  @property() public iconImage?: string;\n\n  protected render(): TemplateResult {\n    return html`\n      ${this.showTopbar\n        ? html`\n            <div class=\"topbar ${this.topbarClass}\"></div>\n          `\n        : \"\"}\n      ${this.iconImage\n        ? html`\n            <div class=\"icon_image ${this.iconClass}\">\n              <img src=\"${this.iconImage}\" title=\"${this.iconTitle}\" />\n              <div></div>\n            </div>\n          `\n        : html`\n            <iron-icon\n              class=${this.iconClass}\n              .icon=${this.icon}\n              .title=${this.iconTitle}\n            ></iron-icon>\n          `}\n      <div>\n        <div class=\"title\">\n          ${this.title}\n        </div>\n        <div class=\"addition\">\n          ${this.description}\n          ${/* treat as available when undefined */\n          this.available === false ? \" (Not available)\" : \"\"}\n          ${this.datetime\n            ? html`\n                <ha-relative-time\n                  .hass=${this.hass}\n                  class=\"addition\"\n                  .datetime=${this.datetime}\n                ></ha-relative-time>\n              `\n            : undefined}\n        </div>\n      </div>\n    `;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      iron-icon {\n        margin-right: 24px;\n        margin-left: 8px;\n        margin-top: 12px;\n        float: left;\n        color: var(--secondary-text-color);\n      }\n      iron-icon.update {\n        color: var(--paper-orange-400);\n      }\n      iron-icon.running,\n      iron-icon.installed {\n        color: var(--paper-green-400);\n      }\n      iron-icon.hassupdate,\n      iron-icon.snapshot {\n        color: var(--paper-item-icon-color);\n      }\n      iron-icon.not_available {\n        color: var(--google-red-500);\n      }\n      .title {\n        color: var(--primary-text-color);\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n      .addition {\n        color: var(--secondary-text-color);\n        overflow: hidden;\n        position: relative;\n        height: 2.4em;\n        line-height: 1.2em;\n      }\n      ha-relative-time {\n        display: block;\n      }\n      .icon_image img {\n        max-height: 40px;\n        max-width: 40px;\n        margin-top: 4px;\n        margin-right: 16px;\n        float: left;\n      }\n      .icon_image.stopped,\n      .icon_image.not_available {\n        filter: grayscale(1);\n      }\n      .dot {\n        position: absolute;\n        background-color: var(--paper-orange-400);\n        width: 12px;\n        height: 12px;\n        top: 8px;\n        right: 8px;\n        border-radius: 50%;\n      }\n      .topbar {\n        position: absolute;\n        width: 100%;\n        height: 2px;\n        top: 0;\n        left: 0;\n        border-top-left-radius: 2px;\n        border-top-right-radius: 2px;\n      }\n      .topbar.installed {\n        background-color: var(--primary-color);\n      }\n      .topbar.update {\n        background-color: var(--accent-color);\n      }\n      .topbar.unavailable {\n        background-color: var(--error-color);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hassio-card-content\": HassioCardContent;\n  }\n}\n","export interface HassioResponse<T> {\n  data: T;\n  result: \"ok\";\n}\n\nexport const hassioApiResultExtractor = <T>(response: HassioResponse<T>) =>\n  response.data;\n","import { LitElement, html } from \"lit-element\";\n\nimport \"./ha-progress-button\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\n\nclass HaCallApiButton extends LitElement {\n  render() {\n    return html`\n      <ha-progress-button\n        .progress=\"${this.progress}\"\n        @click=\"${this._buttonTapped}\"\n        ?disabled=\"${this.disabled}\"\n        ><slot></slot\n      ></ha-progress-button>\n    `;\n  }\n\n  constructor() {\n    super();\n    this.method = \"POST\";\n    this.data = {};\n    this.disabled = false;\n    this.progress = false;\n  }\n\n  static get properties() {\n    return {\n      hass: {},\n      progress: Boolean,\n      path: String,\n      method: String,\n      data: {},\n      disabled: Boolean,\n    };\n  }\n\n  get progressButton() {\n    return this.renderRoot.querySelector(\"ha-progress-button\");\n  }\n\n  async _buttonTapped() {\n    this.progress = true;\n    const eventData = {\n      method: this.method,\n      path: this.path,\n      data: this.data,\n    };\n\n    try {\n      const resp = await this.hass.callApi(this.method, this.path, this.data);\n      this.progress = false;\n      this.progressButton.actionSuccess();\n      eventData.success = true;\n      eventData.response = resp;\n    } catch (err) {\n      this.progress = false;\n      this.progressButton.actionError();\n      eventData.success = false;\n      eventData.response = err;\n    }\n\n    fireEvent(this, \"hass-api-called\", eventData);\n  }\n}\n\ncustomElements.define(\"ha-call-api-button\", HaCallApiButton);\n","import { HomeAssistant, PanelInfo } from \"../../types\";\nimport { HassioResponse, hassioApiResultExtractor } from \"./common\";\n\nexport type HassioHomeAssistantInfo = any;\nexport type HassioSupervisorInfo = any;\n\nexport type HassioPanelInfo = PanelInfo<\n  | undefined\n  | {\n      ingress?: string;\n    }\n>;\n\nexport interface CreateSessionResponse {\n  session: string;\n}\n\nexport interface SupervisorOptions {\n  channel: \"beta\" | \"dev\" | \"stable\";\n}\n\nexport const fetchHassioHomeAssistantInfo = async (hass: HomeAssistant) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<HassioHomeAssistantInfo>>(\n      \"GET\",\n      \"hassio/core/info\"\n    )\n  );\n};\n\nexport const fetchHassioSupervisorInfo = async (hass: HomeAssistant) => {\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<HassioSupervisorInfo>>(\n      \"GET\",\n      \"hassio/supervisor/info\"\n    )\n  );\n};\n\nexport const fetchSupervisorLogs = async (hass: HomeAssistant) => {\n  return hass.callApi<string>(\"GET\", \"hassio/supervisor/logs\");\n};\n\nexport const createHassioSession = async (hass: HomeAssistant) => {\n  const response = await hass.callApi<HassioResponse<CreateSessionResponse>>(\n    \"POST\",\n    \"hassio/ingress/session\"\n  );\n  document.cookie = `ingress_session=${response.data.session};path=/api/hassio_ingress/`;\n};\n\nexport const setSupervisorOption = async (\n  hass: HomeAssistant,\n  data: SupervisorOptions\n) => {\n  await hass.callApi<HassioResponse<void>>(\n    \"POST\",\n    \"hassio/supervisor/options\",\n    data\n  );\n};\n","export const atLeastVersion = (\n  version: string,\n  major: number,\n  minor: number\n): boolean => {\n  const [haMajor, haMinor] = version.split(\".\", 2);\n  return (\n    Number(haMajor) > major ||\n    (Number(haMajor) === major && Number(haMinor) >= minor)\n  );\n};\n","import {\n  createCollection,\n  Connection,\n  HassEntity,\n} from \"home-assistant-js-websocket\";\n\nexport interface PersitentNotificationEntity extends HassEntity {\n  notification_id?: string;\n  created_at?: string;\n  title?: string;\n  message?: string;\n}\n\nexport interface PersistentNotification {\n  created_at: string;\n  message: string;\n  notification_id: string;\n  title: string;\n  status: \"read\" | \"unread\";\n}\n\nconst fetchNotifications = (conn) =>\n  conn.sendMessagePromise({\n    type: \"persistent_notification/get\",\n  });\n\nconst subscribeUpdates = (conn, store) =>\n  conn.subscribeEvents(\n    () => fetchNotifications(conn).then((ntf) => store.setState(ntf, true)),\n    \"persistent_notifications_updated\"\n  );\n\nexport const subscribeNotifications = (\n  conn: Connection,\n  onChange: (notifications: PersistentNotification[]) => void\n) =>\n  createCollection<PersistentNotification[]>(\n    \"_ntf\",\n    fetchNotifications,\n    subscribeUpdates,\n    conn,\n    onChange\n  );\n","import \"@polymer/paper-icon-button/paper-icon-button\";\nimport {\n  property,\n  TemplateResult,\n  LitElement,\n  html,\n  customElement,\n  CSSResult,\n  css,\n} from \"lit-element\";\n\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport { HomeAssistant } from \"../types\";\nimport { UnsubscribeFunc } from \"home-assistant-js-websocket\";\nimport { subscribeNotifications } from \"../data/persistent_notification\";\nimport { computeDomain } from \"../common/entity/compute_domain\";\n\n@customElement(\"ha-menu-button\")\nclass HaMenuButton extends LitElement {\n  @property({ type: Boolean }) public hassio = false;\n  @property() public narrow!: boolean;\n  @property() public hass!: HomeAssistant;\n  @property() private _hasNotifications = false;\n  private _alwaysVisible = false;\n  private _attachNotifOnConnect = false;\n  private _unsubNotifications?: UnsubscribeFunc;\n\n  public connectedCallback() {\n    super.connectedCallback();\n    if (this._attachNotifOnConnect) {\n      this._attachNotifOnConnect = false;\n      this._subscribeNotifications();\n    }\n  }\n\n  public disconnectedCallback() {\n    super.disconnectedCallback();\n    if (this._unsubNotifications) {\n      this._attachNotifOnConnect = true;\n      this._unsubNotifications();\n      this._unsubNotifications = undefined;\n    }\n  }\n\n  protected render(): TemplateResult {\n    const hasNotifications =\n      (this.narrow || this.hass.dockedSidebar === \"always_hidden\") &&\n      (this._hasNotifications ||\n        Object.keys(this.hass.states).some(\n          (entityId) => computeDomain(entityId) === \"configurator\"\n        ));\n    return html`\n      <paper-icon-button\n        aria-label=${this.hass.localize(\"ui.sidebar.sidebar_toggle\")}\n        .icon=${this.hassio ? \"hassio:menu\" : \"hass:menu\"}\n        @click=${this._toggleMenu}\n      ></paper-icon-button>\n      ${hasNotifications\n        ? html`\n            <div class=\"dot\"></div>\n          `\n        : \"\"}\n    `;\n  }\n\n  protected firstUpdated(changedProps) {\n    super.firstUpdated(changedProps);\n    if (!this.hassio) {\n      return;\n    }\n    // This component is used on Hass.io too, but Hass.io might run the UI\n    // on older frontends too, that don't have an always visible menu button\n    // in the sidebar.\n    this._alwaysVisible =\n      (Number((window.parent as any).frontendVersion) || 0) < 20190710;\n  }\n\n  protected updated(changedProps) {\n    super.updated(changedProps);\n\n    if (!changedProps.has(\"narrow\") && !changedProps.has(\"hass\")) {\n      return;\n    }\n\n    const oldHass = changedProps.get(\"hass\") as HomeAssistant | undefined;\n    const oldNarrow =\n      changedProps.get(\"narrow\") ||\n      (oldHass && oldHass.dockedSidebar === \"always_hidden\");\n    const newNarrow =\n      this.narrow || this.hass.dockedSidebar === \"always_hidden\";\n\n    if (oldNarrow === newNarrow) {\n      return;\n    }\n\n    this.style.visibility =\n      newNarrow || this._alwaysVisible ? \"initial\" : \"hidden\";\n\n    if (!newNarrow) {\n      this._hasNotifications = false;\n      if (this._unsubNotifications) {\n        this._unsubNotifications();\n        this._unsubNotifications = undefined;\n      }\n      return;\n    }\n\n    this._subscribeNotifications();\n  }\n\n  private _subscribeNotifications() {\n    this._unsubNotifications = subscribeNotifications(\n      this.hass.connection,\n      (notifications) => {\n        this._hasNotifications = notifications.length > 0;\n      }\n    );\n  }\n\n  private _toggleMenu(): void {\n    fireEvent(this, \"hass-toggle-menu\");\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        position: relative;\n      }\n      .dot {\n        pointer-events: none;\n        position: absolute;\n        background-color: var(--accent-color);\n        width: 12px;\n        height: 12px;\n        top: 5px;\n        right: 2px;\n        border-radius: 50%;\n        border: 2px solid var(--app-header-background-color);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-menu-button\": HaMenuButton;\n  }\n}\n","export const computeDomain = (entityId: string): string => {\n  return entityId.substr(0, entityId.indexOf(\".\"));\n};\n"],"sourceRoot":""}