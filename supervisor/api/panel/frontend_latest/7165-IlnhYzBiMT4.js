"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[7165],{17165:(e,i,o)=>{o.r(i),o.d(i,{HaAddonSelector:()=>c});var s=o(17463),a=o(68144),d=o(14243),t=o(7323),n=o(47181),l=o(85415),r=o(34154),h=o(26765);const u=e=>a.dy`<mwc-list-item twoline graphic="icon"> <span>${e.name}</span> <span slot="secondary">${e.slug}</span> ${e.icon?a.dy`<img alt="" slot="graphic" .src="/api/hassio/addons/${e.slug}/icon">`:""} </mwc-list-item>`;(0,s.Z)([(0,d.Mo)("ha-addon-picker")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,d.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,d.Cb)()],key:"value",value:()=>""},{kind:"field",decorators:[(0,d.Cb)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,d.SB)()],key:"_addons",value:void 0},{kind:"field",decorators:[(0,d.Cb)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,d.Cb)({type:Boolean})],key:"required",value:()=>!1},{kind:"field",decorators:[(0,d.IO)("ha-combo-box")],key:"_comboBox",value:void 0},{kind:"method",key:"open",value:function(){var e;null===(e=this._comboBox)||void 0===e||e.open()}},{kind:"method",key:"focus",value:function(){var e;null===(e=this._comboBox)||void 0===e||e.focus()}},{kind:"method",key:"firstUpdated",value:function(){this._getAddons()}},{kind:"method",key:"render",value:function(){return this._addons?a.dy` <ha-combo-box .hass="${this.hass}" .label="${void 0===this.label&&this.hass?this.hass.localize("ui.components.addon-picker.addon"):this.label}" .value="${this._value}" .required="${this.required}" .disabled="${this.disabled}" .helper="${this.helper}" .renderer="${u}" .items="${this._addons}" item-value-path="slug" item-id-path="slug" item-label-path="name" @value-changed="${this._addonChanged}"></ha-combo-box> `:a.Ld}},{kind:"method",key:"_getAddons",value:async function(){try{if((0,t.p)(this.hass,"hassio")){const e=await(0,r.yt)(this.hass);this._addons=e.addons.filter((e=>e.version)).sort(((e,i)=>(0,l.$)(e.name,i.name,this.hass.locale.language)))}else(0,h.Ys)(this,{title:this.hass.localize("ui.components.addon-picker.error.no_supervisor.title"),text:this.hass.localize("ui.components.addon-picker.error.no_supervisor.description")})}catch(e){(0,h.Ys)(this,{title:this.hass.localize("ui.components.addon-picker.error.fetch_addons.title"),text:this.hass.localize("ui.components.addon-picker.error.fetch_addons.description")})}}},{kind:"get",key:"_value",value:function(){return this.value||""}},{kind:"method",key:"_addonChanged",value:function(e){e.stopPropagation();const i=e.detail.value;i!==this._value&&this._setValue(i)}},{kind:"method",key:"_setValue",value:function(e){this.value=e,setTimeout((()=>{(0,n.B)(this,"value-changed",{value:e}),(0,n.B)(this,"change")}),0)}}]}}),a.oi);let c=(0,s.Z)([(0,d.Mo)("ha-selector-addon")],(function(e,i){return{F:class extends i{constructor(...i){super(...i),e(this)}},d:[{kind:"field",decorators:[(0,d.Cb)()],key:"hass",value:void 0},{kind:"field",decorators:[(0,d.Cb)()],key:"selector",value:void 0},{kind:"field",decorators:[(0,d.Cb)()],key:"value",value:void 0},{kind:"field",decorators:[(0,d.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,d.Cb)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,d.Cb)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,d.Cb)({type:Boolean})],key:"required",value:()=>!0},{kind:"method",key:"render",value:function(){return a.dy`<ha-addon-picker .hass="${this.hass}" .value="${this.value}" .label="${this.label}" .helper="${this.helper}" .disabled="${this.disabled}" .required="${this.required}" allow-custom-entity></ha-addon-picker>`}},{kind:"field",static:!0,key:"styles",value:()=>a.iv`ha-addon-picker{width:100%}`}]}}),a.oi)}}]);
//# sourceMappingURL=7165-IlnhYzBiMT4.js.map