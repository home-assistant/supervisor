export const __rspack_esm_id="8679";export const __rspack_esm_ids=["8679"];export const __webpack_modules__={68097(t,e,i){i.a(t,async function(t,e){try{i(44114),i(18111),i(22489),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);var s=i(62826),o=i(96196),r=i(77845),a=i(22786),l=i(44537),u=i(1087),h=i(38508),d=t([h]);h=(d.then?(await d)():d)[0];class n extends o.WF{render(){return this.hass?o.qy` <ha-generic-picker .hass="${this.hass}" .value="${this.value}" .label="${this.label??this.hass.localize("ui.components.entity.entity-attribute-picker.attribute")}" .disabled="${this.disabled||!this.entityId}" .required="${this.required}" .helper="${this.helper}" .allowCustomValue="${this.allowCustomValue}" .getItems="${this._getItems}" @value-changed="${this._valueChanged}"> </ha-generic-picker> `:o.s6}_valueChanged(t){t.stopPropagation();const e=t.detail.value;e!==this.value&&(this.value=e,(0,u.r)(this,"value-changed",{value:e}),(0,u.r)(this,"change"))}constructor(...t){super(...t),this.autofocus=!1,this.disabled=!1,this.required=!1,this._getItemsMemoized=(0,a.A)((t,e,i)=>{const s=t?(0,l.e)(t):[],o=[],r=new Set;for(const t of s){const s=i.states[t];if(!s)continue;const a=Object.keys(s.attributes).filter(t=>!e?.includes(t));for(const t of a)r.has(t)||(r.add(t),o.push({id:t,primary:i.formatEntityAttributeName(s,t),sorting_label:t}))}return o}),this._getItems=()=>this._getItemsMemoized(this.entityId,this.hideAttributes,this.hass)}}(0,s.Cg)([(0,r.MZ)({attribute:!1})],n.prototype,"hass",void 0),(0,s.Cg)([(0,r.MZ)({attribute:!1})],n.prototype,"entityId",void 0),(0,s.Cg)([(0,r.MZ)({type:Array,attribute:"hide-attributes"})],n.prototype,"hideAttributes",void 0),(0,s.Cg)([(0,r.MZ)({type:Boolean})],n.prototype,"autofocus",void 0),(0,s.Cg)([(0,r.MZ)({type:Boolean})],n.prototype,"disabled",void 0),(0,s.Cg)([(0,r.MZ)({type:Boolean})],n.prototype,"required",void 0),(0,s.Cg)([(0,r.MZ)({type:Boolean,attribute:"allow-custom-value"})],n.prototype,"allowCustomValue",void 0),(0,s.Cg)([(0,r.MZ)()],n.prototype,"label",void 0),(0,s.Cg)([(0,r.MZ)()],n.prototype,"value",void 0),(0,s.Cg)([(0,r.MZ)()],n.prototype,"helper",void 0),n=(0,s.Cg)([(0,r.EM)("ha-entity-attribute-picker")],n),e()}catch(t){e(t)}})},71498(t,e,i){i.a(t,async function(t,s){try{i.r(e),i.d(e,{HaSelectorAttribute:()=>n});i(18111),i(13579);var o=i(62826),r=i(96196),a=i(77845),l=i(1087),u=i(68097),h=i(44537),d=t([u]);u=(d.then?(await d)():d)[0];class n extends r.WF{render(){return r.qy` <ha-entity-attribute-picker .hass="${this.hass}" .entityId="${this.selector.attribute?.entity_id||this.context?.filter_entity}" .hideAttributes="${this.selector.attribute?.hide_attributes}" .value="${this.value}" .label="${this.label}" .helper="${this.helper}" .disabled="${this.disabled}" .required="${this.required}" allow-custom-value></ha-entity-attribute-picker> `}updated(t){if(super.updated(t),!this.value||this.selector.attribute?.entity_id||!t.has("context"))return;const e=t.get("context");if(!this.context||!e||e.filter_entity===this.context.filter_entity)return;let i=!1;if(this.context.filter_entity){i=!(0,h.e)(this.context.filter_entity).some(t=>{const e=this.hass.states[t];return e&&this.value in e.attributes&&void 0!==e.attributes[this.value]})}else i=void 0!==this.value;i&&(0,l.r)(this,"value-changed",{value:void 0})}constructor(...t){super(...t),this.disabled=!1,this.required=!0}}(0,o.Cg)([(0,a.MZ)({attribute:!1})],n.prototype,"hass",void 0),(0,o.Cg)([(0,a.MZ)({attribute:!1})],n.prototype,"selector",void 0),(0,o.Cg)([(0,a.MZ)()],n.prototype,"value",void 0),(0,o.Cg)([(0,a.MZ)()],n.prototype,"label",void 0),(0,o.Cg)([(0,a.MZ)()],n.prototype,"helper",void 0),(0,o.Cg)([(0,a.MZ)({type:Boolean})],n.prototype,"disabled",void 0),(0,o.Cg)([(0,a.MZ)({type:Boolean})],n.prototype,"required",void 0),(0,o.Cg)([(0,a.MZ)({attribute:!1})],n.prototype,"context",void 0),n=(0,o.Cg)([(0,a.EM)("ha-selector-attribute")],n),s()}catch(t){s(t)}})}};
//# sourceMappingURL=8679.4ac11e8b4782fb00.js.map