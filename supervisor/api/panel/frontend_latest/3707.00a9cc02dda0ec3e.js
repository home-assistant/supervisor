/*! For license information please see 3707.00a9cc02dda0ec3e.js.LICENSE.txt */
export const __rspack_esm_id="3707";export const __rspack_esm_ids=["3707"];export const __webpack_modules__={68246(t,e,i){i.d(e,{Y:()=>s});const s=t=>t.slice(t.indexOf(".")+1)},43368(t,e,i){i.a(t,async function(t,e){try{i(18111),i(20116),i(61701);var s=i(62826),n=i(96196),o=i(77845),r=i(1087),a=i(77423),c=i(95350),h=(i(75064),i(59174)),d=i(38508),l=t([h,d]);[h,d]=l.then?(await l)():l;const p=[{name:"primary",weight:10},{name:"secondary",weight:8},{name:"icon",weight:5}];class g extends n.WF{open(){this._picker?.open()}focus(){this._picker?.focus()}firstUpdated(){this._getConfigEntries()}render(){return this._configEntries?n.qy` <ha-generic-picker .hass="${this.hass}" .label="${void 0===this.label&&this.hass?this.hass.localize("ui.components.config-entry-picker.config_entry"):this.label}" .value="${this.value}" .required="${this.required}" .disabled="${this.disabled}" .helper="${this.helper}" .rowRenderer="${this._rowRenderer}" .getItems="${this._getItems}" .searchKeys="${p}" .valueRenderer="${this._valueRenderer}" @value-changed="${this._valueChanged}"></ha-generic-picker> `:n.s6}async _getConfigEntries(){(0,a.VN)(this.hass,{type:["device","hub","service"],domain:this.integration}).then(t=>{this._configEntries=t.map(t=>{const e=(0,c.p$)(this.hass.localize,t.domain);return{id:t.entry_id,icon:t.domain,primary:t.title||this.hass.localize("ui.panel.config.integrations.config_entry.unnamed_entry"),secondary:e,sorting_label:[t.title,e].filter(Boolean).join("_")}})})}_valueChanged(t){t.stopPropagation();const e=t.detail.value;e!==this.value&&this._setValue(e)}_setValue(t){this.value=t,setTimeout(()=>{(0,r.r)(this,"value-changed",{value:t}),(0,r.r)(this,"change")},0)}constructor(...t){super(...t),this.value="",this.disabled=!1,this.required=!1,this._rowRenderer=t=>n.qy` <ha-combo-box-item type="button"> <span slot="headline">${t.primary}</span> <span slot="supporting-text">${t.secondary}</span> <ha-domain-icon slot="start" .hass="${this.hass}" .domain="${t.icon}" brand-fallback></ha-domain-icon> </ha-combo-box-item> `,this._valueRenderer=t=>{const e=this._configEntries.find(e=>e.id===t);return n.qy`<span style="display:flex;align-items:center;gap:var(--ha-space-2)" slot="headline">${e?.icon?n.qy`<ha-domain-icon .hass="${this.hass}" .domain="${e.icon}" brand-fallback></ha-domain-icon>`:n.s6}${e?.primary||"Unknown"}</span>`},this._getItems=()=>this._configEntries}}(0,s.Cg)([(0,o.MZ)()],g.prototype,"integration",void 0),(0,s.Cg)([(0,o.MZ)()],g.prototype,"label",void 0),(0,s.Cg)([(0,o.MZ)()],g.prototype,"value",void 0),(0,s.Cg)([(0,o.MZ)()],g.prototype,"helper",void 0),(0,s.Cg)([(0,o.wk)()],g.prototype,"_configEntries",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],g.prototype,"disabled",void 0),(0,s.Cg)([(0,o.MZ)({type:Boolean})],g.prototype,"required",void 0),(0,s.Cg)([(0,o.P)("ha-generic-picker")],g.prototype,"_picker",void 0),g=(0,s.Cg)([(0,o.EM)("ha-config-entry-picker")],g),e()}catch(t){e(t)}})},59174(t,e,i){i.a(t,async function(t,e){try{var s=i(62826),n=i(96196),o=i(77845),r=i(3890),a=i(85694),c=i(44144),h=t([a]);a=(h.then?(await h)():h)[0];class d extends n.WF{render(){if(this.icon)return n.qy`<ha-icon .icon="${this.icon}"></ha-icon>`;if(!this.domain)return n.s6;if(!this.hass)return this._renderFallback();const t=(0,a._4)(this.hass,this.domain,this.deviceClass,this.state).then(t=>t?n.qy`<ha-icon .icon="${t}"></ha-icon>`:this._renderFallback());return n.qy`${(0,r.T)(t)}`}_renderFallback(){if(this.domain&&this.domain in a.l)return n.qy` <ha-svg-icon .path="${a.l[this.domain]}"></ha-svg-icon> `;if(this.brandFallback){const t=(0,c.MR)({domain:this.domain,type:"icon",darkOptimized:this.hass.themes?.darkMode});return n.qy` <img alt="" src="${t}" crossorigin="anonymous" referrerpolicy="no-referrer"> `}return n.qy`<ha-svg-icon .path="${a.lW}"></ha-svg-icon>`}}d.styles=n.AH`img{width:var(--mdc-icon-size,24px)}`,(0,s.Cg)([(0,o.MZ)({attribute:!1})],d.prototype,"hass",void 0),(0,s.Cg)([(0,o.MZ)()],d.prototype,"domain",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],d.prototype,"deviceClass",void 0),(0,s.Cg)([(0,o.MZ)({attribute:!1})],d.prototype,"state",void 0),(0,s.Cg)([(0,o.MZ)()],d.prototype,"icon",void 0),(0,s.Cg)([(0,o.MZ)({attribute:"brand-fallback",type:Boolean})],d.prototype,"brandFallback",void 0),d=(0,s.Cg)([(0,o.EM)("ha-domain-icon")],d),e()}catch(t){e(t)}})},49347(t,e,i){i.a(t,async function(t,s){try{i.r(e),i.d(e,{HaConfigEntrySelector:()=>h});var n=i(62826),o=i(96196),r=i(77845),a=i(43368),c=t([a]);a=(c.then?(await c)():c)[0];class h extends o.WF{render(){return o.qy`<ha-config-entry-picker .hass="${this.hass}" .value="${this.value}" .label="${this.label}" .helper="${this.helper}" .disabled="${this.disabled}" .required="${this.required}" .integration="${this.selector.config_entry?.integration}"></ha-config-entry-picker>`}constructor(...t){super(...t),this.disabled=!1,this.required=!0}}h.styles=o.AH`ha-config-entry-picker{width:100%}`,(0,n.Cg)([(0,r.MZ)({attribute:!1})],h.prototype,"hass",void 0),(0,n.Cg)([(0,r.MZ)({attribute:!1})],h.prototype,"selector",void 0),(0,n.Cg)([(0,r.MZ)()],h.prototype,"value",void 0),(0,n.Cg)([(0,r.MZ)()],h.prototype,"label",void 0),(0,n.Cg)([(0,r.MZ)()],h.prototype,"helper",void 0),(0,n.Cg)([(0,r.MZ)({type:Boolean})],h.prototype,"disabled",void 0),(0,n.Cg)([(0,r.MZ)({type:Boolean})],h.prototype,"required",void 0),h=(0,n.Cg)([(0,r.EM)("ha-selector-config_entry")],h),s()}catch(t){s(t)}})},77423(t,e,i){i.d(e,{VN:()=>n,Vx:()=>o,t0:()=>s});i(44114),i(18111),i(22489),i(20116),i(7588),i(61701);const s=(t,e)=>t.callWS({type:"config_entries/subentries/list",entry_id:e}),n=(t,e)=>{const i={};return e&&(e.type&&(i.type_filter=e.type),e.domain&&(i.domain=e.domain)),t.callWS({type:"config_entries/get",...i})},o=(t,e)=>t.callWS({type:"config_entries/get_single",entry_id:e})},95350(t,e,i){i.d(e,{QC:()=>o,fK:()=>n,p$:()=>s});const s=(t,e,i)=>t(`component.${e}.title`)||i?.name||e,n=(t,e)=>{const i={type:"manifest/list"};return e&&(i.integrations=e),t.callWS(i)},o=(t,e)=>t.callWS({type:"manifest/get",integration:e})},44144(t,e,i){i.d(e,{MR:()=>s,a_:()=>n,bg:()=>o});const s=t=>`https://brands.home-assistant.io/${t.brand?"brands/":""}${t.useFallback?"_/":""}${t.domain}/${t.darkOptimized?"dark_":""}${t.type}.png`,n=t=>t.split("/")[4],o=t=>t.startsWith("https://brands.home-assistant.io/")},3890(t,e,i){i.d(e,{T:()=>p});i(18111),i(20116);var s=i(5055),n=i(63937),o=i(37540);class r{disconnect(){this.G=void 0}reconnect(t){this.G=t}deref(){return this.G}constructor(t){this.G=t}}class a{get(){return this.Y}pause(){this.Y??=new Promise(t=>this.Z=t)}resume(){this.Z?.(),this.Y=this.Z=void 0}constructor(){this.Y=void 0,this.Z=void 0}}var c=i(42017);const h=t=>!(0,n.sO)(t)&&"function"==typeof t.then,d=1073741823;class l extends o.Kq{render(...t){return t.find(t=>!h(t))??s.c0}update(t,e){const i=this._$Cbt;let n=i.length;this._$Cbt=e;const o=this._$CK,r=this._$CX;this.isConnected||this.disconnected();for(let t=0;t<e.length&&!(t>this._$Cwt);t++){const s=e[t];if(!h(s))return this._$Cwt=t,s;t<n&&s===i[t]||(this._$Cwt=d,n=0,Promise.resolve(s).then(async t=>{for(;r.get();)await r.get();const e=o.deref();if(void 0!==e){const i=e._$Cbt.indexOf(s);i>-1&&i<e._$Cwt&&(e._$Cwt=i,e.setValue(t))}}))}return s.c0}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}constructor(){super(...arguments),this._$Cwt=d,this._$Cbt=[],this._$CK=new r(this),this._$CX=new a}}const p=(0,c.u$)(l)}};
//# sourceMappingURL=3707.00a9cc02dda0ec3e.js.map