export const id=8920;export const ids=[8920];export const modules={38920:(a,i,s)=>{s.a(a,(async(a,t)=>{try{s.r(i);var r=s(36312),e=(s(72606),s(50289)),o=s(29818),c=s(34897),n=(s(68690),s(13292),s(3276)),l=s(99338),d=s(26025),u=s(6121),h=s(55321),p=s(23341),k=a([p]);p=(k.then?(await k)():k)[0];(0,r.A)([(0,o.EM)("dialog-hassio-create-backup")],(function(a,i){return{F:class extends i{constructor(...i){super(...i),a(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_dialogParams",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_creatingBackup",value:()=>!1},{kind:"field",decorators:[(0,o.P)("supervisor-backup-content")],key:"_backupContent",value:void 0},{kind:"method",key:"showDialog",value:function(a){this._dialogParams=a,this._creatingBackup=!1}},{kind:"method",key:"closeDialog",value:function(){this._dialogParams=void 0,this._creatingBackup=!1,this._error=void 0,(0,c.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){return this._dialogParams?e.qy` <ha-dialog open scrimClickAction @closed="${this.closeDialog}" .heading="${(0,n.l)(this.hass,this._dialogParams.supervisor.localize("backup.create_backup"))}"> ${this._creatingBackup?e.qy`<ha-circular-progress indeterminate></ha-circular-progress>`:e.qy`<supervisor-backup-content .hass="${this.hass}" .supervisor="${this._dialogParams.supervisor}" dialogInitialFocus> </supervisor-backup-content>`} ${this._error?e.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} <mwc-button slot="secondaryAction" @click="${this.closeDialog}"> ${this._dialogParams.supervisor.localize("common.close")} </mwc-button> <mwc-button .disabled="${this._creatingBackup}" slot="primaryAction" @click="${this._createBackup}"> ${this._dialogParams.supervisor.localize("backup.create")} </mwc-button> </ha-dialog> `:e.s6}},{kind:"method",key:"_createBackup",value:async function(){if("running"!==this._dialogParams.supervisor.info.state)return void(0,u.K$)(this,{title:this._dialogParams.supervisor.localize("backup.could_not_create"),text:this._dialogParams.supervisor.localize("backup.create_blocked_not_running",{state:this._dialogParams.supervisor.info.state})});const a=this._backupContent.backupDetails();if(this._creatingBackup=!0,this._error="",a.password&&!a.password.length)return this._error=this._dialogParams.supervisor.localize("backup.enter_password"),void(this._creatingBackup=!1);if(a.password&&a.password!==a.confirm_password)return this._error=this._dialogParams.supervisor.localize("backup.passwords_not_matching"),void(this._creatingBackup=!1);delete a.confirm_password;try{"full"===this._backupContent.backupType?await(0,l.Tw)(this.hass,a):await(0,l.Di)(this.hass,a),this._dialogParams.onCreate(),this.closeDialog()}catch(a){this._error=(0,d.VR)(a)}this._creatingBackup=!1}},{kind:"get",static:!0,key:"styles",value:function(){return[h.RF,h.nA,e.AH`:host{direction:var(--direction)}ha-circular-progress{display:block;text-align:center}`]}}]}}),e.WF);t()}catch(a){t(a)}}))}};
//# sourceMappingURL=8920.pl8Qj3RuQlw.js.map