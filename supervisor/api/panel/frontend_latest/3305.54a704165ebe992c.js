export const __rspack_esm_id="3305";export const __rspack_esm_ids=["3305"];export const __webpack_modules__={57825(e,t,s){s.a(e,async function(e,t){try{s(18111),s(22489),s(20116),s(61701);var o=s(62826),r=s(96196),i=s(77845),a=s(36312),n=s(1087),d=s(22130),h=(s(38962),s(75064),s(38508)),l=e([h]);h=(l.then?(await l)():l)[0];const p=[{name:"primary",weight:10},{name:"secondary",weight:8},{name:"search_labels.description",weight:6},{name:"search_labels.repository",weight:5}],c=e=>r.qy` <ha-combo-box-item type="button"> <span slot="headline">${e.primary}</span> <span slot="supporting-text">${e.secondary}</span> ${e.icon?r.qy` <img alt="" slot="start" .src="${e.icon}"> `:r.s6} </ha-combo-box-item> `;class u extends r.WF{open(){this._genericPicker?.open()}focus(){this._genericPicker?.focus()}firstUpdated(){this._getAddons()}render(){const e=void 0===this.label&&this.hass?this.hass.localize("ui.components.addon-picker.addon"):this.label;return this._error?r.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:this._addons?r.qy` <ha-generic-picker .hass="${this.hass}" .autofocus="${this.autofocus}" .label="${e}" .valueRenderer="${this._valueRenderer}" .helper="${this.helper}" .disabled="${this.disabled}" .required="${this.required}" .value="${this.value}" .getItems="${this._getItems}" .searchKeys="${p}" .rowRenderer="${c}" @value-changed="${this._addonChanged}"> </ha-generic-picker> `:r.s6}async _getAddons(){try{if((0,a.x)(this.hass,"hassio")){const e=await(0,d.b3)(this.hass);this._addons=e.addons.filter(e=>e.version).map(e=>({id:e.slug,primary:e.name,secondary:e.slug,icon:e.icon?`/api/hassio/addons/${e.slug}/icon`:void 0,search_labels:{description:e.description||null,repository:e.repository||null},sorting_label:[e.name,e.slug].filter(Boolean).join("_")}))}else this._error=this.hass.localize("ui.components.addon-picker.error.no_supervisor")}catch(e){this._error=this.hass.localize("ui.components.addon-picker.error.fetch_addons")}}get _value(){return this.value||""}_addonChanged(e){e.stopPropagation();const t=e.detail.value;t!==this._value&&this._setValue(t)}_setValue(e){this.value=e,setTimeout(()=>{(0,n.r)(this,"value-changed",{value:e}),(0,n.r)(this,"change")},0)}constructor(...e){super(...e),this.value="",this.disabled=!1,this.required=!1,this._getItems=()=>this._addons,this._valueRenderer=e=>{const t=this._addons.find(t=>t.id===e);return r.qy`${t?.icon?r.qy`<img slot="start" alt="${t.primary??"Unknown"}" .src="${t.icon}">`:r.s6}<span slot="headline">${t?.primary||"Unknown"}</span>`}}}(0,o.Cg)([(0,i.MZ)()],u.prototype,"label",void 0),(0,o.Cg)([(0,i.MZ)()],u.prototype,"value",void 0),(0,o.Cg)([(0,i.MZ)()],u.prototype,"helper",void 0),(0,o.Cg)([(0,i.wk)()],u.prototype,"_addons",void 0),(0,o.Cg)([(0,i.MZ)({type:Boolean})],u.prototype,"disabled",void 0),(0,o.Cg)([(0,i.MZ)({type:Boolean})],u.prototype,"required",void 0),(0,o.Cg)([(0,i.P)("ha-generic-picker")],u.prototype,"_genericPicker",void 0),(0,o.Cg)([(0,i.wk)()],u.prototype,"_error",void 0),u=(0,o.Cg)([(0,i.EM)("ha-addon-picker")],u),t()}catch(e){t(e)}})},36784(e,t,s){s.a(e,async function(e,o){try{s.r(t),s.d(t,{HaAddonSelector:()=>h});var r=s(62826),i=s(96196),a=s(77845),n=s(57825),d=e([n]);n=(d.then?(await d)():d)[0];class h extends i.WF{render(){return i.qy`<ha-addon-picker .hass="${this.hass}" .value="${this.value}" .label="${this.label}" .helper="${this.helper}" .disabled="${this.disabled}" .required="${this.required}"></ha-addon-picker>`}constructor(...e){super(...e),this.disabled=!1,this.required=!0}}h.styles=i.AH`ha-addon-picker{width:100%}`,(0,r.Cg)([(0,a.MZ)({attribute:!1})],h.prototype,"hass",void 0),(0,r.Cg)([(0,a.MZ)({attribute:!1})],h.prototype,"selector",void 0),(0,r.Cg)([(0,a.MZ)()],h.prototype,"value",void 0),(0,r.Cg)([(0,a.MZ)()],h.prototype,"label",void 0),(0,r.Cg)([(0,a.MZ)()],h.prototype,"helper",void 0),(0,r.Cg)([(0,a.MZ)({type:Boolean})],h.prototype,"disabled",void 0),(0,r.Cg)([(0,a.MZ)({type:Boolean})],h.prototype,"required",void 0),h=(0,r.Cg)([(0,a.EM)("ha-selector-addon")],h),o()}catch(e){o(e)}})}};
//# sourceMappingURL=3305.54a704165ebe992c.js.map