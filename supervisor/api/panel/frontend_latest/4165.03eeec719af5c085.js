export const __rspack_esm_id="4165";export const __rspack_esm_ids=["4165"];export const __webpack_modules__={57237(e,t,i){i.d(t,{d:()=>s});const s=e=>e.stopPropagation()},68246(e,t,i){i.d(t,{Y:()=>s});const s=e=>e.slice(e.indexOf(".")+1)},28978(e,t,i){i.d(t,{u:()=>n});var s=i(68246);const n=e=>{return t=e.entity_id,void 0===(i=e.attributes).friendly_name?(0,s.Y)(t).replace(/_/g," "):(i.friendly_name??"").toString();var t,i}},606(e,t,i){var s=i(62826),n=i(14540),a=i(63125),o=i(96196),r=i(77845),l=i(94333),d=i(9899),c=i(12587);i(50888),i(79817);class h extends n.o{render(){return o.qy` ${super.render()} ${this.clearable&&!this.required&&!this.disabled&&this.value?o.qy`<ha-icon-button label="clear" @click="${this._clearValue}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}"></ha-icon-button>`:o.s6} `}renderMenu(){const e=this.getMenuClasses();return o.qy`<ha-menu innerRole="listbox" wrapFocus class="${(0,l.H)(e)}" activatable .fullwidth="${!this.fixedMenuPosition&&!this.naturalMenuWidth}" .open="${this.menuOpen}" .anchor="${this.anchorElement}" .fixed="${this.fixedMenuPosition}" @selected="${this.onSelected}" @opened="${this.onOpened}" @closed="${this.onClosed}" @items-updated="${this.onItemsUpdated}" @keydown="${this.handleTypeahead}"> ${this.renderMenuContent()} </ha-menu>`}renderLeadingIcon(){return this.icon?o.qy`<span class="mdc-select__icon"><slot name="icon"></slot></span>`:o.s6}connectedCallback(){super.connectedCallback(),window.addEventListener("translations-updated",this._translationsUpdated)}async firstUpdated(){super.firstUpdated(),this.inlineArrow&&this.shadowRoot?.querySelector(".mdc-select__selected-text-container")?.classList.add("inline-arrow")}updated(e){if(super.updated(e),e.has("inlineArrow")){const e=this.shadowRoot?.querySelector(".mdc-select__selected-text-container");this.inlineArrow?e?.classList.add("inline-arrow"):e?.classList.remove("inline-arrow")}e.get("options")&&(this.layoutOptions(),this.selectByValue(this.value))}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("translations-updated",this._translationsUpdated)}_clearValue(){!this.disabled&&this.value&&(this.valueSetDirectly=!0,this.select(-1),this.mdcFoundation.handleChange())}constructor(...e){super(...e),this.icon=!1,this.clearable=!1,this.inlineArrow=!1,this._translationsUpdated=(0,d.s)(async()=>{await(0,c.E)(),this.layoutOptions()},500)}}h.styles=[a.R,o.AH`:host([clearable]){position:relative}.mdc-select:not(.mdc-select--disabled) .mdc-select__icon{color:var(--secondary-text-color)}.mdc-select__anchor{width:var(--ha-select-min-width,200px)}.mdc-select--filled .mdc-select__anchor{height:var(--ha-select-height,56px)}.mdc-select--filled .mdc-floating-label{inset-inline-start:var(--ha-space-4);inset-inline-end:initial;direction:var(--direction)}.mdc-select--filled.mdc-select--with-leading-icon .mdc-floating-label{inset-inline-start:48px;inset-inline-end:initial;direction:var(--direction)}.mdc-select .mdc-select__anchor{padding-inline-start:var(--ha-space-4);padding-inline-end:0px;direction:var(--direction)}.mdc-select__anchor .mdc-floating-label--float-above{transform-origin:var(--float-start)}.mdc-select__selected-text-container{padding-inline-end:var(--select-selected-text-padding-end,0px)}:host([clearable]) .mdc-select__selected-text-container{padding-inline-end:var(--select-selected-text-padding-end,var(--ha-space-4))}ha-icon-button{position:absolute;top:10px;right:28px;--mdc-icon-button-size:36px;--mdc-icon-size:20px;color:var(--secondary-text-color);inset-inline-start:initial;inset-inline-end:28px;direction:var(--direction)}.inline-arrow{flex-grow:0}`],(0,s.Cg)([(0,r.MZ)({type:Boolean})],h.prototype,"icon",void 0),(0,s.Cg)([(0,r.MZ)({type:Boolean,reflect:!0})],h.prototype,"clearable",void 0),(0,s.Cg)([(0,r.MZ)({attribute:"inline-arrow",type:Boolean})],h.prototype,"inlineArrow",void 0),(0,s.Cg)([(0,r.MZ)()],h.prototype,"options",void 0),h=(0,s.Cg)([(0,r.EM)("ha-select")],h)},81880(e,t,i){i.r(t),i.d(t,{HaConversationAgentSelector:()=>v});var s=i(62826),n=i(96196),a=i(77845),o=(i(18111),i(20116),i(61701),i(1087)),r=i(57237),l=i(9899),d=i(77423),c=i(88433),h=i(59241),u=i(95350),p=i(22720),g=i(82823);i(28732),i(606);const _="__NONE_OPTION__";class y extends n.WF{render(){if(!this._agents)return n.s6;let e=this.value;if(!e&&this.required){for(const t of this._agents)if("conversation.home_assistant"===t.id&&t.supported_languages.includes(this.language)){e=t.id;break}if(!e)for(const t of this._agents)if("*"===t.supported_languages&&t.supported_languages.includes(this.language)){e=t.id;break}}return e||(e=_),n.qy` <ha-select .label="${this.label||this.hass.localize("ui.components.coversation-agent-picker.conversation_agent")}" .value="${e}" .required="${this.required}" .disabled="${this.disabled}" @selected="${this._changed}" @closed="${r.d}" fixedMenuPosition naturalMenuWidth> ${this.required?n.s6:n.qy`<ha-list-item .value="${_}"> ${this.hass.localize("ui.components.coversation-agent-picker.none")} </ha-list-item>`} ${this._agents.map(e=>n.qy`<ha-list-item .value="${e.id}" .disabled="${"*"!==e.supported_languages&&0===e.supported_languages.length}"> ${e.name} </ha-list-item>`)}</ha-select>${this._subConfigEntry&&this._configEntry?.supported_subentry_types[this._subConfigEntry.subentry_type]?.supports_reconfigure||this._configEntry?.supports_options?n.qy`<ha-icon-button .path="${"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"}" @click="${this._openOptionsFlow}"></ha-icon-button>`:""} `}willUpdate(e){super.willUpdate(e),this.hasUpdated?e.has("language")&&this._debouncedUpdateAgents():this._updateAgents(),e.has("value")&&this._maybeFetchConfigEntry()}async _maybeFetchConfigEntry(){if(this.value&&this.value in this.hass.entities)try{const e=await(0,h.v)(this.hass,this.value);if(!e.config_entry_id)return void(this._configEntry=void 0);this._configEntry=(await(0,d.Vx)(this.hass,e.config_entry_id)).config_entry,e.config_subentry_id?this._subConfigEntry=(await(0,d.t0)(this.hass,e.config_entry_id)).find(t=>t.subentry_id===e.config_subentry_id):this._subConfigEntry=void 0}catch(e){this._configEntry=void 0,this._subConfigEntry=void 0}else this._configEntry=void 0}async _updateAgents(){const{agents:e}=await(0,c.vc)(this.hass,this.language,this.hass.config.country||void 0);if(this._agents=e,!this.value)return;const t=e.find(e=>e.id===this.value);(0,o.r)(this,"supported-languages-changed",{value:t?.supported_languages}),(!t||"*"!==t.supported_languages&&0===t.supported_languages.length)&&(this.value=void 0,(0,o.r)(this,"value-changed",{value:this.value}))}async _openOptionsFlow(){this._configEntry&&(this._subConfigEntry&&this._configEntry.supported_subentry_types[this._subConfigEntry.subentry_type]?.supports_reconfigure?(0,g.a)(this,this._configEntry,this._subConfigEntry.subentry_type,{startFlowHandler:this._configEntry.entry_id,subEntryId:this._subConfigEntry.subentry_id}):(0,p.Q)(this,this._configEntry,{manifest:await(0,u.QC)(this.hass,this._configEntry.domain)}))}_changed(e){const t=e.target;!this.hass||""===t.value||t.value===this.value||void 0===this.value&&t.value===_||(this.value=t.value===_?void 0:t.value,(0,o.r)(this,"value-changed",{value:this.value}),(0,o.r)(this,"supported-languages-changed",{value:this._agents.find(e=>e.id===this.value)?.supported_languages}))}constructor(...e){super(...e),this.disabled=!1,this.required=!1,this._debouncedUpdateAgents=(0,l.s)(()=>this._updateAgents(),500)}}y.styles=n.AH`:host{display:flex;align-items:center}ha-select{width:100%}ha-icon-button{color:var(--secondary-text-color)}`,(0,s.Cg)([(0,a.MZ)()],y.prototype,"value",void 0),(0,s.Cg)([(0,a.MZ)()],y.prototype,"language",void 0),(0,s.Cg)([(0,a.MZ)()],y.prototype,"label",void 0),(0,s.Cg)([(0,a.MZ)({attribute:!1})],y.prototype,"hass",void 0),(0,s.Cg)([(0,a.MZ)({type:Boolean,reflect:!0})],y.prototype,"disabled",void 0),(0,s.Cg)([(0,a.MZ)({type:Boolean})],y.prototype,"required",void 0),(0,s.Cg)([(0,a.wk)()],y.prototype,"_agents",void 0),(0,s.Cg)([(0,a.wk)()],y.prototype,"_configEntry",void 0),(0,s.Cg)([(0,a.wk)()],y.prototype,"_subConfigEntry",void 0),y=(0,s.Cg)([(0,a.EM)("ha-conversation-agent-picker")],y);class v extends n.WF{render(){return n.qy`<ha-conversation-agent-picker .hass="${this.hass}" .value="${this.value}" .language="${this.selector.conversation_agent?.language||this.context?.language}" .label="${this.label}" .helper="${this.helper}" .disabled="${this.disabled}" .required="${this.required}"></ha-conversation-agent-picker>`}constructor(...e){super(...e),this.disabled=!1,this.required=!0}}v.styles=n.AH`ha-conversation-agent-picker{width:100%}`,(0,s.Cg)([(0,a.MZ)({attribute:!1})],v.prototype,"hass",void 0),(0,s.Cg)([(0,a.MZ)({attribute:!1})],v.prototype,"selector",void 0),(0,s.Cg)([(0,a.MZ)()],v.prototype,"value",void 0),(0,s.Cg)([(0,a.MZ)()],v.prototype,"label",void 0),(0,s.Cg)([(0,a.MZ)()],v.prototype,"helper",void 0),(0,s.Cg)([(0,a.MZ)({type:Boolean})],v.prototype,"disabled",void 0),(0,s.Cg)([(0,a.MZ)({type:Boolean})],v.prototype,"required",void 0),(0,s.Cg)([(0,a.MZ)({attribute:!1})],v.prototype,"context",void 0),v=(0,s.Cg)([(0,a.EM)("ha-selector-conversation_agent")],v)},88433(e,t,i){i.d(t,{ZE:()=>s,e1:()=>a,vc:()=>n});var s=function(e){return e[e.CONTROL=1]="CONTROL",e}({});const n=(e,t,i)=>e.callWS({type:"conversation/agent/list",language:t,country:i}),a=(e,t,i)=>e.callWS({type:"conversation/agent/homeassistant/language_scores",language:t,country:i})},95350(e,t,i){i.d(t,{QC:()=>a,fK:()=>n,p$:()=>s});const s=(e,t,i)=>e(`component.${t}.title`)||i?.name||t,n=(e,t)=>{const i={type:"manifest/list"};return t&&(i.integrations=t),e.callWS(i)},a=(e,t)=>e.callWS({type:"manifest/get",integration:t})},29094(e,t,i){i.d(t,{g:()=>a});var s=i(1087);const n=()=>Promise.all([i.e("6261"),i.e("6431"),i.e("2769"),i.e("9703"),i.e("7085"),i.e("3785"),i.e("4899"),i.e("9005"),i.e("6473"),i.e("4615")]).then(i.bind(i,78314)),a=(e,t,i)=>{(0,s.r)(e,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:n,dialogParams:{...t,flowConfig:i,dialogParentElement:e}})}}};
//# sourceMappingURL=4165.03eeec719af5c085.js.map