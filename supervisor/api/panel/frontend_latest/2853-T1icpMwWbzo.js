"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[2853,4631],{2853:(e,t,a)=>{a.a(e,(async(e,i)=>{try{a.r(t),a.d(t,{HassioBackups:()=>S});var l=a(17463),o=a(34541),s=a(47838),d=(a(14271),a(44577),a(68144)),r=a(79932),n=a(83448),c=a(14516),h=a(63864),u=a(5435),p=(a(81545),a(93201),a(5666),a(52039),a(60538)),b=a(41682),m=a(26765),v=(a(57251),a(11654)),f=a(97458),k=a(6324),_=a(77828),g=a(46094),y=a(43499),w=a(55677),x=e([u]);u=(x.then?(await x)():x)[0];const $="M12,3A9,9 0 0,0 3,12H0L4,16L8,12H5A7,7 0 0,1 12,5A7,7 0 0,1 19,12A7,7 0 0,1 12,19C10.5,19 9.09,18.5 7.94,17.7L6.5,19.14C8.04,20.3 9.94,21 12,21A9,9 0 0,0 21,12A9,9 0 0,0 12,3M14,12A2,2 0 0,0 12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12Z",C="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",B="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",D="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z";let S=(0,l.Z)([(0,r.Mo)("hassio-backups")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"supervisor",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Object})],key:"route",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"isWide",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_selectedBackups",value:()=>[]},{kind:"field",decorators:[(0,r.SB)()],key:"_backups",value:()=>[]},{kind:"field",decorators:[(0,r.IO)("hass-tabs-subpage-data-table",!0)],key:"_dataTable",value:void 0},{kind:"field",key:"_firstUpdatedCalled",value:()=>!1},{kind:"method",key:"connectedCallback",value:function(){(0,o.Z)((0,s.Z)(a.prototype),"connectedCallback",this).call(this),this.hass&&this._firstUpdatedCalled&&this.refreshData()}},{kind:"method",key:"refreshData",value:async function(){await(0,p.Fk)(this.hass),await this.fetchBackups()}},{kind:"field",key:"_computeBackupContent",value(){return e=>{if("full"===e.type)return this.supervisor.localize("backup.full_backup");const t=[];if(e.content.homeassistant&&t.push("Home Assistant"),0!==e.content.folders.length)for(const a of e.content.folders)t.push(p.wb[a]||a);if(0!==e.content.addons.length)for(const i of e.content.addons){var a;t.push((null===(a=this.supervisor.addon.addons.find((e=>e.slug===i)))||void 0===a?void 0:a.name)||i)}return t.join(", ")}}},{kind:"method",key:"firstUpdated",value:function(e){(0,o.Z)((0,s.Z)(a.prototype),"firstUpdated",this).call(this,e),this.hass&&this.isConnected&&this.refreshData(),this._firstUpdatedCalled=!0}},{kind:"field",key:"_columns",value(){return(0,c.Z)((e=>({name:{title:this.supervisor.localize("backup.name"),main:!0,sortable:!0,filterable:!0,grows:!0,template:(e,t)=>d.dy`${e||t.slug} <div class="secondary">${t.secondary}</div>`},size:{title:this.supervisor.localize("backup.size"),width:"15%",hidden:e,filterable:!0,sortable:!0,template:e=>Math.ceil(10*e)/10+" MB"},date:{title:this.supervisor.localize("backup.created"),width:"15%",direction:"desc",hidden:e,filterable:!0,sortable:!0,template:e=>(0,u.G)(new Date(e),this.hass.locale)},secondary:{title:"",hidden:!0,filterable:!0}})))}},{kind:"field",key:"_backupData",value(){return(0,c.Z)((e=>e.map((e=>({...e,secondary:this._computeBackupContent(e)})))))}},{kind:"method",key:"render",value:function(){var e;return this.supervisor?d.dy` <hass-tabs-subpage-data-table .tabs="${(0,h.I)(this.hass.config.version,2022,5)?[{translationKey:"panel.backups",path:"/hassio/backups",iconPath:$}]:(0,y.q)(this.hass)}" .hass="${this.hass}" .localizeFunc="${this.supervisor.localize}" .searchLabel="${this.supervisor.localize("backup.search")}" .noDataText="${this.supervisor.localize("backup.no_backups")}" .narrow="${this.narrow}" .route="${this.route}" .columns="${this._columns(this.narrow)}" .data="${this._backupData(this._backups||[])}" id="slug" @row-click="${this._handleRowClicked}" @selection-changed="${this._handleSelectionChanged}" clickable selectable hasFab .mainPage="${!(0,h.I)(this.hass.config.version,2021,12)}" back-path="${(0,h.I)(this.hass.config.version,2022,5)?"/config/system":"/config"}" supervisor> <ha-button-menu slot="toolbar-icon" @action="${this._handleAction}"> <ha-icon-button .label="${null===(e=this.supervisor)||void 0===e?void 0:e.localize("common.menu")}" .path="${B}" slot="trigger"></ha-icon-button> <mwc-list-item> ${this.supervisor.localize("common.reload")} </mwc-list-item> <mwc-list-item> ${this.supervisor.localize("dialog.backup_location.title")} </mwc-list-item> ${(0,h.I)(this.hass.config.version,0,116)?d.dy`<mwc-list-item> ${this.supervisor.localize("backup.upload_backup")} </mwc-list-item>`:""} </ha-button-menu> ${this._selectedBackups.length?d.dy`<div class="${(0,n.$)({"header-toolbar":this.narrow,"table-header":!this.narrow})}" slot="header"> <p class="selected-txt"> ${this.supervisor.localize("backup.selected",{number:this._selectedBackups.length})} </p> <div class="header-btns"> ${this.narrow?d.dy` <ha-icon-button .label="${this.supervisor.localize("backup.delete_selected")}" .path="${C}" id="delete-btn" class="warning" @click="${this._deleteSelected}"></ha-icon-button> <simple-tooltip animation-delay="0" for="delete-btn"> ${this.supervisor.localize("backup.delete_selected")} </simple-tooltip> `:d.dy` <mwc-button @click="${this._deleteSelected}" class="warning"> ${this.supervisor.localize("backup.delete_selected")} </mwc-button> `} </div> </div> `:""} <ha-fab slot="fab" @click="${this._createBackup}" .label="${this.supervisor.localize("backup.create_backup")}" extended> <ha-svg-icon slot="icon" .path="${D}"></ha-svg-icon> </ha-fab> </hass-tabs-subpage-data-table> `:d.Ld}},{kind:"method",key:"_handleAction",value:function(e){switch(e.detail.index){case 0:this.refreshData();break;case 1:(0,k.U)(this,{supervisor:this.supervisor});break;case 2:this._showUploadBackupDialog()}}},{kind:"method",key:"_handleSelectionChanged",value:function(e){this._selectedBackups=e.detail.value}},{kind:"method",key:"_showUploadBackupDialog",value:function(){(0,f.k)(this,{showBackup:e=>(0,_.Y)(this,{slug:e,supervisor:this.supervisor,onDelete:()=>this.fetchBackups()}),reloadBackup:()=>this.refreshData()})}},{kind:"method",key:"fetchBackups",value:async function(){await(0,p.Fk)(this.hass),this._backups=await(0,p.jc)(this.hass)}},{kind:"method",key:"_deleteSelected",value:async function(){if(await(0,m.g7)(this,{title:this.supervisor.localize("backup.delete_backup_title"),text:this.supervisor.localize("backup.delete_backup_text",{number:this._selectedBackups.length}),confirmText:this.supervisor.localize("backup.delete_backup_confirm")})){try{await Promise.all(this._selectedBackups.map((e=>(0,p.FZ)(this.hass,e))))}catch(e){return void(0,m.Ys)(this,{title:this.supervisor.localize("backup.failed_to_delete"),text:(0,b.js)(e)})}await(0,p.Fk)(this.hass),this._backups=await(0,p.jc)(this.hass),this._dataTable.clearSelection()}}},{kind:"method",key:"_handleRowClicked",value:function(e){const t=e.detail.id;(0,_.Y)(this,{slug:t,supervisor:this.supervisor,onDelete:()=>this.fetchBackups()})}},{kind:"method",key:"_createBackup",value:function(){"running"===this.supervisor.info.state?(0,g.m)(this,{supervisor:this.supervisor,onCreate:()=>this.fetchBackups()}):(0,m.Ys)(this,{title:this.supervisor.localize("backup.could_not_create"),text:this.supervisor.localize("backup.create_blocked_not_running","state",this.supervisor.info.state)})}},{kind:"get",static:!0,key:"styles",value:function(){return[v.Qx,w.l,d.iv`.table-header{display:flex;justify-content:space-between;align-items:center;height:58px;border-bottom:1px solid rgba(var(--rgb-primary-text-color),.12)}.header-toolbar{display:flex;justify-content:space-between;align-items:center;color:var(--secondary-text-color);position:relative;top:-4px}.selected-txt{font-weight:700;padding-left:16px;color:var(--primary-text-color)}.table-header .selected-txt{margin-top:20px}.header-toolbar .selected-txt{font-size:16px}.header-toolbar .header-btns{margin-right:-12px}.header-btns>ha-icon-button,.header-btns>mwc-button{margin:8px}`]}}]}}),d.oi);i()}catch(e){i(e)}}))},48259:(e,t,a)=>{a.r(t),a.d(t,{DialogHassioBackupUpload:()=>h});var i=a(17463),l=a(68144),o=a(79932),s=a(47181),d=(a(90806),a(5666),a(11654)),r=(a(76870),a(67622),a(60538)),n=a(41682),c=a(26765);(0,i.Z)([(0,o.Mo)("hassio-upload-backup")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"value",value:()=>null},{kind:"field",decorators:[(0,o.SB)()],key:"_uploading",value:()=>!1},{kind:"method",key:"render",value:function(){return l.dy` <ha-file-upload .hass="${this.hass}" .uploading="${this._uploading}" .icon="${"M20,6A2,2 0 0,1 22,8V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H10L12,6H20M10.75,13H14V17H16V13H19.25L15,8.75"}" accept="application/x-tar" label="Upload backup" @file-picked="${this._uploadFile}" auto-open-file-dialog></ha-file-upload> `}},{kind:"method",key:"_uploadFile",value:async function(e){const t=e.detail.files[0];if(["application/x-tar"].includes(t.type)){this._uploading=!0;try{const e=await(0,r.p_)(this.hass,t);(0,s.B)(this,"backup-uploaded",{backup:e.data})}catch(e){(0,c.Ys)(this,{title:"Upload failed",text:(0,n.js)(e),confirmText:"ok"})}finally{this._uploading=!1}}else(0,c.Ys)(this,{title:"Unsupported file format",text:"Please choose a Home Assistant backup file (.tar)",confirmText:"ok"})}}]}}),l.oi);let h=(0,i.Z)([(0,o.Mo)("dialog-hassio-backup-upload")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_dialogParams",value:void 0},{kind:"method",key:"showDialog",value:async function(e){this._dialogParams=e,await this.updateComplete}},{kind:"method",key:"closeDialog",value:function(){this._dialogParams&&!this._dialogParams.onboarding&&this._dialogParams.reloadBackup&&this._dialogParams.reloadBackup(),this._dialogParams=void 0,(0,s.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){var e,t,a;return this._dialogParams?l.dy` <ha-dialog open scrimClickAction escapeKeyAction hideActions .heading="${(null===(e=this.hass)||void 0===e?void 0:e.localize("ui.panel.page-onboarding.restore.upload_backup"))||"Upload backup"}" @closed="${this.closeDialog}"> <div slot="heading"> <ha-header-bar> <span slot="title">${(null===(t=this.hass)||void 0===t?void 0:t.localize("ui.panel.page-onboarding.restore.upload_backup"))||"Upload backup"}</span> <ha-icon-button .label="${(null===(a=this.hass)||void 0===a?void 0:a.localize("ui.common.close"))||"Close"}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}" slot="actionItems" dialogAction="cancel" dialogInitialFocus></ha-icon-button> </ha-header-bar> </div> <hassio-upload-backup @backup-uploaded="${this._backupUploaded}" .hass="${this.hass}"></hassio-upload-backup> </ha-dialog> `:l.Ld}},{kind:"method",key:"_backupUploaded",value:function(e){var t;const a=e.detail.backup;null===(t=this._dialogParams)||void 0===t||t.showBackup(a.slug),this.closeDialog()}},{kind:"get",static:!0,key:"styles",value:function(){return[d.yu,l.iv`ha-header-bar{--mdc-theme-on-primary:var(--primary-text-color);--mdc-theme-primary:var(--mdc-theme-surface);flex-shrink:0}@media all and (max-width:450px),all and (max-height:500px){ha-header-bar{--mdc-theme-primary:var(--app-header-background-color);--mdc-theme-on-primary:var(--app-header-text-color, white)}}`]}}]}}),l.oi)},97458:(e,t,a)=>{a.d(t,{k:()=>l});var i=a(47181);a(48259);const l=(e,t)=>{(0,i.B)(e,"show-dialog",{dialogTag:"dialog-hassio-backup-upload",dialogImport:()=>Promise.resolve().then(a.bind(a,48259)),dialogParams:t})}},6324:(e,t,a)=>{a.d(t,{U:()=>l});var i=a(47181);const l=(e,t)=>{(0,i.B)(e,"show-dialog",{dialogTag:"dialog-hassio-backup-location",dialogImport:()=>Promise.all([a.e(8597),a.e(8331),a.e(4783)]).then(a.bind(a,84783)),dialogParams:t})}},77828:(e,t,a)=>{a.d(t,{Y:()=>l});var i=a(47181);const l=(e,t)=>{(0,i.B)(e,"show-dialog",{dialogTag:"dialog-hassio-backup",dialogImport:()=>Promise.all([a.e(8133),a.e(8597),a.e(4411),a.e(7812),a.e(3281),a.e(9605)]).then(a.bind(a,19605)),dialogParams:t})}},46094:(e,t,a)=>{a.d(t,{m:()=>l});var i=a(47181);const l=(e,t)=>{(0,i.B)(e,"show-dialog",{dialogTag:"dialog-hassio-create-backup",dialogImport:()=>Promise.all([a.e(8133),a.e(8597),a.e(4411),a.e(7812),a.e(3281),a.e(5510)]).then(a.bind(a,35510)),dialogParams:t})}},26410:(e,t,a)=>{a.a(e,(async(e,i)=>{try{a.d(t,{Bt:()=>n});var l=a(22075),o=a(66477),s=a(4631),d=e([s]);s=(d.then?(await d)():d)[0];const r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],n=e=>e.first_weekday===o.FS.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(e.language).weekInfo.firstDay%7:(0,l.L)(e.language)%7:r.includes(e.first_weekday)?r.indexOf(e.first_weekday):1;i()}catch(e){i(e)}}))},5435:(e,t,a)=>{a.a(e,(async(e,i)=>{try{a.d(t,{G:()=>n});var l=a(14516),o=a(4631),s=a(96191),d=e([o,s]);[o,s]=d.then?(await d)():d;const r=(0,l.Z)((e=>new Intl.RelativeTimeFormat(e.language,{numeric:"auto"}))),n=(e,t,a,i=!0)=>{const l=(0,s.W)(e,a,t);return i?r(t).format(l.value,l.unit):Intl.NumberFormat(t.language,{style:"unit",unit:l.unit,unitDisplay:"long"}).format(Math.abs(l.value))};i()}catch(e){i(e)}}))},38346:(e,t,a)=>{a.d(t,{D:()=>i});const i=(e,t,a=!1)=>{let i;const l=(...l)=>{const o=a&&!i;clearTimeout(i),i=window.setTimeout((()=>{i=void 0,a||e(...l)}),t),o&&e(...l)};return l.cancel=()=>{clearTimeout(i)},l}},96191:(e,t,a)=>{a.a(e,(async(e,i)=>{try{a.d(t,{W:()=>u});var l=a(62308),o=a(59401),s=a(27296),d=a(26410),r=e([d]);d=(r.then?(await r)():r)[0];const n=1e3,c=60,h=60*c;function u(e,t=Date.now(),a,i={}){const r={...p,...i||{}},u=(+e-+t)/n;if(Math.abs(u)<r.second)return{value:Math.round(u),unit:"second"};const b=u/c;if(Math.abs(b)<r.minute)return{value:Math.round(b),unit:"minute"};const m=u/h;if(Math.abs(m)<r.hour)return{value:Math.round(m),unit:"hour"};const v=new Date(e),f=new Date(t);v.setHours(0,0,0,0),f.setHours(0,0,0,0);const k=(0,l.Z)(v,f);if(0===k)return{value:Math.round(m),unit:"hour"};if(Math.abs(k)<r.day)return{value:k,unit:"day"};const _=(0,d.Bt)(a),g=(0,o.Z)(v,{weekStartsOn:_}),y=(0,o.Z)(f,{weekStartsOn:_}),w=(0,s.Z)(g,y);if(0===w)return{value:k,unit:"day"};if(Math.abs(w)<r.week)return{value:w,unit:"week"};const x=v.getFullYear()-f.getFullYear(),$=12*x+v.getMonth()-f.getMonth();return 0===$?{value:w,unit:"week"}:Math.abs($)<r.month||0===x?{value:$,unit:"month"}:{value:Math.round(x),unit:"year"}}const p={second:45,minute:45,hour:22,day:5,week:4,month:11};i()}catch(b){i(b)}}))},81545:(e,t,a)=>{var i=a(17463),l=a(34541),o=a(47838),s=(a(65666),a(68144)),d=a(79932),r=a(38378);(0,i.Z)([(0,d.Mo)("ha-button-menu")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",key:r.gA,value:void 0},{kind:"field",decorators:[(0,d.Cb)()],key:"corner",value:()=>"BOTTOM_START"},{kind:"field",decorators:[(0,d.Cb)()],key:"menuCorner",value:()=>"START"},{kind:"field",decorators:[(0,d.Cb)({type:Number})],key:"x",value:()=>null},{kind:"field",decorators:[(0,d.Cb)({type:Number})],key:"y",value:()=>null},{kind:"field",decorators:[(0,d.Cb)({type:Boolean})],key:"multi",value:()=>!1},{kind:"field",decorators:[(0,d.Cb)({type:Boolean})],key:"activatable",value:()=>!1},{kind:"field",decorators:[(0,d.Cb)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,d.Cb)({type:Boolean})],key:"fixed",value:()=>!1},{kind:"field",decorators:[(0,d.IO)("mwc-menu",!0)],key:"_menu",value:void 0},{kind:"get",key:"items",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.items}},{kind:"get",key:"selected",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.selected}},{kind:"method",key:"focus",value:function(){var e,t;null!==(e=this._menu)&&void 0!==e&&e.open?this._menu.focusItemAtIndex(0):null===(t=this._triggerButton)||void 0===t||t.focus()}},{kind:"method",key:"render",value:function(){return s.dy` <div @click="${this._handleClick}"> <slot name="trigger" @slotchange="${this._setTriggerAria}"></slot> </div> <mwc-menu .corner="${this.corner}" .menuCorner="${this.menuCorner}" .fixed="${this.fixed}" .multi="${this.multi}" .activatable="${this.activatable}" .y="${this.y}" .x="${this.x}"> <slot></slot> </mwc-menu> `}},{kind:"method",key:"firstUpdated",value:function(e){(0,l.Z)((0,o.Z)(a.prototype),"firstUpdated",this).call(this,e),"rtl"===document.dir&&this.updateComplete.then((()=>{this.querySelectorAll("mwc-list-item").forEach((e=>{const t=document.createElement("style");t.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",e.shadowRoot.appendChild(t)}))}))}},{kind:"method",key:"_handleClick",value:function(){this.disabled||(this._menu.anchor=this,this._menu.show())}},{kind:"get",key:"_triggerButton",value:function(){return this.querySelector('ha-icon-button[slot="trigger"], mwc-button[slot="trigger"]')}},{kind:"method",key:"_setTriggerAria",value:function(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}},{kind:"get",static:!0,key:"styles",value:function(){return s.iv`:host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}`}}]}}),s.oi)},32511:(e,t,a)=>{var i=a(17463),l=a(58417),o=a(39274),s=a(68144),d=a(79932);(0,i.Z)([(0,d.Mo)("ha-checkbox")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value:()=>[o.W,s.iv`:host{--mdc-theme-secondary:var(--primary-color)}`]}]}}),l.A)},67622:(e,t,a)=>{var i=a(17463),l=a(34541),o=a(47838),s=a(31338),d=a(68144),r=a(79932),n=a(83448),c=a(47181);a(76870),a(5666);(0,i.Z)([(0,r.Mo)("ha-file-upload")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"accept",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"icon",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"value",value:()=>null},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"uploading",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean,attribute:"auto-open-file-dialog"})],key:"autoOpenFileDialog",value:()=>!1},{kind:"field",decorators:[(0,r.SB)()],key:"_drag",value:()=>!1},{kind:"field",decorators:[(0,r.IO)("#input")],key:"_input",value:void 0},{kind:"method",key:"firstUpdated",value:function(e){(0,l.Z)((0,o.Z)(a.prototype),"firstUpdated",this).call(this,e),this.autoOpenFileDialog&&this._openFilePicker()}},{kind:"method",key:"render",value:function(){var e;return d.dy` ${this.uploading?d.dy`<ha-circular-progress alt="Uploading" size="large" active></ha-circular-progress>`:d.dy` <label for="input" class="mdc-text-field mdc-text-field--filled ${(0,n.$)({"mdc-text-field--focused":this._drag,"mdc-text-field--with-leading-icon":Boolean(this.icon),"mdc-text-field--with-trailing-icon":Boolean(this.value)})}" @drop="${this._handleDrop}" @dragenter="${this._handleDragStart}" @dragover="${this._handleDragStart}" @dragleave="${this._handleDragEnd}" @dragend="${this._handleDragEnd}"> <span class="mdc-text-field__ripple"></span> <span class="mdc-floating-label ${this.value||this._drag?"mdc-floating-label--float-above":""}" id="label">${this.label}</span> ${this.icon?d.dy`<span class="mdc-text-field__icon mdc-text-field__icon--leading"> <ha-icon-button @click="${this._openFilePicker}" .path="${this.icon}"></ha-icon-button> </span>`:""} <div class="value">${this.value}</div> <input id="input" type="file" class="mdc-text-field__input file" accept="${this.accept}" @change="${this._handleFilePicked}" aria-labelledby="label"> ${this.value?d.dy`<span class="mdc-text-field__icon mdc-text-field__icon--trailing"> <ha-icon-button slot="suffix" @click="${this._clearValue}" .label="${(null===(e=this.hass)||void 0===e?void 0:e.localize("ui.common.close"))||"close"}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}"></ha-icon-button> </span>`:""} <span class="mdc-line-ripple ${this._drag?"mdc-line-ripple--active":""}"></span> </label> `} `}},{kind:"method",key:"_openFilePicker",value:function(){var e;null===(e=this._input)||void 0===e||e.click()}},{kind:"method",key:"_handleDrop",value:function(e){var t;e.preventDefault(),e.stopPropagation(),null!==(t=e.dataTransfer)&&void 0!==t&&t.files&&(0,c.B)(this,"file-picked",{files:e.dataTransfer.files}),this._drag=!1}},{kind:"method",key:"_handleDragStart",value:function(e){e.preventDefault(),e.stopPropagation(),this._drag=!0}},{kind:"method",key:"_handleDragEnd",value:function(e){e.preventDefault(),e.stopPropagation(),this._drag=!1}},{kind:"method",key:"_handleFilePicked",value:function(e){(0,c.B)(this,"file-picked",{files:e.target.files})}},{kind:"method",key:"_clearValue",value:function(e){e.preventDefault(),this.value=null,(0,c.B)(this,"change")}},{kind:"get",static:!0,key:"styles",value:function(){return[s.W,d.iv`:host{display:block}.mdc-text-field--filled{height:auto;padding-top:16px;cursor:pointer}.mdc-text-field--filled.mdc-text-field--with-trailing-icon{padding-top:28px}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field--filled.mdc-text-field--with-trailing-icon .mdc-text-field__icon{align-self:flex-end}.mdc-text-field__icon--leading{margin-bottom:12px;inset-inline-start:initial;inset-inline-end:0px;direction:var(--direction)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:scale(.75);top:8px}.mdc-floating-label{inset-inline-start:16px!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field--filled .mdc-floating-label{inset-inline-start:48px!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__icon--trailing{pointer-events:auto!important}.dragged:before{position:var(--layout-fit_-_position);top:var(--layout-fit_-_top);right:var(--layout-fit_-_right);bottom:var(--layout-fit_-_bottom);left:var(--layout-fit_-_left);background:currentColor;content:"";opacity:var(--dark-divider-opacity);pointer-events:none;border-radius:4px}.value{width:100%}input.file{display:none}img{max-width:100%;max-height:125px}ha-icon-button{--mdc-icon-button-size:24px;--mdc-icon-size:20px}ha-circular-progress{display:block;text-align-last:center}`]}}]}}),d.oi)},90806:(e,t,a)=>{var i=a(17463),l=a(44636),o=a(68144),s=a(79932);(0,i.Z)([(0,s.Mo)("ha-header-bar")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"method",key:"render",value:function(){return o.dy`<header class="mdc-top-app-bar"> <div class="mdc-top-app-bar__row"> <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start" id="navigation"> <slot name="navigationIcon"></slot> <span class="mdc-top-app-bar__title"> <slot name="title"></slot> </span> </section> <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" id="actions" role="toolbar"> <slot name="actionItems"></slot> </section> </div> </header>`}},{kind:"get",static:!0,key:"styles",value:function(){return[(0,o.$m)(l),o.iv`.mdc-top-app-bar__row{height:var(--header-height)}.mdc-top-app-bar{position:static;color:var(--mdc-theme-on-primary,#fff)}.mdc-top-app-bar__section.mdc-top-app-bar__section--align-start{flex:1}.mdc-top-app-bar__section.mdc-top-app-bar__section--align-end{flex:none}`]}}]}}),o.oi)},60538:(e,t,a)=>{a.d(t,{FZ:()=>c,Fk:()=>r,_P:()=>d,jc:()=>s,p_:()=>u,vU:()=>n,wb:()=>o,zU:()=>h});var i=a(63864),l=a(41682);const o={ssl:"SSL",homeassistant:"Configuration","addons/local":"Local add-ons",media:"Media",share:"Share"},s=async e=>{if((0,i.I)(e.config.version,2021,2,4)){return(await e.callWS({type:"supervisor/api",endpoint:"/"+((0,i.I)(e.config.version,2021,9)?"backups":"snapshots"),method:"get"}))[(0,i.I)(e.config.version,2021,9)?"backups":"snapshots"]}return(0,l.rY)(await e.callApi("GET","hassio/"+((0,i.I)(e.config.version,2021,9)?"backups":"snapshots"))).snapshots},d=async(e,t)=>{if(e)return(0,i.I)(e.config.version,2021,2,4)?e.callWS({type:"supervisor/api",endpoint:`/${(0,i.I)(e.config.version,2021,9)?"backups":"snapshots"}/${t}/info`,method:"get"}):(0,l.rY)(await e.callApi("GET",`hassio/${(0,i.I)(e.config.version,2021,9)?"backups":"snapshots"}/${t}/info`));const a=await fetch(`/api/hassio/backups/${t}/info`,{method:"GET"});return(await a.json()).data},r=async e=>{(0,i.I)(e.config.version,2021,2,4)?await e.callWS({type:"supervisor/api",endpoint:`/${(0,i.I)(e.config.version,2021,9)?"backups":"snapshots"}/reload`,method:"post"}):await e.callApi("POST",`hassio/${(0,i.I)(e.config.version,2021,9)?"backups":"snapshots"}/reload`)},n=async(e,t)=>{(0,i.I)(e.config.version,2021,2,4)?await e.callWS({type:"supervisor/api",endpoint:`/${(0,i.I)(e.config.version,2021,9)?"backups":"snapshots"}/new/full`,method:"post",timeout:null,data:t}):await e.callApi("POST",`hassio/${(0,i.I)(e.config.version,2021,9)?"backups":"snapshots"}/new/full`,t)},c=async(e,t)=>{(0,i.I)(e.config.version,2021,2,4)?await e.callWS({type:"supervisor/api",endpoint:"/"+((0,i.I)(e.config.version,2021,9)?`backups/${t}`:`snapshots/${t}/remove`),method:(0,i.I)(e.config.version,2021,9)?"delete":"post"}):await e.callApi("POST",`hassio/${(0,i.I)(e.config.version,2021,9)?"backups":"snapshots"}/${t}/remove`)},h=async(e,t)=>{(0,i.I)(e.config.version,2021,2,4)?await e.callWS({type:"supervisor/api",endpoint:`/${(0,i.I)(e.config.version,2021,9)?"backups":"snapshots"}/new/partial`,method:"post",timeout:null,data:t}):await e.callApi("POST",`hassio/${(0,i.I)(e.config.version,2021,9)?"backups":"snapshots"}/new/partial`,t)},u=async(e,t)=>{const a=new FormData;let l;if(a.append("file",t),l=e?await e.fetchWithAuth(`/api/hassio/${(0,i.I)(e.config.version,2021,9)?"backups":"snapshots"}/new/upload`,{method:"POST",body:a}):await fetch("/api/hassio/backups/new/upload",{method:"POST",body:a}),413===l.status)throw new Error("Uploaded backup is too large");if(200!==l.status)throw new Error(`${l.status} ${l.statusText}`);return l.json()}},57251:(e,t,a)=>{var i=a(17463),l=(a(14271),a(45233),a(68144)),o=a(79932),s=a(47181),d=a(87744),r=a(34541),n=a(47838),c=a(3239),h=a(83448),u=a(30153),p=a(76538),b=a(14516),m=a(75117),v=a(38346),f=a(96151),k=a(11654),_=a(46134),g=(a(32511),a(52039),a(65040),a(93217));let y;(0,i.Z)([(0,o.Mo)("ha-data-table")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:Object})],key:"columns",value:()=>({})},{kind:"field",decorators:[(0,o.Cb)({type:Array})],key:"data",value:()=>[]},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"selectable",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"clickable",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"hasFab",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"appendRow",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:Boolean,attribute:"auto-height"})],key:"autoHeight",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:String})],key:"id",value:()=>"id"},{kind:"field",decorators:[(0,o.Cb)({type:String})],key:"noDataText",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:String})],key:"searchLabel",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:Boolean,attribute:"no-label-float"})],key:"noLabelFloat",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:String})],key:"filter",value:()=>""},{kind:"field",decorators:[(0,o.SB)()],key:"_filterable",value:()=>!1},{kind:"field",decorators:[(0,o.SB)()],key:"_filter",value:()=>""},{kind:"field",decorators:[(0,o.SB)()],key:"_sortColumn",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_sortDirection",value:()=>null},{kind:"field",decorators:[(0,o.SB)()],key:"_filteredData",value:()=>[]},{kind:"field",decorators:[(0,o.SB)()],key:"_headerHeight",value:()=>0},{kind:"field",decorators:[(0,o.IO)("slot[name='header']")],key:"_header",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_items",value:()=>[]},{kind:"field",key:"_checkableRowsCount",value:void 0},{kind:"field",key:"_checkedRows",value:()=>[]},{kind:"field",key:"_sortColumns",value:()=>({})},{kind:"field",key:"curRequest",value:()=>0},{kind:"field",decorators:[(0,m.i)(".scroller")],key:"_savedScrollPos",value:void 0},{kind:"field",key:"_debounceSearch",value(){return(0,v.D)((e=>{this._filter=e}),100,!1)}},{kind:"method",key:"clearSelection",value:function(){this._checkedRows=[],this._checkedRowsChanged()}},{kind:"method",key:"connectedCallback",value:function(){(0,r.Z)((0,n.Z)(i.prototype),"connectedCallback",this).call(this),this._items.length&&(this._items=[...this._items])}},{kind:"method",key:"firstUpdated",value:function(){this.updateComplete.then((()=>this._calcTableHeight()))}},{kind:"method",key:"willUpdate",value:function(e){if((0,r.Z)((0,n.Z)(i.prototype),"willUpdate",this).call(this,e),this.hasUpdated||(0,_.o)(),e.has("columns")){this._filterable=Object.values(this.columns).some((e=>e.filterable));for(const e in this.columns)if(this.columns[e].direction){this._sortDirection=this.columns[e].direction,this._sortColumn=e;break}const e=(0,c.Z)(this.columns);Object.values(e).forEach((e=>{delete e.title,delete e.template})),this._sortColumns=e}e.has("filter")&&this._debounceSearch(this.filter),e.has("data")&&(this._checkableRowsCount=this.data.filter((e=>!1!==e.selectable)).length),(e.has("data")||e.has("columns")||e.has("_filter")||e.has("_sortColumn")||e.has("_sortDirection"))&&this._sortFilterData()}},{kind:"method",key:"render",value:function(){return l.dy` <div class="mdc-data-table"> <slot name="header" @slotchange="${this._calcTableHeight}"> ${this._filterable?l.dy` <div class="table-header"> <search-input .hass="${this.hass}" @value-changed="${this._handleSearchChange}" .label="${this.searchLabel}" .noLabelFloat="${this.noLabelFloat}"></search-input> </div> `:""} </slot> <div class="mdc-data-table__table ${(0,h.$)({"auto-height":this.autoHeight})}" role="table" aria-rowcount="${this._filteredData.length+1}" style="${(0,p.V)({height:this.autoHeight?53*(this._filteredData.length||1)+53+"px":`calc(100% - ${this._headerHeight}px)`})}"> <div class="mdc-data-table__header-row" role="row" aria-rowindex="1"> ${this.selectable?l.dy` <div class="mdc-data-table__header-cell mdc-data-table__header-cell--checkbox" role="columnheader"> <ha-checkbox class="mdc-data-table__row-checkbox" @change="${this._handleHeaderRowCheckboxClick}" .indeterminate="${this._checkedRows.length&&this._checkedRows.length!==this._checkableRowsCount}" .checked="${this._checkedRows.length&&this._checkedRows.length===this._checkableRowsCount}"> </ha-checkbox> </div> `:""} ${Object.entries(this.columns).map((([e,t])=>{if(t.hidden)return"";const a=e===this._sortColumn,i={"mdc-data-table__header-cell--numeric":"numeric"===t.type,"mdc-data-table__header-cell--icon":"icon"===t.type,"mdc-data-table__header-cell--icon-button":"icon-button"===t.type,"mdc-data-table__header-cell--overflow-menu":"overflow-menu"===t.type,sortable:Boolean(t.sortable),"not-sorted":Boolean(t.sortable&&!a),grows:Boolean(t.grows)};return l.dy` <div aria-label="${t.label}" class="mdc-data-table__header-cell ${(0,h.$)(i)}" style="${t.width?(0,p.V)({[t.grows?"minWidth":"width"]:t.width,maxWidth:t.maxWidth||""}):""}" role="columnheader" aria-sort="${(0,u.o)(a?"desc"===this._sortDirection?"descending":"ascending":void 0)}" @click="${this._handleHeaderClick}" .columnId="${e}"> ${t.sortable?l.dy` <ha-svg-icon .path="${a&&"desc"===this._sortDirection?"M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z":"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z"}"></ha-svg-icon> `:""} <span>${t.title}</span> </div> `}))} </div> ${this._filteredData.length?l.dy` <lit-virtualizer scroller class="mdc-data-table__content scroller ha-scrollbar" @scroll="${this._saveScrollPos}" .items="${this._items}" .renderItem="${this._renderRow}"></lit-virtualizer> `:l.dy` <div class="mdc-data-table__content"> <div class="mdc-data-table__row" role="row"> <div class="mdc-data-table__cell grows center" role="cell"> ${this.noDataText||"No data"} </div> </div> </div> `} </div> </div> `}},{kind:"field",key:"_renderRow",value(){return(e,t)=>e?e.append?l.dy`<div class="mdc-data-table__row">${e.content}</div>`:e.empty?l.dy`<div class="mdc-data-table__row"></div>`:l.dy` <div aria-rowindex="${t+2}" role="row" .rowId="${e[this.id]}" @click="${this._handleRowClick}" class="mdc-data-table__row ${(0,h.$)({"mdc-data-table__row--selected":this._checkedRows.includes(String(e[this.id])),clickable:this.clickable})}" aria-selected="${(0,u.o)(!!this._checkedRows.includes(String(e[this.id]))||void 0)}" .selectable="${!1!==e.selectable}"> ${this.selectable?l.dy` <div class="mdc-data-table__cell mdc-data-table__cell--checkbox" role="cell"> <ha-checkbox class="mdc-data-table__row-checkbox" @change="${this._handleRowCheckboxClick}" .rowId="${e[this.id]}" .disabled="${!1===e.selectable}" .checked="${this._checkedRows.includes(String(e[this.id]))}"> </ha-checkbox> </div> `:""} ${Object.entries(this.columns).map((([t,a])=>a.hidden?"":l.dy` <div role="${a.main?"rowheader":"cell"}" class="mdc-data-table__cell ${(0,h.$)({"mdc-data-table__cell--flex":"flex"===a.type,"mdc-data-table__cell--numeric":"numeric"===a.type,"mdc-data-table__cell--icon":"icon"===a.type,"mdc-data-table__cell--icon-button":"icon-button"===a.type,"mdc-data-table__cell--overflow-menu":"overflow-menu"===a.type,grows:Boolean(a.grows),forceLTR:Boolean(a.forceLTR)})}" style="${a.width?(0,p.V)({[a.grows?"minWidth":"width"]:a.width,maxWidth:a.maxWidth?a.maxWidth:""}):""}"> ${a.template?a.template(e[t],e):e[t]} </div> `))} </div> `:l.Ld}},{kind:"method",key:"_sortFilterData",value:async function(){const e=(new Date).getTime();this.curRequest++;const t=this.curRequest;let i=this.data;this._filter&&(i=await this._memFilterData(this.data,this._sortColumns,this._filter));const l=this._sortColumn?((e,t,i,l)=>(y||(y=(0,g.Ud)(new Worker(new URL(a.p+a.u(8440),a.b)))),y.sortData(e,t,i,l)))(i,this._sortColumns[this._sortColumn],this._sortDirection,this._sortColumn):i,[o]=await Promise.all([l,f.y]),s=(new Date).getTime()-e;if(s<100&&await new Promise((e=>{setTimeout(e,100-s)})),this.curRequest===t){if(this.appendRow||this.hasFab){const e=[...o];this.appendRow&&e.push({append:!0,content:this.appendRow}),this.hasFab&&e.push({empty:!0}),this._items=e}else this._items=o;this._filteredData=o}}},{kind:"field",key:"_memFilterData",value:()=>(0,b.Z)(((e,t,i)=>((e,t,i)=>(y||(y=(0,g.Ud)(new Worker(new URL(a.p+a.u(7764),a.b)))),y.filterData(e,t,i)))(e,t,i)))},{kind:"method",key:"_handleHeaderClick",value:function(e){const t=e.currentTarget.columnId;this.columns[t].sortable&&(this._sortDirection&&this._sortColumn===t?"asc"===this._sortDirection?this._sortDirection="desc":this._sortDirection=null:this._sortDirection="asc",this._sortColumn=null===this._sortDirection?void 0:t,(0,s.B)(this,"sorting-changed",{column:t,direction:this._sortDirection}))}},{kind:"method",key:"_handleHeaderRowCheckboxClick",value:function(e){e.target.checked?(this._checkedRows=this._filteredData.filter((e=>!1!==e.selectable)).map((e=>e[this.id])),this._checkedRowsChanged()):(this._checkedRows=[],this._checkedRowsChanged())}},{kind:"field",key:"_handleRowCheckboxClick",value(){return e=>{const t=e.currentTarget,a=t.rowId;if(t.checked){if(this._checkedRows.includes(a))return;this._checkedRows=[...this._checkedRows,a]}else this._checkedRows=this._checkedRows.filter((e=>e!==a));this._checkedRowsChanged()}}},{kind:"field",key:"_handleRowClick",value(){return e=>{const t=e.target;if(["HA-CHECKBOX","MWC-BUTTON"].includes(t.tagName))return;const a=e.currentTarget.rowId;(0,s.B)(this,"row-click",{id:a},{bubbles:!1})}}},{kind:"method",key:"_checkedRowsChanged",value:function(){this._items.length&&(this._items=[...this._items]),(0,s.B)(this,"selection-changed",{value:this._checkedRows})}},{kind:"method",key:"_handleSearchChange",value:function(e){this.filter||this._debounceSearch(e.detail.value)}},{kind:"method",key:"_calcTableHeight",value:async function(){this.autoHeight||(await this.updateComplete,this._headerHeight=this._header.clientHeight)}},{kind:"method",decorators:[(0,o.hO)({passive:!0})],key:"_saveScrollPos",value:function(e){this._savedScrollPos=e.target.scrollTop}},{kind:"get",static:!0,key:"styles",value:function(){return[k.$c,l.iv`:host{height:100%}.mdc-data-table__content{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.25rem;font-weight:400;letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit}.mdc-data-table{background-color:var(--data-table-background-color);border-radius:4px;border-width:1px;border-style:solid;border-color:var(--divider-color);display:inline-flex;flex-direction:column;box-sizing:border-box;overflow:hidden}.mdc-data-table__row--selected{background-color:rgba(var(--rgb-primary-color),.04)}.mdc-data-table__row{display:flex;width:100%;height:52px}.mdc-data-table__row~.mdc-data-table__row{border-top:1px solid var(--divider-color)}.mdc-data-table__row.clickable:not(.mdc-data-table__row--selected):hover{background-color:rgba(var(--rgb-primary-text-color),.04)}.mdc-data-table__header-cell{color:var(--primary-text-color)}.mdc-data-table__cell{color:var(--primary-text-color)}.mdc-data-table__header-row{height:56px;display:flex;width:100%;border-bottom:1px solid var(--divider-color);overflow-x:auto}.mdc-data-table__header-row::-webkit-scrollbar{display:none}.mdc-data-table__cell,.mdc-data-table__header-cell{padding-right:16px;padding-left:16px;align-self:center;overflow:hidden;text-overflow:ellipsis;flex-shrink:0;box-sizing:border-box}.mdc-data-table__cell.mdc-data-table__cell--flex{display:flex;overflow:initial}.mdc-data-table__cell.mdc-data-table__cell--icon{overflow:initial}.mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox{padding-left:16px;padding-right:0;width:60px}:host([dir=rtl]) .mdc-data-table__cell--checkbox,:host([dir=rtl]) .mdc-data-table__header-cell--checkbox{padding-left:0;padding-right:16px}.mdc-data-table__table{height:100%;width:100%;border:0;white-space:nowrap}.mdc-data-table__cell{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.25rem;font-weight:400;letter-spacing:.0178571429em;text-decoration:inherit;text-transform:inherit}.mdc-data-table__cell a{color:inherit;text-decoration:none}.mdc-data-table__cell--numeric{text-align:right}:host([dir=rtl]) .mdc-data-table__cell--numeric{text-align:left}.mdc-data-table__cell--icon{color:var(--secondary-text-color);text-align:center}.mdc-data-table__cell--icon,.mdc-data-table__header-cell--icon{width:54px}.mdc-data-table__cell--icon img{width:24px;height:24px}.mdc-data-table__header-cell.mdc-data-table__header-cell--icon{text-align:center}.mdc-data-table__header-cell.sortable.mdc-data-table__header-cell--icon:hover,.mdc-data-table__header-cell.sortable.mdc-data-table__header-cell--icon:not(.not-sorted){text-align:left}:host([dir=rtl]) .mdc-data-table__header-cell.sortable.mdc-data-table__header-cell--icon:hover,:host([dir=rtl]) .mdc-data-table__header-cell.sortable.mdc-data-table__header-cell--icon:not(.not-sorted){text-align:right}.mdc-data-table__cell--icon:first-child ha-icon,.mdc-data-table__cell--icon:first-child ha-state-icon,.mdc-data-table__cell--icon:first-child ha-svg-icon,.mdc-data-table__cell--icon:first-child img{margin-left:8px}:host([dir=rtl]) .mdc-data-table__cell--icon:first-child ha-icon,:host([dir=rtl]) .mdc-data-table__cell--icon:first-child ha-state-icon,:host([dir=rtl]) .mdc-data-table__cell--icon:first-child ha-svg-icon :host([dir=rtl]) .mdc-data-table__cell--icon:first-child img{margin-left:auto;margin-right:8px}.mdc-data-table__cell--icon:first-child state-badge{margin-right:-8px}:host([dir=rtl]) .mdc-data-table__cell--icon:first-child state-badge{margin-right:auto;margin-left:-8px}.mdc-data-table__cell--icon-button,.mdc-data-table__cell--overflow-menu,.mdc-data-table__header-cell--icon-button,.mdc-data-table__header-cell--overflow-menu{padding:8px}.mdc-data-table__cell--icon-button,.mdc-data-table__header-cell--icon-button{width:56px}.mdc-data-table__cell--icon-button,.mdc-data-table__cell--overflow-menu{color:var(--secondary-text-color);text-overflow:clip}.mdc-data-table__cell--icon-button:first-child,.mdc-data-table__cell--icon-button:last-child,.mdc-data-table__header-cell--icon-button:first-child,.mdc-data-table__header-cell--icon-button:last-child{width:64px}.mdc-data-table__cell--icon-button:first-child,.mdc-data-table__cell--overflow-menu:first-child,.mdc-data-table__header-cell--icon-button:first-child,.mdc-data-table__header-cell--overflow-menu:first-child{padding-left:16px}:host([dir=rtl]) .mdc-data-table__cell--overflow-menu:first-child,:host([dir=rtl]) .mdc-data-table__header-cell--overflow-menu:first-child{padding-left:8px;padding-right:16px}.mdc-data-table__cell--icon-button:last-child,.mdc-data-table__cell--overflow-menu:last-child,.mdc-data-table__header-cell--icon-button:last-child,.mdc-data-table__header-cell--overflow-menu:last-child{padding-right:16px}:host([dir=rtl]) .mdc-data-table__cell--icon-button:last-child,:host([dir=rtl]) .mdc-data-table__cell--overflow-menu:last-child,:host([dir=rtl]) .mdc-data-table__header-cell--icon-button:last-child,:host([dir=rtl]) .mdc-data-table__header-cell--overflow-menu:last-child{padding-right:8px;padding-left:16px}.mdc-data-table__cell--overflow-menu,.mdc-data-table__header-cell--overflow-menu{overflow:initial}.mdc-data-table__cell--icon-button a{color:var(--secondary-text-color)}.mdc-data-table__header-cell{font-family:Roboto,sans-serif;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-size:.875rem;line-height:1.375rem;font-weight:500;letter-spacing:.0071428571em;text-decoration:inherit;text-transform:inherit;text-align:left}:host([dir=rtl]) .mdc-data-table__header-cell{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}.mdc-data-table__header-cell--numeric.sortable:hover,.mdc-data-table__header-cell--numeric.sortable:not(.not-sorted){text-align:left}:host([dir=rtl]) .mdc-data-table__header-cell--numeric{text-align:left}:host([dir=rtl]) .mdc-data-table__header-cell--numeric.sortable:hover,:host([dir=rtl]) .mdc-data-table__header-cell--numeric.sortable:not(.not-sorted){text-align:right}:host{display:block}.mdc-data-table{display:block;border-width:var(--data-table-border-width,1px);height:100%}.mdc-data-table__header-cell{overflow:hidden;position:relative}.mdc-data-table__header-cell span{position:relative;left:0px}:host([dir=rtl]) .mdc-data-table__header-cell span{left:auto;right:0px}.mdc-data-table__header-cell.sortable{cursor:pointer}.mdc-data-table__header-cell>*{transition:left .2s ease}:host([dir=rtl]) .mdc-data-table__header-cell>*{transition:right .2s ease}.mdc-data-table__header-cell ha-svg-icon{top:-3px;position:absolute}.mdc-data-table__header-cell.not-sorted ha-svg-icon{left:-20px}:host([dir=rtl]) .mdc-data-table__header-cell.not-sorted ha-svg-icon{right:-20px}.mdc-data-table__header-cell.sortable.not-sorted:hover span,.mdc-data-table__header-cell.sortable:not(.not-sorted) span{left:24px}:host([dir=rtl]) .mdc-data-table__header-cell.sortable.not-sorted:hover span,:host([dir=rtl]) .mdc-data-table__header-cell.sortable:not(.not-sorted) span{left:auto;right:24px}.mdc-data-table__header-cell.sortable:hover.not-sorted ha-svg-icon,.mdc-data-table__header-cell.sortable:not(.not-sorted) ha-svg-icon{left:12px}:host([dir=rtl]) .mdc-data-table__header-cell.sortable:hover.not-sorted ha-svg-icon,:host([dir=rtl]) .mdc-data-table__header-cell.sortable:not(.not-sorted) ha-svg-icon{left:auto;right:12px}.table-header{border-bottom:1px solid var(--divider-color)}search-input{display:block;flex:1}slot[name=header]{display:block}.center{text-align:center}.secondary{color:var(--secondary-text-color)}.scroller{height:calc(100% - 57px);overflow:overlay!important}.mdc-data-table__table.auto-height .scroller{overflow-y:hidden!important}.grows{flex-grow:1;flex-shrink:1}.forceLTR{direction:ltr}.clickable{cursor:pointer}lit-virtualizer{contain:size layout!important;overscroll-behavior:contain}`]}}]}}),l.oi);a(49703);(0,i.Z)([(0,o.Mo)("hass-tabs-subpage-data-table")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"localizeFunc",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"supervisor",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean,attribute:"main-page"})],key:"mainPage",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Object})],key:"columns",value:()=>({})},{kind:"field",decorators:[(0,o.Cb)({type:Array})],key:"data",value:()=>[]},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"selectable",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"clickable",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"hasFab",value:()=>!1},{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"appendRow",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:String})],key:"id",value:()=>"id"},{kind:"field",decorators:[(0,o.Cb)({type:String})],key:"filter",value:()=>""},{kind:"field",decorators:[(0,o.Cb)()],key:"searchLabel",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:Array})],key:"activeFilters",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"hiddenLabel",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:Number})],key:"numHidden",value:()=>0},{kind:"field",decorators:[(0,o.Cb)({type:String,attribute:"back-path"})],key:"backPath",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"backCallback",value:void 0},{kind:"field",decorators:[(0,o.Cb)({type:String})],key:"noDataText",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"route",value:void 0},{kind:"field",decorators:[(0,o.Cb)()],key:"tabs",value:()=>[]},{kind:"field",decorators:[(0,o.Cb)({type:Boolean})],key:"hideFilterMenu",value:()=>!1},{kind:"field",decorators:[(0,o.IO)("ha-data-table",!0)],key:"_dataTable",value:void 0},{kind:"method",key:"clearSelection",value:function(){this._dataTable.clearSelection()}},{kind:"method",key:"render",value:function(){const e=this.numHidden?this.hiddenLabel||this.hass.localize("ui.components.data-table.hidden","number",this.numHidden)||this.numHidden:void 0,t=this.activeFilters?l.dy`${this.hass.localize("ui.components.data-table.filtering_by")} ${this.activeFilters.join(", ")} ${e?`(${e})`:""}`:e,a=l.dy`<search-input .hass="${this.hass}" .filter="${this.filter}" .suffix="${!this.narrow}" @value-changed="${this._handleSearchChange}" .label="${this.searchLabel||this.hass.localize("ui.components.data-table.search")}"> ${this.narrow?"":l.dy`<div class="filters" slot="suffix" @click="${this._preventDefault}"> ${t?l.dy`<div class="active-filters"> ${t} <mwc-button @click="${this._clearFilter}"> ${this.hass.localize("ui.components.data-table.clear")} </mwc-button> </div>`:""} <slot name="filter-menu"></slot> </div>`} </search-input>`;return l.dy` <hass-tabs-subpage .hass="${this.hass}" .localizeFunc="${this.localizeFunc}" .narrow="${this.narrow}" .isWide="${this.isWide}" .backPath="${this.backPath}" .backCallback="${this.backCallback}" .route="${this.route}" .tabs="${this.tabs}" .mainPage="${this.mainPage}" .supervisor="${this.supervisor}"> ${this.hideFilterMenu?"":l.dy` <div slot="toolbar-icon"> ${this.narrow?l.dy` <div class="filter-menu"> ${this.numHidden||this.activeFilters?l.dy`<span class="badge">${this.numHidden||"!"}</span>`:""} <slot name="filter-menu"></slot> </div> `:""}<slot name="toolbar-icon"></slot> </div> `} ${this.narrow?l.dy` <div slot="header"> <slot name="header"> <div class="search-toolbar">${a}</div> </slot> </div> `:""} <ha-data-table .hass="${this.hass}" .columns="${this.columns}" .data="${this.data}" .filter="${this.filter}" .selectable="${this.selectable}" .hasFab="${this.hasFab}" .id="${this.id}" .noDataText="${this.noDataText}" .dir="${(0,d.Zu)(this.hass)}" .clickable="${this.clickable}" .appendRow="${this.appendRow}"> ${this.narrow?l.dy` <div slot="header"></div> `:l.dy` <div slot="header"> <slot name="header"> <div class="table-header">${a}</div> </slot> </div> `} </ha-data-table> <div slot="fab"><slot name="fab"></slot></div> </hass-tabs-subpage> `}},{kind:"method",key:"_preventDefault",value:function(e){e.preventDefault()}},{kind:"method",key:"_handleSearchChange",value:function(e){this.filter!==e.detail.value&&(this.filter=e.detail.value,(0,s.B)(this,"search-changed",{value:this.filter}))}},{kind:"method",key:"_clearFilter",value:function(){(0,s.B)(this,"clear-filter")}},{kind:"get",static:!0,key:"styles",value:function(){return l.iv`ha-data-table{width:100%;height:100%;--data-table-border-width:0}:host(:not([narrow])) ha-data-table{height:calc(100vh - 1px - var(--header-height));display:block}:host([narrow]) hass-tabs-subpage{--main-title-margin:0}.table-header{display:flex;align-items:center;--mdc-shape-small:0;height:56px}.search-toolbar{display:flex;align-items:center;color:var(--secondary-text-color)}search-input{--mdc-text-field-fill-color:var(--sidebar-background-color);--mdc-text-field-idle-line-color:var(--divider-color);--text-field-overflow:visible;z-index:5}.table-header search-input{display:block;position:absolute;top:0;right:0;left:0}.search-toolbar search-input{display:block;width:100%;color:var(--secondary-text-color);--mdc-ripple-color:transparant}.filters{--mdc-text-field-fill-color:var(--input-fill-color);--mdc-text-field-idle-line-color:var(--input-idle-line-color);--mdc-shape-small:4px;--text-field-overflow:initial;display:flex;justify-content:flex-end;color:var(--primary-text-color)}.active-filters{color:var(--primary-text-color);position:relative;display:flex;align-items:center;padding:2px 2px 2px 8px;margin-left:4px;margin-inline-start:4px;margin-inline-end:initial;font-size:14px;width:max-content;cursor:initial;direction:var(--direction)}.active-filters ha-svg-icon{color:var(--primary-color)}.active-filters mwc-button{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;direction:var(--direction)}.active-filters::before{background-color:var(--primary-color);opacity:.12;border-radius:4px;position:absolute;top:0;right:0;bottom:0;left:0;content:""}.badge{min-width:20px;box-sizing:border-box;border-radius:50%;font-weight:400;background-color:var(--primary-color);line-height:20px;text-align:center;padding:0px 4px;color:var(--text-primary-color);position:absolute;right:0;top:4px;font-size:.65em}.filter-menu{position:relative}`}}]}}),l.oi)},4631:(e,t,a)=>{a.a(e,(async(e,i)=>{try{a.r(t);var l=a(43170),o=a(27499),s=a(32812),d=a(27815),r=a(64532),n=a(72100),c=a(24517);const e=async()=>{const e=(0,n.sS)(),t=[];(0,s.Y)()&&await Promise.all([a.e(7021),a.e(8196)]).then(a.bind(a,48196)),(0,d.Y)(e)&&t.push(Promise.all([a.e(7021),a.e(655)]).then(a.bind(a,20655))),(0,r.Y)(e)&&t.push(Promise.all([a.e(7021),a.e(759)]).then(a.bind(a,20759))),(0,l.Y)(e)&&t.push(Promise.all([a.e(7021),a.e(6554)]).then(a.bind(a,76554)).then((()=>a.e(6042).then(a.t.bind(a,6042,23))))),(0,o.Yq)(e)&&t.push(Promise.all([a.e(7021),a.e(2684)]).then(a.bind(a,72684))),0!==t.length&&await Promise.all(t).then((()=>(0,c.n)(e)))};await e(),i()}catch(e){i(e)}}),1)},44281:(e,t,a)=>{a.d(t,{j:()=>i});const i=async()=>{try{return void new ResizeObserver((()=>{}))}catch(e){window.ResizeObserver=(await Promise.all([a.e(1246),a.e(3467)]).then(a.bind(a,43467))).default}}},46134:(e,t,a)=>{a.d(t,{o:()=>l});var i=a(44281);const l=async()=>{await(0,i.j)(),await Promise.all([a.e(1246),a.e(3998)]).then(a.bind(a,83998))}}}]);
//# sourceMappingURL=2853-T1icpMwWbzo.js.map