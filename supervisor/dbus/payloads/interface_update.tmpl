{
    'connection':
        {
            'id': <'{{interface.id}}'>,
            'type': <'{{interface.type}}'>,
            'uuid': <'{{interface.uuid}}'>
        },

{% if options.get("method") == "auto" %}
    'ipv4':
        {
            'method': <'auto'>
        }
{% else %}
    'ipv4':
        {
            'method': <'manual'>,
            'dns': <[uint32 {{ options.get("dns", interface.nameservers) | list | join(",") }}]>,
            'address-data': <[
                {
                    'address': <'{{ options.get("address", interface.ip_address) }}'>,
                    'prefix': <uint32 {{ options.get("prefix", interface.prefix) }}>
                }]>,
            'gateway': <'{{ options.get("gateway", interface.gateway) }}'>
        }
{% endif %}
{% if interface.type == "wireless" %}
    ,
    '802-11-wireless':
        {
            'security': <'802-11-wireless-security'>,
            'ssid': <[byte {{ wifi["ssid"] }}]>
            'mode': <'{{ interface.wifi.mode }}'>

        },
    '802-11-wireless-security':
        {
            'auth-alg': <'{{ wifi["auth-alg"] }}'>,
            'key-mgmt': <'{{ wifi["key-mgmt"] }}'>
            {% if interface.wifi.psk %}
            'psk': <'{{ interface.wifi.psk }}'>
            {% endif %}
        }
{% endif %}
}